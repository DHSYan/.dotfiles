/** GENERATED BY OBSIDIAN-PLUGIN-CLI, DO NOT EDIT */
var De=Object.create;var Y=Object.defineProperty;var be=Object.getOwnPropertyDescriptor;var ke=Object.getOwnPropertyNames;var Te=Object.getPrototypeOf,Fe=Object.prototype.hasOwnProperty;var V=t=>Y(t,"__esModule",{value:!0});var Pe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Me=(t,e)=>{V(t);for(var n in e)Y(t,n,{get:e[n],enumerable:!0})},Ee=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ke(e))!Fe.call(t,o)&&o!=="default"&&Y(t,o,{get:()=>e[o],enumerable:!(n=be(e,o))||n.enumerable});return t},F=t=>Ee(V(Y(t!=null?De(Te(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var f=(t,e,n)=>new Promise((o,a)=>{var i=u=>{try{d(n.next(u))}catch(s){a(s)}},l=u=>{try{d(n.throw(u))}catch(s){a(s)}},d=u=>u.done?o(u.value):Promise.resolve(u.value).then(i,l);d((n=n.apply(t,e)).next())});var U=Pe(r=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var c=require("obsidian"),R="YYYY-MM-DD",K="gggg-[W]ww",$="YYYY-MM",j="YYYY-[Q]Q",G="YYYY";function E(t){let e=window.app.plugins.getPlugin("periodic-notes");return e&&e.settings?.[t]?.enabled}function O(){try{let{internalPlugins:t,plugins:e}=window.app;if(E("daily")){let{format:i,folder:l,template:d}=e.getPlugin("periodic-notes")?.settings?.daily||{};return{format:i||R,folder:l?.trim()||"",template:d?.trim()||""}}let{folder:n,format:o,template:a}=t.getPluginById("daily-notes")?.instance?.options||{};return{format:o||R,folder:n?.trim()||"",template:a?.trim()||""}}catch(t){console.info("No custom daily note settings found!",t)}}function A(){try{let t=window.app.plugins,e=t.getPlugin("calendar")?.options,n=t.getPlugin("periodic-notes")?.settings?.weekly;if(E("weekly"))return{format:n.format||K,folder:n.folder?.trim()||"",template:n.template?.trim()||""};let o=e||{};return{format:o.weeklyNoteFormat||K,folder:o.weeklyNoteFolder?.trim()||"",template:o.weeklyNoteTemplate?.trim()||""}}catch(t){console.info("No custom weekly note settings found!",t)}}function _(){let t=window.app.plugins;try{let e=E("monthly")&&t.getPlugin("periodic-notes")?.settings?.monthly||{};return{format:e.format||$,folder:e.folder?.trim()||"",template:e.template?.trim()||""}}catch(e){console.info("No custom monthly note settings found!",e)}}function S(){let t=window.app.plugins;try{let e=E("quarterly")&&t.getPlugin("periodic-notes")?.settings?.quarterly||{};return{format:e.format||j,folder:e.folder?.trim()||"",template:e.template?.trim()||""}}catch(e){console.info("No custom quarterly note settings found!",e)}}function x(){let t=window.app.plugins;try{let e=E("yearly")&&t.getPlugin("periodic-notes")?.settings?.yearly||{};return{format:e.format||G,folder:e.folder?.trim()||"",template:e.template?.trim()||""}}catch(e){console.info("No custom yearly note settings found!",e)}}function J(...t){let e=[];for(let o=0,a=t.length;o<a;o++)e=e.concat(t[o].split("/"));let n=[];for(let o=0,a=e.length;o<a;o++){let i=e[o];!i||i==="."||n.push(i)}return e[0]===""&&n.unshift(""),n.join("/")}function Oe(t){let e=t.substring(t.lastIndexOf("/")+1);return e.lastIndexOf(".")!=-1&&(e=e.substring(0,e.lastIndexOf("."))),e}async function Ae(t){let e=t.replace(/\\/g,"/").split("/");if(e.pop(),e.length){let n=J(...e);window.app.vault.getAbstractFileByPath(n)||await window.app.vault.createFolder(n)}}async function v(t,e){e.endsWith(".md")||(e+=".md");let n=c.normalizePath(J(t,e));return await Ae(n),n}async function P(t){let{metadataCache:e,vault:n}=window.app,o=c.normalizePath(t);if(o==="/")return Promise.resolve(["",null]);try{let a=e.getFirstLinkpathDest(o,""),i=await n.cachedRead(a),l=window.app.foldManager.load(a);return[i,l]}catch(a){return console.error(`Failed to read the daily note template '${o}'`,a),new c.Notice("Failed to read the daily note template"),["",null]}}function y(t,e="day"){let n=t.clone().startOf(e).format();return`${e}-${n}`}function X(t){return t.replace(/\[[^\]]*\]/g,"")}function _e(t,e){if(e==="week"){let n=X(t);return/w{1,2}/i.test(n)&&(/M{1,4}/.test(n)||/D{1,4}/.test(n))}return!1}function M(t,e){return Z(t.basename,e)}function Se(t,e){return Z(Oe(t),e)}function Z(t,e){let o={day:O,week:A,month:_,quarter:S,year:x}[e]().format.split("/").pop(),a=window.moment(t,o,!0);if(!a.isValid())return null;if(_e(o,e)&&e==="week"){let i=X(o);if(/w{1,2}/i.test(i))return window.moment(t,o.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return a}var ee=class extends Error{};async function te(t){let e=window.app,{vault:n}=e,o=window.moment,{template:a,format:i,folder:l}=O(),[d,u]=await P(a),s=t.format(i),T=await v(l,s);try{let w=await n.create(T,d.replace(/{{\s*date\s*}}/gi,s).replace(/{{\s*time\s*}}/gi,o().format("HH:mm")).replace(/{{\s*title\s*}}/gi,s).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(h,N,D,g,p,m)=>{let H=o(),C=t.clone().set({hour:H.get("hour"),minute:H.get("minute"),second:H.get("second")});return D&&C.add(parseInt(g,10),p),m?C.format(m.substring(1).trim()):C.format(i)}).replace(/{{\s*yesterday\s*}}/gi,t.clone().subtract(1,"day").format(i)).replace(/{{\s*tomorrow\s*}}/gi,t.clone().add(1,"d").format(i)));return e.foldManager.save(w,u),w}catch(w){console.error(`Failed to create file: '${T}'`,w),new c.Notice("Unable to create new file.")}}function xe(t,e){return e[y(t,"day")]??null}function ve(){let{vault:t}=window.app,{folder:e}=O(),n=t.getAbstractFileByPath(c.normalizePath(e));if(!n)throw new ee("Failed to find daily notes folder");let o={};return c.Vault.recurseChildren(n,a=>{if(a instanceof c.TFile){let i=M(a,"day");if(i){let l=y(i,"day");o[l]=a}}}),o}var ne=class extends Error{};function Le(){let{moment:t}=window,e=t.localeData()._week.dow,n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;e;)n.push(n.shift()),e--;return n}function Ye(t){return Le().indexOf(t.toLowerCase())}async function oe(t){let{vault:e}=window.app,{template:n,format:o,folder:a}=A(),[i,l]=await P(n),d=t.format(o),u=await v(a,d);try{let s=await e.create(u,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(T,w,h,N,D,g)=>{let p=window.moment(),m=t.clone().set({hour:p.get("hour"),minute:p.get("minute"),second:p.get("second")});return h&&m.add(parseInt(N,10),D),g?m.format(g.substring(1).trim()):m.format(o)}).replace(/{{\s*title\s*}}/gi,d).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(T,w,h)=>{let N=Ye(w);return t.weekday(N).format(h.trim())}));return window.app.foldManager.save(s,l),s}catch(s){console.error(`Failed to create file: '${u}'`,s),new c.Notice("Unable to create new file.")}}function Ie(t,e){return e[y(t,"week")]??null}function We(){let t={};if(!le())return t;let{vault:e}=window.app,{folder:n}=A(),o=e.getAbstractFileByPath(c.normalizePath(n));if(!o)throw new ne("Failed to find weekly notes folder");return c.Vault.recurseChildren(o,a=>{if(a instanceof c.TFile){let i=M(a,"week");if(i){let l=y(i,"week");t[l]=a}}}),t}var ae=class extends Error{};async function ie(t){let{vault:e}=window.app,{template:n,format:o,folder:a}=_(),[i,l]=await P(n),d=t.format(o),u=await v(a,d);try{let s=await e.create(u,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(T,w,h,N,D,g)=>{let p=window.moment(),m=t.clone().set({hour:p.get("hour"),minute:p.get("minute"),second:p.get("second")});return h&&m.add(parseInt(N,10),D),g?m.format(g.substring(1).trim()):m.format(o)}).replace(/{{\s*date\s*}}/gi,d).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,d));return window.app.foldManager.save(s,l),s}catch(s){console.error(`Failed to create file: '${u}'`,s),new c.Notice("Unable to create new file.")}}function He(t,e){return e[y(t,"month")]??null}function Ce(){let t={};if(!ce())return t;let{vault:e}=window.app,{folder:n}=_(),o=e.getAbstractFileByPath(c.normalizePath(n));if(!o)throw new ae("Failed to find monthly notes folder");return c.Vault.recurseChildren(o,a=>{if(a instanceof c.TFile){let i=M(a,"month");if(i){let l=y(i,"month");t[l]=a}}}),t}var re=class extends Error{};async function Re(t){let{vault:e}=window.app,{template:n,format:o,folder:a}=S(),[i,l]=await P(n),d=t.format(o),u=await v(a,d);try{let s=await e.create(u,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(T,w,h,N,D,g)=>{let p=window.moment(),m=t.clone().set({hour:p.get("hour"),minute:p.get("minute"),second:p.get("second")});return h&&m.add(parseInt(N,10),D),g?m.format(g.substring(1).trim()):m.format(o)}).replace(/{{\s*date\s*}}/gi,d).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,d));return window.app.foldManager.save(s,l),s}catch(s){console.error(`Failed to create file: '${u}'`,s),new c.Notice("Unable to create new file.")}}function Ke(t,e){return e[y(t,"quarter")]??null}function Ue(){let t={};if(!de())return t;let{vault:e}=window.app,{folder:n}=S(),o=e.getAbstractFileByPath(c.normalizePath(n));if(!o)throw new re("Failed to find quarterly notes folder");return c.Vault.recurseChildren(o,a=>{if(a instanceof c.TFile){let i=M(a,"quarter");if(i){let l=y(i,"quarter");t[l]=a}}}),t}var se=class extends Error{};async function qe(t){let{vault:e}=window.app,{template:n,format:o,folder:a}=x(),[i,l]=await P(n),d=t.format(o),u=await v(a,d);try{let s=await e.create(u,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(T,w,h,N,D,g)=>{let p=window.moment(),m=t.clone().set({hour:p.get("hour"),minute:p.get("minute"),second:p.get("second")});return h&&m.add(parseInt(N,10),D),g?m.format(g.substring(1).trim()):m.format(o)}).replace(/{{\s*date\s*}}/gi,d).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,d));return window.app.foldManager.save(s,l),s}catch(s){console.error(`Failed to create file: '${u}'`,s),new c.Notice("Unable to create new file.")}}function Qe(t,e){return e[y(t,"year")]??null}function ze(){let t={};if(!ue())return t;let{vault:e}=window.app,{folder:n}=x(),o=e.getAbstractFileByPath(c.normalizePath(n));if(!o)throw new se("Failed to find yearly notes folder");return c.Vault.recurseChildren(o,a=>{if(a instanceof c.TFile){let i=M(a,"year");if(i){let l=y(i,"year");t[l]=a}}}),t}function Be(){let{app:t}=window,e=t.internalPlugins.plugins["daily-notes"];if(e&&e.enabled)return!0;let n=t.plugins.getPlugin("periodic-notes");return n&&n.settings?.daily?.enabled}function le(){let{app:t}=window;if(t.plugins.getPlugin("calendar"))return!0;let e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.weekly?.enabled}function ce(){let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.monthly?.enabled}function de(){let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.quarterly?.enabled}function ue(){let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.yearly?.enabled}function Ve(t){return{day:O,week:A,month:_,quarter:S,year:x}[t]()}function $e(t,e){return{day:te,month:ie,week:oe}[t](e)}r.DEFAULT_DAILY_NOTE_FORMAT=R;r.DEFAULT_MONTHLY_NOTE_FORMAT=$;r.DEFAULT_QUARTERLY_NOTE_FORMAT=j;r.DEFAULT_WEEKLY_NOTE_FORMAT=K;r.DEFAULT_YEARLY_NOTE_FORMAT=G;r.appHasDailyNotesPluginLoaded=Be;r.appHasMonthlyNotesPluginLoaded=ce;r.appHasQuarterlyNotesPluginLoaded=de;r.appHasWeeklyNotesPluginLoaded=le;r.appHasYearlyNotesPluginLoaded=ue;r.createDailyNote=te;r.createMonthlyNote=ie;r.createPeriodicNote=$e;r.createQuarterlyNote=Re;r.createWeeklyNote=oe;r.createYearlyNote=qe;r.getAllDailyNotes=ve;r.getAllMonthlyNotes=Ce;r.getAllQuarterlyNotes=Ue;r.getAllWeeklyNotes=We;r.getAllYearlyNotes=ze;r.getDailyNote=xe;r.getDailyNoteSettings=O;r.getDateFromFile=M;r.getDateFromPath=Se;r.getDateUID=y;r.getMonthlyNote=He;r.getMonthlyNoteSettings=_;r.getPeriodicNoteSettings=Ve;r.getQuarterlyNote=Ke;r.getQuarterlyNoteSettings=S;r.getTemplateInfo=P;r.getWeeklyNote=Ie;r.getWeeklyNoteSettings=A;r.getYearlyNote=Qe;r.getYearlyNoteSettings=x});Me(exports,{default:()=>B});var he=F(require("obsidian")),Ne=F(U());var I=F(require("obsidian")),me={skipWeekends:!1},q=class extends I.PluginSettingTab{constructor(e,n){super(e,n);this.plugin=n}display(){let{containerEl:e}=this;e.empty(),new I.Setting(e).setName("Skip Weekends").setDesc("Skip weekends when opening tomorrow's daily note").addToggle(n=>n.setValue(this.plugin.settings.skipWeekends).onChange(o=>f(this,null,function*(){this.plugin.settings.skipWeekends=o,yield this.plugin.saveSettings()})))}};var pe=F(require("obsidian"));function W(){new pe.Notice(`Please enable the "Daily Notes" plugin to use the "Tomorrow's Daily Note" plugin.`)}var k=F(require("obsidian"));var b=F(U());function fe(t){let{skipWeekends:e=!1,offset:n=1}=t||{},o=n,a=window.moment().clone();for(;o>0;)a=a.add(1,"day"),!(e&&je(a))&&o--;return a}function je(t){return t.isoWeekday()>5}function L(t){return f(this,null,function*(){let{skipWeekends:e,newTab:n,offset:o}=t;if(!Xe())return;let a=fe({skipWeekends:e,offset:o}),i=yield Ge(a);i&&Je(i,n)})}function Ge(t){return f(this,null,function*(){let e=(0,b.getDailyNote)(t,(0,b.getAllDailyNotes)());return e||(e=yield(0,b.createDailyNote)(t)),e})}function Je(t,e){return f(this,null,function*(){let{workspace:n}=window.app;yield n.getLeaf(e).openFile(t,{active:!0})})}function Xe(){return(0,b.appHasDailyNotesPluginLoaded)()?!0:(W(),!1)}var Q=class{constructor(e){this.systemModifierKeyPressed=!1;this.plugin=e,this.setup()}setup(){document.addEventListener("keydown",this.handleKeyDown.bind(this)),document.addEventListener("keyup",this.handleKeyUp.bind(this)),this.plugin.addCommand({id:"create-tomorrows-daily-note",name:"Open tomorrow's daily note",checkCallback:e=>(e||L({skipWeekends:this.plugin.settings.skipWeekends,newTab:this.useNewTab()}),!0)}),this.plugin.addCommand({id:"create-multiple-future-daily-notes",name:"Open multiple future daily notes",checkCallback:e=>(e||new ge(this.plugin.app,n=>{for(let o=0;o<n;o++)L({skipWeekends:this.plugin.settings.skipWeekends,newTab:this.useNewTab(),offset:o+1})}).open(),!0)})}tearDown(){document.removeEventListener("keydown",this.handleKeyDown.bind(this)),document.removeEventListener("keyup",this.handleKeyUp.bind(this))}handleKeyDown(e){(k.Platform.isMacOS?e.metaKey:e.ctrlKey)&&(this.systemModifierKeyPressed=!0)}handleKeyUp(e){(k.Platform.isMacOS?e.metaKey:e.ctrlKey)&&(this.systemModifierKeyPressed=!1)}useNewTab(){return this.systemModifierKeyPressed}},ge=class extends k.Modal{constructor(e,n){super(e);let o=1;new k.Setting(this.contentEl).setName("How many future daily notes do you want to create?").setDesc("Enter a number greater than 0").addText(a=>{a.inputEl.type="number",a.inputEl.min="1",a.setValue(String(o)),a.onChange(i=>f(this,null,function*(){o=Number(i)}))}),new k.Setting(this.contentEl).addButton(a=>a.setButtonText("Create").setDisabled(o<=0).setCta().onClick(()=>{this.close(),n(o)}))}};var ye=F(require("obsidian"));var we="tomorrows-daily-note-ribbon-icon",z=class{constructor(e){this.plugin=e,this.setup()}setup(){this.addRibbonIcon()}addRibbonIcon(){this.plugin.addRibbonIcon("calendar-plus","Open tomorrow's daily note",e=>f(this,null,function*(){yield L({skipWeekends:this.plugin.settings.skipWeekends,newTab:this.useNewTab(e)})})).setAttribute("id",we)}removeRibbonIcon(){var e;(e=document.getElementById(we))==null||e.remove()}useNewTab(e){let n=ye.Platform.isMacOS?e.metaKey:e.ctrlKey;return e.button===1||n}};var B=class extends he.Plugin{onload(){return f(this,null,function*(){yield this.loadSettings(),this.commandHandler=new Q(this),this.ribbonHandler=new z(this),this.dependencyCheck()})}onunload(){this.commandHandler.tearDown()}loadSettings(){return f(this,null,function*(){this.settings=Object.assign({},me,yield this.loadData()),this.addSettingTab(new q(this.app,this))})}saveSettings(){return f(this,null,function*(){yield this.saveData(this.settings)})}dependencyCheck(){this.app.workspace.onLayoutReady(()=>{(0,Ne.appHasDailyNotesPluginLoaded)()||W()})}};0&&(module.exports={});

/* nosourcemap */