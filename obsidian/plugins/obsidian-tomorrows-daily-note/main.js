/** GENERATED BY OBSIDIAN-PLUGIN-CLI, DO NOT EDIT */
var be=Object.create;var I=Object.defineProperty;var De=Object.getOwnPropertyDescriptor;var Fe=Object.getOwnPropertyNames;var Te=Object.getPrototypeOf,Pe=Object.prototype.hasOwnProperty;var V=t=>I(t,"__esModule",{value:!0});var ke=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Me=(t,e)=>{V(t);for(var o in e)I(t,o,{get:e[o],enumerable:!0})},Ae=(t,e,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Fe(e))!Pe.call(t,n)&&n!=="default"&&I(t,n,{get:()=>e[n],enumerable:!(o=De(e,n))||o.enumerable});return t},T=t=>Ae(V(I(t!=null?be(Te(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var f=(t,e,o)=>new Promise((n,i)=>{var a=u=>{try{d(o.next(u))}catch(s){i(s)}},l=u=>{try{d(o.throw(u))}catch(s){i(s)}},d=u=>u.done?n(u.value):Promise.resolve(u.value).then(a,l);d((o=o.apply(t,e)).next())});var K=ke(r=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var c=require("obsidian"),W="YYYY-MM-DD",U="gggg-[W]ww",$="YYYY-MM",j="YYYY-[Q]Q",G="YYYY";function M(t){let e=window.app.plugins.getPlugin("periodic-notes");return e&&e.settings?.[t]?.enabled}function A(){try{let{internalPlugins:t,plugins:e}=window.app;if(M("daily")){let{format:a,folder:l,template:d}=e.getPlugin("periodic-notes")?.settings?.daily||{};return{format:a||W,folder:l?.trim()||"",template:d?.trim()||""}}let{folder:o,format:n,template:i}=t.getPluginById("daily-notes")?.instance?.options||{};return{format:n||W,folder:o?.trim()||"",template:i?.trim()||""}}catch(t){console.info("No custom daily note settings found!",t)}}function E(){try{let t=window.app.plugins,e=t.getPlugin("calendar")?.options,o=t.getPlugin("periodic-notes")?.settings?.weekly;if(M("weekly"))return{format:o.format||U,folder:o.folder?.trim()||"",template:o.template?.trim()||""};let n=e||{};return{format:n.weeklyNoteFormat||U,folder:n.weeklyNoteFolder?.trim()||"",template:n.weeklyNoteTemplate?.trim()||""}}catch(t){console.info("No custom weekly note settings found!",t)}}function S(){let t=window.app.plugins;try{let e=M("monthly")&&t.getPlugin("periodic-notes")?.settings?.monthly||{};return{format:e.format||$,folder:e.folder?.trim()||"",template:e.template?.trim()||""}}catch(e){console.info("No custom monthly note settings found!",e)}}function _(){let t=window.app.plugins;try{let e=M("quarterly")&&t.getPlugin("periodic-notes")?.settings?.quarterly||{};return{format:e.format||j,folder:e.folder?.trim()||"",template:e.template?.trim()||""}}catch(e){console.info("No custom quarterly note settings found!",e)}}function v(){let t=window.app.plugins;try{let e=M("yearly")&&t.getPlugin("periodic-notes")?.settings?.yearly||{};return{format:e.format||G,folder:e.folder?.trim()||"",template:e.template?.trim()||""}}catch(e){console.info("No custom yearly note settings found!",e)}}function J(...t){let e=[];for(let n=0,i=t.length;n<i;n++)e=e.concat(t[n].split("/"));let o=[];for(let n=0,i=e.length;n<i;n++){let a=e[n];!a||a==="."||o.push(a)}return e[0]===""&&o.unshift(""),o.join("/")}function Ee(t){let e=t.substring(t.lastIndexOf("/")+1);return e.lastIndexOf(".")!=-1&&(e=e.substring(0,e.lastIndexOf("."))),e}async function Se(t){let e=t.replace(/\\/g,"/").split("/");if(e.pop(),e.length){let o=J(...e);window.app.vault.getAbstractFileByPath(o)||await window.app.vault.createFolder(o)}}async function O(t,e){e.endsWith(".md")||(e+=".md");let o=c.normalizePath(J(t,e));return await Se(o),o}async function P(t){let{metadataCache:e,vault:o}=window.app,n=c.normalizePath(t);if(n==="/")return Promise.resolve(["",null]);try{let i=e.getFirstLinkpathDest(n,""),a=await o.cachedRead(i),l=window.app.foldManager.load(i);return[a,l]}catch(i){return console.error(`Failed to read the daily note template '${n}'`,i),new c.Notice("Failed to read the daily note template"),["",null]}}function y(t,e="day"){let o=t.clone().startOf(e).format();return`${e}-${o}`}function X(t){return t.replace(/\[[^\]]*\]/g,"")}function _e(t,e){if(e==="week"){let o=X(t);return/w{1,2}/i.test(o)&&(/M{1,4}/.test(o)||/D{1,4}/.test(o))}return!1}function k(t,e){return Z(t.basename,e)}function ve(t,e){return Z(Ee(t),e)}function Z(t,e){let n={day:A,week:E,month:S,quarter:_,year:v}[e]().format.split("/").pop(),i=window.moment(t,n,!0);if(!i.isValid())return null;if(_e(n,e)&&e==="week"){let a=X(n);if(/w{1,2}/i.test(a))return window.moment(t,n.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return i}var ee=class extends Error{};async function te(t){let e=window.app,{vault:o}=e,n=window.moment,{template:i,format:a,folder:l}=A(),[d,u]=await P(i),s=t.format(a),F=await O(l,s);try{let w=await o.create(F,d.replace(/{{\s*date\s*}}/gi,s).replace(/{{\s*time\s*}}/gi,n().format("HH:mm")).replace(/{{\s*title\s*}}/gi,s).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(h,N,b,p,g,m)=>{let H=n(),R=t.clone().set({hour:H.get("hour"),minute:H.get("minute"),second:H.get("second")});return b&&R.add(parseInt(p,10),g),m?R.format(m.substring(1).trim()):R.format(a)}).replace(/{{\s*yesterday\s*}}/gi,t.clone().subtract(1,"day").format(a)).replace(/{{\s*tomorrow\s*}}/gi,t.clone().add(1,"d").format(a)));return e.foldManager.save(w,u),w}catch(w){console.error(`Failed to create file: '${F}'`,w),new c.Notice("Unable to create new file.")}}function Oe(t,e){return e[y(t,"day")]??null}function Le(){let{vault:t}=window.app,{folder:e}=A(),o=t.getAbstractFileByPath(c.normalizePath(e));if(!o)throw new ee("Failed to find daily notes folder");let n={};return c.Vault.recurseChildren(o,i=>{if(i instanceof c.TFile){let a=k(i,"day");if(a){let l=y(a,"day");n[l]=i}}}),n}var oe=class extends Error{};function Ie(){let{moment:t}=window,e=t.localeData()._week.dow,o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;e;)o.push(o.shift()),e--;return o}function xe(t){return Ie().indexOf(t.toLowerCase())}async function ne(t){let{vault:e}=window.app,{template:o,format:n,folder:i}=E(),[a,l]=await P(o),d=t.format(n),u=await O(i,d);try{let s=await e.create(u,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(F,w,h,N,b,p)=>{let g=window.moment(),m=t.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return h&&m.add(parseInt(N,10),b),p?m.format(p.substring(1).trim()):m.format(n)}).replace(/{{\s*title\s*}}/gi,d).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(F,w,h)=>{let N=xe(w);return t.weekday(N).format(h.trim())}));return window.app.foldManager.save(s,l),s}catch(s){console.error(`Failed to create file: '${u}'`,s),new c.Notice("Unable to create new file.")}}function Ye(t,e){return e[y(t,"week")]??null}function He(){let t={};if(!le())return t;let{vault:e}=window.app,{folder:o}=E(),n=e.getAbstractFileByPath(c.normalizePath(o));if(!n)throw new oe("Failed to find weekly notes folder");return c.Vault.recurseChildren(n,i=>{if(i instanceof c.TFile){let a=k(i,"week");if(a){let l=y(a,"week");t[l]=i}}}),t}var ie=class extends Error{};async function ae(t){let{vault:e}=window.app,{template:o,format:n,folder:i}=S(),[a,l]=await P(o),d=t.format(n),u=await O(i,d);try{let s=await e.create(u,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(F,w,h,N,b,p)=>{let g=window.moment(),m=t.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return h&&m.add(parseInt(N,10),b),p?m.format(p.substring(1).trim()):m.format(n)}).replace(/{{\s*date\s*}}/gi,d).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,d));return window.app.foldManager.save(s,l),s}catch(s){console.error(`Failed to create file: '${u}'`,s),new c.Notice("Unable to create new file.")}}function Re(t,e){return e[y(t,"month")]??null}function We(){let t={};if(!ce())return t;let{vault:e}=window.app,{folder:o}=S(),n=e.getAbstractFileByPath(c.normalizePath(o));if(!n)throw new ie("Failed to find monthly notes folder");return c.Vault.recurseChildren(n,i=>{if(i instanceof c.TFile){let a=k(i,"month");if(a){let l=y(a,"month");t[l]=i}}}),t}var re=class extends Error{};async function Ue(t){let{vault:e}=window.app,{template:o,format:n,folder:i}=_(),[a,l]=await P(o),d=t.format(n),u=await O(i,d);try{let s=await e.create(u,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(F,w,h,N,b,p)=>{let g=window.moment(),m=t.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return h&&m.add(parseInt(N,10),b),p?m.format(p.substring(1).trim()):m.format(n)}).replace(/{{\s*date\s*}}/gi,d).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,d));return window.app.foldManager.save(s,l),s}catch(s){console.error(`Failed to create file: '${u}'`,s),new c.Notice("Unable to create new file.")}}function Ke(t,e){return e[y(t,"quarter")]??null}function Ce(){let t={};if(!de())return t;let{vault:e}=window.app,{folder:o}=_(),n=e.getAbstractFileByPath(c.normalizePath(o));if(!n)throw new re("Failed to find quarterly notes folder");return c.Vault.recurseChildren(n,i=>{if(i instanceof c.TFile){let a=k(i,"quarter");if(a){let l=y(a,"quarter");t[l]=i}}}),t}var se=class extends Error{};async function qe(t){let{vault:e}=window.app,{template:o,format:n,folder:i}=v(),[a,l]=await P(o),d=t.format(n),u=await O(i,d);try{let s=await e.create(u,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(F,w,h,N,b,p)=>{let g=window.moment(),m=t.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return h&&m.add(parseInt(N,10),b),p?m.format(p.substring(1).trim()):m.format(n)}).replace(/{{\s*date\s*}}/gi,d).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,d));return window.app.foldManager.save(s,l),s}catch(s){console.error(`Failed to create file: '${u}'`,s),new c.Notice("Unable to create new file.")}}function Qe(t,e){return e[y(t,"year")]??null}function ze(){let t={};if(!ue())return t;let{vault:e}=window.app,{folder:o}=v(),n=e.getAbstractFileByPath(c.normalizePath(o));if(!n)throw new se("Failed to find yearly notes folder");return c.Vault.recurseChildren(n,i=>{if(i instanceof c.TFile){let a=k(i,"year");if(a){let l=y(a,"year");t[l]=i}}}),t}function Be(){let{app:t}=window,e=t.internalPlugins.plugins["daily-notes"];if(e&&e.enabled)return!0;let o=t.plugins.getPlugin("periodic-notes");return o&&o.settings?.daily?.enabled}function le(){let{app:t}=window;if(t.plugins.getPlugin("calendar"))return!0;let e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.weekly?.enabled}function ce(){let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.monthly?.enabled}function de(){let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.quarterly?.enabled}function ue(){let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.yearly?.enabled}function Ve(t){return{day:A,week:E,month:S,quarter:_,year:v}[t]()}function $e(t,e){return{day:te,month:ae,week:ne}[t](e)}r.DEFAULT_DAILY_NOTE_FORMAT=W;r.DEFAULT_MONTHLY_NOTE_FORMAT=$;r.DEFAULT_QUARTERLY_NOTE_FORMAT=j;r.DEFAULT_WEEKLY_NOTE_FORMAT=U;r.DEFAULT_YEARLY_NOTE_FORMAT=G;r.appHasDailyNotesPluginLoaded=Be;r.appHasMonthlyNotesPluginLoaded=ce;r.appHasQuarterlyNotesPluginLoaded=de;r.appHasWeeklyNotesPluginLoaded=le;r.appHasYearlyNotesPluginLoaded=ue;r.createDailyNote=te;r.createMonthlyNote=ae;r.createPeriodicNote=$e;r.createQuarterlyNote=Ue;r.createWeeklyNote=ne;r.createYearlyNote=qe;r.getAllDailyNotes=Le;r.getAllMonthlyNotes=We;r.getAllQuarterlyNotes=Ce;r.getAllWeeklyNotes=He;r.getAllYearlyNotes=ze;r.getDailyNote=Oe;r.getDailyNoteSettings=A;r.getDateFromFile=k;r.getDateFromPath=ve;r.getDateUID=y;r.getMonthlyNote=Re;r.getMonthlyNoteSettings=S;r.getPeriodicNoteSettings=Ve;r.getQuarterlyNote=Ke;r.getQuarterlyNoteSettings=_;r.getTemplateInfo=P;r.getWeeklyNote=Ye;r.getWeeklyNoteSettings=E;r.getYearlyNote=Qe;r.getYearlyNoteSettings=v});Me(exports,{default:()=>B});var he=T(require("obsidian")),Ne=T(K());var L=T(require("obsidian")),me={skipWeekends:!1,enableRibbonIcon:!0},C=class extends L.PluginSettingTab{constructor(e,o){super(e,o);this.plugin=o}display(){let{containerEl:e}=this;e.empty(),new L.Setting(e).setName("Skip Weekends").setDesc("Skip weekends when opening tomorrow's daily note").addToggle(o=>o.setValue(this.plugin.settings.skipWeekends).onChange(n=>f(this,null,function*(){this.plugin.settings.skipWeekends=n,yield this.plugin.saveSettings()}))),new L.Setting(e).setName("Show icon in sidebar").setDesc("Show Tomorrow's Daily Note icon in the sidebar ribbon, allowing you to open tomorrow's daily note with a single click.").addToggle(o=>o.setValue(this.plugin.settings.enableRibbonIcon).onChange(n=>f(this,null,function*(){this.plugin.settings.enableRibbonIcon=n,yield this.plugin.saveSettings(),n?this.plugin.ribbonHandler.addRibbonIcon():this.plugin.ribbonHandler.removeRibbonIcon()})))}};var ge=T(require("obsidian"));function x(){new ge.Notice("Please enable the Daily Notes plugin to use this feature.")}var q=T(require("obsidian"));var D=T(K());function pe(t){let e=window.moment().add(1,"day");return t&&fe(e)&&(e=je(e)),e}function fe(t){return t.isoWeekday()>5}function je(t){let e=t.add(1,"day");for(;fe(e);)e=e.add(1,"day");return e}function Y(t,e=!1){return f(this,null,function*(){if(!Xe())return;let o=pe(t),n=yield Ge(o);n&&Je(n,e)})}function Ge(t){return f(this,null,function*(){let e=(0,D.getDailyNote)(t,(0,D.getAllDailyNotes)());return e||(e=yield(0,D.createDailyNote)(t)),e})}function Je(t,e){return f(this,null,function*(){let{workspace:o}=window.app;yield o.getLeaf(e).openFile(t,{active:!0})})}function Xe(){return(0,D.appHasDailyNotesPluginLoaded)()?!0:(x(),!1)}var Q=class{constructor(e){this.systemModifierKeyPressed=!1;this.plugin=e}setup(){document.addEventListener("keydown",this.handleKeyDown.bind(this)),document.addEventListener("keyup",this.handleKeyUp.bind(this)),this.plugin.addCommand({id:"create-tomorrows-daily-note",name:"Open tomorrow's daily note",checkCallback:e=>(e||Y(this.plugin.settings.skipWeekends,this.useNewTab()),!0)})}tearDown(){document.removeEventListener("keydown",this.handleKeyDown.bind(this)),document.removeEventListener("keyup",this.handleKeyUp.bind(this))}handleKeyDown(e){(q.Platform.isMacOS?e.metaKey:e.ctrlKey)&&(this.systemModifierKeyPressed=!0)}handleKeyUp(e){(q.Platform.isMacOS?e.metaKey:e.ctrlKey)&&(this.systemModifierKeyPressed=!1)}useNewTab(){return this.systemModifierKeyPressed}};var ye=T(require("obsidian"));var we="tomorrows-daily-note-ribbon-icon",z=class{constructor(e){this.plugin=e}setup(){this.plugin.settings.enableRibbonIcon&&this.addRibbonIcon()}addRibbonIcon(){this.plugin.addRibbonIcon("calendar-plus","Open tomorrow's daily note",e=>f(this,null,function*(){yield Y(this.plugin.settings.skipWeekends,this.useNewTab(e))})).setAttribute("id",we)}removeRibbonIcon(){var e;(e=document.getElementById(we))==null||e.remove()}useNewTab(e){let o=ye.Platform.isMacOS?e.metaKey:e.ctrlKey;return e.button===1||o}};var B=class extends he.Plugin{onload(){return f(this,null,function*(){console.log("Loading plugin: Tomorrow's Daily Note"),yield this.loadSettings(),this.commandHandler=new Q(this),this.ribbonHandler=new z(this),this.triggerDependencyCheck(()=>{this.commandHandler.setup(),this.ribbonHandler.setup()})})}onunload(){console.log("Unloading plugin: Tomorrow's Daily Note"),this.commandHandler.tearDown()}loadSettings(){return f(this,null,function*(){this.settings=Object.assign({},me,yield this.loadData()),this.addSettingTab(new C(this.app,this))})}saveSettings(){return f(this,null,function*(){yield this.saveData(this.settings)})}triggerDependencyCheck(e){this.app.workspace.onLayoutReady(()=>{console.log("Checking for Daily Notes plugin"),(0,Ne.appHasDailyNotesPluginLoaded)()||x(),e()})}};0&&(module.exports={});

/* nosourcemap */