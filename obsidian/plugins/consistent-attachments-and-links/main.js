/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var v0=Object.create;var Dr=Object.defineProperty;var C0=Object.getOwnPropertyDescriptor;var A0=Object.getOwnPropertyNames;var S0=Object.getPrototypeOf,E0=Object.prototype.hasOwnProperty;var r=(t,e)=>Dr(t,"name",{value:e,configurable:!0});var St=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Vu=(t,e)=>{for(var n in e)Dr(t,n,{get:e[n],enumerable:!0})},Yu=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of A0(e))!E0.call(t,s)&&s!==n&&Dr(t,s,{get:()=>e[s],enumerable:!(i=C0(e,s))||i.enumerable});return t};var at=(t,e,n)=>(n=t!=null?v0(S0(t)):{},Yu(e||!t||!t.__esModule?Dr(n,"default",{value:t,enumerable:!0}):n,t)),T0=t=>Yu(Dr({},"__esModule",{value:!0}),t);var qu=St((ix,Ku)=>{"use strict";function Lt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}r(Lt,"assertPath");function Gu(t,e){for(var n="",i=0,s=-1,a=0,l,c=0;c<=t.length;++c){if(c<t.length)l=t.charCodeAt(c);else{if(l===47)break;l=47}if(l===47){if(!(s===c-1||a===1))if(s!==c-1&&a===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var d=n.lastIndexOf("/");if(d!==n.length-1){d===-1?(n="",i=0):(n=n.slice(0,d),i=n.length-1-n.lastIndexOf("/")),s=c,a=0;continue}}else if(n.length===2||n.length===1){n="",i=0,s=c,a=0;continue}}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(s+1,c):n=t.slice(s+1,c),i=c-s-1;s=c,a=0}else l===46&&a!==-1?++a:a=-1}return n}r(Gu,"normalizeStringPosix");function M0(t,e){var n=e.dir||e.root,i=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+i:n+t+i:i}r(M0,"_format");var Gn={resolve:r(function(){for(var e="",n=!1,i,s=arguments.length-1;s>=-1&&!n;s--){var a;s>=0?a=arguments[s]:(i===void 0&&(i=process.cwd()),a=i),Lt(a),a.length!==0&&(e=a+"/"+e,n=a.charCodeAt(0)===47)}return e=Gu(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:r(function(e){if(Lt(e),e.length===0)return".";var n=e.charCodeAt(0)===47,i=e.charCodeAt(e.length-1)===47;return e=Gu(e,!n),e.length===0&&!n&&(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},"normalize"),isAbsolute:r(function(e){return Lt(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:r(function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];Lt(i),i.length>0&&(e===void 0?e=i:e+="/"+i)}return e===void 0?".":Gn.normalize(e)},"join"),relative:r(function(e,n){if(Lt(e),Lt(n),e===n||(e=Gn.resolve(e),n=Gn.resolve(n),e===n))return"";for(var i=1;i<e.length&&e.charCodeAt(i)===47;++i);for(var s=e.length,a=s-i,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var c=n.length,d=c-l,h=a<d?a:d,p=-1,g=0;g<=h;++g){if(g===h){if(d>h){if(n.charCodeAt(l+g)===47)return n.slice(l+g+1);if(g===0)return n.slice(l+g)}else a>h&&(e.charCodeAt(i+g)===47?p=g:g===0&&(p=0));break}var y=e.charCodeAt(i+g),w=n.charCodeAt(l+g);if(y!==w)break;y===47&&(p=g)}var C="";for(g=i+p+1;g<=s;++g)(g===s||e.charCodeAt(g)===47)&&(C.length===0?C+="..":C+="/..");return C.length>0?C+n.slice(l+p):(l+=p,n.charCodeAt(l)===47&&++l,n.slice(l))},"relative"),_makeLong:r(function(e){return e},"_makeLong"),dirname:r(function(e){if(Lt(e),e.length===0)return".";for(var n=e.charCodeAt(0),i=n===47,s=-1,a=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!a){s=l;break}}else a=!1;return s===-1?i?"/":".":i&&s===1?"//":e.slice(0,s)},"dirname"),basename:r(function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Lt(e);var i=0,s=-1,a=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var c=n.length-1,d=-1;for(l=e.length-1;l>=0;--l){var h=e.charCodeAt(l);if(h===47){if(!a){i=l+1;break}}else d===-1&&(a=!1,d=l+1),c>=0&&(h===n.charCodeAt(c)?--c===-1&&(s=l):(c=-1,s=d))}return i===s?s=d:s===-1&&(s=e.length),e.slice(i,s)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!a){i=l+1;break}}else s===-1&&(a=!1,s=l+1);return s===-1?"":e.slice(i,s)}},"basename"),extname:r(function(e){Lt(e);for(var n=-1,i=0,s=-1,a=!0,l=0,c=e.length-1;c>=0;--c){var d=e.charCodeAt(c);if(d===47){if(!a){i=c+1;break}continue}s===-1&&(a=!1,s=c+1),d===46?n===-1?n=c:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||s===-1||l===0||l===1&&n===s-1&&n===i+1?"":e.slice(n,s)},"extname"),format:r(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return M0("/",e)},"format"),parse:r(function(e){Lt(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var i=e.charCodeAt(0),s=i===47,a;s?(n.root="/",a=1):a=0;for(var l=-1,c=0,d=-1,h=!0,p=e.length-1,g=0;p>=a;--p){if(i=e.charCodeAt(p),i===47){if(!h){c=p+1;break}continue}d===-1&&(h=!1,d=p+1),i===46?l===-1?l=p:g!==1&&(g=1):l!==-1&&(g=-1)}return l===-1||d===-1||g===0||g===1&&l===d-1&&l===c+1?d!==-1&&(c===0&&s?n.base=n.name=e.slice(1,d):n.base=n.name=e.slice(c,d)):(c===0&&s?(n.name=e.slice(1,l),n.base=e.slice(1,d)):(n.name=e.slice(c,l),n.base=e.slice(c,d)),n.ext=e.slice(l,d)),c>0?n.dir=e.slice(0,c-1):s&&(n.dir="/"),n},"parse"),sep:"/",delimiter:":",win32:null,posix:null};Gn.posix=Gn;Ku.exports=Gn});var pc=St(($x,hc)=>{var Qn=1e3,Xn=Qn*60,er=Xn*60,Tn=er*24,$0=Tn*7,z0=Tn*365.25;hc.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return U0(t);if(n==="number"&&isFinite(t))return e.long?j0(t):H0(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function U0(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*z0;case"weeks":case"week":case"w":return n*$0;case"days":case"day":case"d":return n*Tn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*er;case"minutes":case"minute":case"mins":case"min":case"m":return n*Xn;case"seconds":case"second":case"secs":case"sec":case"s":return n*Qn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}r(U0,"parse");function H0(t){var e=Math.abs(t);return e>=Tn?Math.round(t/Tn)+"d":e>=er?Math.round(t/er)+"h":e>=Xn?Math.round(t/Xn)+"m":e>=Qn?Math.round(t/Qn)+"s":t+"ms"}r(H0,"fmtShort");function j0(t){var e=Math.abs(t);return e>=Tn?Vi(t,e,Tn,"day"):e>=er?Vi(t,e,er,"hour"):e>=Xn?Vi(t,e,Xn,"minute"):e>=Qn?Vi(t,e,Qn,"second"):t+" ms"}r(j0,"fmtLong");function Vi(t,e,n,i){var s=e>=n*1.5;return Math.round(t/n)+" "+i+(s?"s":"")}r(Vi,"plural")});var da=St((Ux,mc)=>{function G0(t){n.debug=n,n.default=n,n.coerce=d,n.disable=l,n.enable=s,n.enabled=c,n.humanize=pc(),n.destroy=h,Object.keys(t).forEach(p=>{n[p]=t[p]}),n.names=[],n.skips=[],n.formatters={};function e(p){let g=0;for(let y=0;y<p.length;y++)g=(g<<5)-g+p.charCodeAt(y),g|=0;return n.colors[Math.abs(g)%n.colors.length]}r(e,"selectColor"),n.selectColor=e;function n(p){let g,y=null,w,C;function F(...S){if(!F.enabled)return;let A=F,P=Number(new Date),M=P-(g||P);A.diff=M,A.prev=g,A.curr=P,g=P,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let L=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(E,G)=>{if(E==="%%")return"%";L++;let K=n.formatters[G];if(typeof K=="function"){let U=S[L];E=K.call(A,U),S.splice(L,1),L--}return E}),n.formatArgs.call(A,S),(A.log||n.log).apply(A,S)}return r(F,"debug"),F.namespace=p,F.useColors=n.useColors(),F.color=n.selectColor(p),F.extend=i,F.destroy=n.destroy,Object.defineProperty(F,"enabled",{enumerable:!0,configurable:!1,get:r(()=>y!==null?y:(w!==n.namespaces&&(w=n.namespaces,C=n.enabled(p)),C),"get"),set:r(S=>{y=S},"set")}),typeof n.init=="function"&&n.init(F),F}r(n,"createDebug");function i(p,g){let y=n(this.namespace+(typeof g>"u"?":":g)+p);return y.log=this.log,y}r(i,"extend");function s(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];let g=(typeof p=="string"?p:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let y of g)y[0]==="-"?n.skips.push(y.slice(1)):n.names.push(y)}r(s,"enable");function a(p,g){let y=0,w=0,C=-1,F=0;for(;y<p.length;)if(w<g.length&&(g[w]===p[y]||g[w]==="*"))g[w]==="*"?(C=w,F=y,w++):(y++,w++);else if(C!==-1)w=C+1,F++,y=F;else return!1;for(;w<g.length&&g[w]==="*";)w++;return w===g.length}r(a,"matchesTemplate");function l(){let p=[...n.names,...n.skips.map(g=>"-"+g)].join(",");return n.enable(""),p}r(l,"disable");function c(p){for(let g of n.skips)if(a(p,g))return!1;for(let g of n.names)if(a(p,g))return!0;return!1}r(c,"enabled");function d(p){return p instanceof Error?p.stack||p.message:p}r(d,"coerce");function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r(h,"destroy"),n.enable(n.load()),n}r(G0,"setup");mc.exports=G0});var gc=St((Xe,Yi)=>{Xe.formatArgs=q0;Xe.save=J0;Xe.load=Z0;Xe.useColors=K0;Xe.storage=Q0();Xe.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Xe.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function K0(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}r(K0,"useColors");function q0(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Yi.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(n++,s==="%c"&&(i=n))}),t.splice(i,0,e)}r(q0,"formatArgs");Xe.log=console.debug||console.log||(()=>{});function J0(t){try{t?Xe.storage.setItem("debug",t):Xe.storage.removeItem("debug")}catch{}}r(J0,"save");function Z0(){let t;try{t=Xe.storage.getItem("debug")||Xe.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}r(Z0,"load");function Q0(){try{return localStorage}catch{}}r(Q0,"localstorage");Yi.exports=da()(Xe);var{formatters:X0}=Yi.exports;X0.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var wc=St((Gx,yc)=>{"use strict";yc.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",i=e.indexOf(n+t),s=e.indexOf("--");return i!==-1&&(s===-1||i<s)}});var xc=St((Kx,kc)=>{"use strict";var ey=require("os"),bc=require("tty"),ft=wc(),{env:Fe}=process,$i;ft("no-color")||ft("no-colors")||ft("color=false")||ft("color=never")?$i=0:(ft("color")||ft("colors")||ft("color=true")||ft("color=always"))&&($i=1);function ty(){if("FORCE_COLOR"in Fe)return Fe.FORCE_COLOR==="true"?1:Fe.FORCE_COLOR==="false"?0:Fe.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Fe.FORCE_COLOR,10),3)}r(ty,"envForceColor");function ny(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}r(ny,"translateLevel");function ry(t,{streamIsTTY:e,sniffFlags:n=!0}={}){let i=ty();i!==void 0&&($i=i);let s=n?$i:i;if(s===0)return 0;if(n){if(ft("color=16m")||ft("color=full")||ft("color=truecolor"))return 3;if(ft("color=256"))return 2}if(t&&!e&&s===void 0)return 0;let a=s||0;if(Fe.TERM==="dumb")return a;if(process.platform==="win32"){let l=ey.release().split(".");return Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in Fe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(l=>l in Fe)||Fe.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in Fe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Fe.TEAMCITY_VERSION)?1:0;if(Fe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Fe){let l=Number.parseInt((Fe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Fe.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Fe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Fe.TERM)||"COLORTERM"in Fe?1:a}r(ry,"supportsColor");function fa(t,e={}){let n=ry(t,{streamIsTTY:t&&t.isTTY,...e});return ny(n)}r(fa,"getSupportLevel");kc.exports={supportsColor:fa,stdout:fa({isTTY:bc.isatty(1)}),stderr:fa({isTTY:bc.isatty(2)})}});var Cc=St((_e,Ui)=>{var iy=require("tty"),zi=require("util");_e.init=dy;_e.log=ly;_e.formatArgs=oy;_e.save=uy;_e.load=cy;_e.useColors=sy;_e.destroy=zi.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");_e.colors=[6,2,3,4,5,1];try{let t=xc();t&&(t.stderr||t).level>=2&&(_e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}_e.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),i=process.env[e];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),t[n]=i,t},{});function sy(){return"colors"in _e.inspectOpts?!!_e.inspectOpts.colors:iy.isatty(process.stderr.fd)}r(sy,"useColors");function oy(t){let{namespace:e,useColors:n}=this;if(n){let i=this.color,s="\x1B[3"+(i<8?i:"8;5;"+i),a=`  ${s};1m${e} \x1B[0m`;t[0]=a+t[0].split(`
`).join(`
`+a),t.push(s+"m+"+Ui.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=ay()+e+" "+t[0]}r(oy,"formatArgs");function ay(){return _e.inspectOpts.hideDate?"":new Date().toISOString()+" "}r(ay,"getDate");function ly(...t){return process.stderr.write(zi.formatWithOptions(_e.inspectOpts,...t)+`
`)}r(ly,"log");function uy(t){t?process.env.DEBUG=t:delete process.env.DEBUG}r(uy,"save");function cy(){return process.env.DEBUG}r(cy,"load");function dy(t){t.inspectOpts={};let e=Object.keys(_e.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=_e.inspectOpts[e[n]]}r(dy,"init");Ui.exports=da()(_e);var{formatters:vc}=Ui.exports;vc.o=function(t){return this.inspectOpts.colors=this.useColors,zi.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};vc.O=function(t){return this.inspectOpts.colors=this.useColors,zi.inspect(t,this.inspectOpts)}});var Ac=St((Zx,ha)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?ha.exports=gc():ha.exports=Cc()});var Xc=St((is,Qc)=>{(function(t,e){typeof is=="object"&&typeof Qc<"u"?e(is):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(is,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=r(S=>{if(typeof S!="string")throw new TypeError("Invalid argument expected string");let A=S.match(e);if(!A)throw new Error(`Invalid argument not valid semver ('${S}' received)`);return A.shift(),A},"validateAndParse"),i=r(S=>S==="*"||S==="x"||S==="X","isWildcard"),s=r(S=>{let A=parseInt(S,10);return isNaN(A)?S:A},"tryParse"),a=r((S,A)=>typeof S!=typeof A?[String(S),String(A)]:[S,A],"forceType"),l=r((S,A)=>{if(i(S)||i(A))return 0;let[P,M]=a(s(S),s(A));return P>M?1:P<M?-1:0},"compareStrings"),c=r((S,A)=>{for(let P=0;P<Math.max(S.length,A.length);P++){let M=l(S[P]||"0",A[P]||"0");if(M!==0)return M}return 0},"compareSegments"),d=r((S,A)=>{let P=n(S),M=n(A),L=P.pop(),V=M.pop(),E=c(P,M);return E!==0?E:L&&V?c(L.split("."),V.split(".")):L||V?L?-1:1:0},"compareVersions"),h=r((S,A,P)=>{y(P);let M=d(S,A);return p[P].includes(M)},"compare"),p={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},g=Object.keys(p),y=r(S=>{if(typeof S!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof S}`);if(g.indexOf(S)===-1)throw new Error(`Invalid operator, expected one of ${g.join("|")}`)},"assertValidOperator"),w=r((S,A)=>{if(A=A.replace(/([><=]+)\s+/g,"$1"),A.includes("||"))return A.split("||").some(J=>w(S,J));if(A.includes(" - ")){let[J,ie]=A.split(" - ",2);return w(S,`>=${J} <=${ie}`)}else if(A.includes(" "))return A.trim().replace(/\s{2,}/g," ").split(" ").every(J=>w(S,J));let P=A.match(/^([<>=~^]+)/),M=P?P[1]:"=";if(M!=="^"&&M!=="~")return h(S,A,M);let[L,V,E,,G]=n(S),[K,U,Q,,le]=n(A),te=[L,V,E],I=[K,U??"x",Q??"x"];if(le&&(!G||c(te,I)!==0||c(G.split("."),le.split("."))===-1))return!1;let $=I.findIndex(J=>J!=="0")+1,z=M==="~"?2:$>1?$:1;return!(c(te.slice(0,z),I.slice(0,z))!==0||c(te.slice(z),I.slice(z))===-1)},"satisfies"),C=r(S=>typeof S=="string"&&/^[v\d]/.test(S)&&e.test(S),"validate"),F=r(S=>typeof S=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(S),"validateStrict");t.compare=h,t.compareVersions=d,t.satisfies=w,t.validate=C,t.validateStrict=F}))});var Wf=St((HF,Bf)=>{"use strict";var Ls=Object.prototype.hasOwnProperty,Nf=Object.prototype.toString,Mf=Object.defineProperty,Of=Object.getOwnPropertyDescriptor,Df=r(function(e){return typeof Array.isArray=="function"?Array.isArray(e):Nf.call(e)==="[object Array]"},"isArray"),Lf=r(function(e){if(!e||Nf.call(e)!=="[object Object]")return!1;var n=Ls.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&Ls.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;var s;for(s in e);return typeof s>"u"||Ls.call(e,s)},"isPlainObject"),If=r(function(e,n){Mf&&n.name==="__proto__"?Mf(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},"setProperty"),Rf=r(function(e,n){if(n==="__proto__")if(Ls.call(e,n)){if(Of)return Of(e,n).value}else return;return e[n]},"getProperty");Bf.exports=r(function t(){var e,n,i,s,a,l,c=arguments[0],d=1,h=arguments.length,p=!1;for(typeof c=="boolean"&&(p=c,c=arguments[1]||{},d=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});d<h;++d)if(e=arguments[d],e!=null)for(n in e)i=Rf(c,n),s=Rf(e,n),c!==s&&(p&&s&&(Lf(s)||(a=Df(s)))?(a?(a=!1,l=i&&Df(i)?i:[]):l=i&&Lf(i)?i:{},If(c,{name:n,newValue:t(p,l,s)})):typeof s<"u"&&If(c,{name:n,newValue:s}));return c},"extend")});var Nn=St((Gl,kr)=>{(function(t,e){typeof Gl=="object"&&typeof kr<"u"?kr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(Gl,(function(){"use strict";var t;function e(){return t.apply(null,arguments)}r(e,"hooks");function n(o){t=o}r(n,"setHookCallback");function i(o){return o instanceof Array||Object.prototype.toString.call(o)==="[object Array]"}r(i,"isArray");function s(o){return o!=null&&Object.prototype.toString.call(o)==="[object Object]"}r(s,"isObject");function a(o,u){return Object.prototype.hasOwnProperty.call(o,u)}r(a,"hasOwnProp");function l(o){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(o).length===0;var u;for(u in o)if(a(o,u))return!1;return!0}r(l,"isObjectEmpty");function c(o){return o===void 0}r(c,"isUndefined");function d(o){return typeof o=="number"||Object.prototype.toString.call(o)==="[object Number]"}r(d,"isNumber");function h(o){return o instanceof Date||Object.prototype.toString.call(o)==="[object Date]"}r(h,"isDate");function p(o,u){var f=[],m,b=o.length;for(m=0;m<b;++m)f.push(u(o[m],m));return f}r(p,"map");function g(o,u){for(var f in u)a(u,f)&&(o[f]=u[f]);return a(u,"toString")&&(o.toString=u.toString),a(u,"valueOf")&&(o.valueOf=u.valueOf),o}r(g,"extend");function y(o,u,f,m){return yu(o,u,f,m,!0).utc()}r(y,"createUTC");function w(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}r(w,"defaultParsingFlags");function C(o){return o._pf==null&&(o._pf=w()),o._pf}r(C,"getParsingFlags");var F;Array.prototype.some?F=Array.prototype.some:F=r(function(o){var u=Object(this),f=u.length>>>0,m;for(m=0;m<f;m++)if(m in u&&o.call(this,u[m],m,u))return!0;return!1},"some");function S(o){var u=null,f=!1,m=o._d&&!isNaN(o._d.getTime());if(m&&(u=C(o),f=F.call(u.parsedDateParts,function(b){return b!=null}),m=u.overflow<0&&!u.empty&&!u.invalidEra&&!u.invalidMonth&&!u.invalidWeekday&&!u.weekdayMismatch&&!u.nullInput&&!u.invalidFormat&&!u.userInvalidated&&(!u.meridiem||u.meridiem&&f),o._strict&&(m=m&&u.charsLeftOver===0&&u.unusedTokens.length===0&&u.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(o))o._isValid=m;else return m;return o._isValid}r(S,"isValid");function A(o){var u=y(NaN);return o!=null?g(C(u),o):C(u).userInvalidated=!0,u}r(A,"createInvalid");var P=e.momentProperties=[],M=!1;function L(o,u){var f,m,b,x=P.length;if(c(u._isAMomentObject)||(o._isAMomentObject=u._isAMomentObject),c(u._i)||(o._i=u._i),c(u._f)||(o._f=u._f),c(u._l)||(o._l=u._l),c(u._strict)||(o._strict=u._strict),c(u._tzm)||(o._tzm=u._tzm),c(u._isUTC)||(o._isUTC=u._isUTC),c(u._offset)||(o._offset=u._offset),c(u._pf)||(o._pf=C(u)),c(u._locale)||(o._locale=u._locale),x>0)for(f=0;f<x;f++)m=P[f],b=u[m],c(b)||(o[m]=b);return o}r(L,"copyConfig");function V(o){L(this,o),this._d=new Date(o._d!=null?o._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),M===!1&&(M=!0,e.updateOffset(this),M=!1)}r(V,"Moment");function E(o){return o instanceof V||o!=null&&o._isAMomentObject!=null}r(E,"isMoment");function G(o){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+o)}r(G,"warn");function K(o,u){var f=!0;return g(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,o),f){var m=[],b,x,T,N=arguments.length;for(x=0;x<N;x++){if(b="",typeof arguments[x]=="object"){b+=`
[`+x+"] ";for(T in arguments[0])a(arguments[0],T)&&(b+=T+": "+arguments[0][T]+", ");b=b.slice(0,-2)}else b=arguments[x];m.push(b)}G(o+`
Arguments: `+Array.prototype.slice.call(m).join("")+`
`+new Error().stack),f=!1}return u.apply(this,arguments)},u)}r(K,"deprecate");var U={};function Q(o,u){e.deprecationHandler!=null&&e.deprecationHandler(o,u),U[o]||(G(u),U[o]=!0)}r(Q,"deprecateSimple"),e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function le(o){return typeof Function<"u"&&o instanceof Function||Object.prototype.toString.call(o)==="[object Function]"}r(le,"isFunction");function te(o){var u,f;for(f in o)a(o,f)&&(u=o[f],le(u)?this[f]=u:this["_"+f]=u);this._config=o,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}r(te,"set");function I(o,u){var f=g({},o),m;for(m in u)a(u,m)&&(s(o[m])&&s(u[m])?(f[m]={},g(f[m],o[m]),g(f[m],u[m])):u[m]!=null?f[m]=u[m]:delete f[m]);for(m in o)a(o,m)&&!a(u,m)&&s(o[m])&&(f[m]=g({},f[m]));return f}r(I,"mergeConfigs");function $(o){o!=null&&this.set(o)}r($,"Locale");var z;Object.keys?z=Object.keys:z=r(function(o){var u,f=[];for(u in o)a(o,u)&&f.push(u);return f},"keys");var J={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ie(o,u,f){var m=this._calendar[o]||this._calendar.sameElse;return le(m)?m.call(u,f):m}r(ie,"calendar");function ue(o,u,f){var m=""+Math.abs(o),b=u-m.length,x=o>=0;return(x?f?"+":"":"-")+Math.pow(10,Math.max(0,b)).toString().substr(1)+m}r(ue,"zeroFill");var Ce=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,v=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oe={},ge={};function k(o,u,f,m){var b=m;typeof m=="string"&&(b=r(function(){return this[m]()},"func")),o&&(ge[o]=b),u&&(ge[u[0]]=function(){return ue(b.apply(this,arguments),u[1],u[2])}),f&&(ge[f]=function(){return this.localeData().ordinal(b.apply(this,arguments),o)})}r(k,"addFormatToken");function Pe(o){return o.match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"")}r(Pe,"removeFormattingTokens");function $t(o){var u=o.match(Ce),f,m;for(f=0,m=u.length;f<m;f++)ge[u[f]]?u[f]=ge[u[f]]:u[f]=Pe(u[f]);return function(b){var x="",T;for(T=0;T<m;T++)x+=le(u[T])?u[T].call(b,o):u[T];return x}}r($t,"makeFormatFunction");function rn(o,u){return o.isValid()?(u=bn(u,o.localeData()),oe[u]=oe[u]||$t(u),oe[u](o)):o.localeData().invalidDate()}r(rn,"formatMoment");function bn(o,u){var f=5;function m(b){return u.longDateFormat(b)||b}for(r(m,"replaceLongDateFormatTokens"),v.lastIndex=0;f>=0&&v.test(o);)o=o.replace(v,m),v.lastIndex=0,f-=1;return o}r(bn,"expandFormat");var Ae={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function kn(o){var u=this._longDateFormat[o],f=this._longDateFormat[o.toUpperCase()];return u||!f?u:(this._longDateFormat[o]=f.match(Ce).map(function(m){return m==="MMMM"||m==="MM"||m==="DD"||m==="dddd"?m.slice(1):m}).join(""),this._longDateFormat[o])}r(kn,"longDateFormat");var bt="Invalid date";function zt(){return this._invalidDate}r(zt,"invalidDate");var sn="%d",Cr=/\d{1,2}/;function Bo(o){return this._ordinal.replace("%d",o)}r(Bo,"ordinal");var pi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function mi(o,u,f,m){var b=this._relativeTime[f];return le(b)?b(o,u,f,m):b.replace(/%d/i,o)}r(mi,"relativeTime");function gi(o,u){var f=this._relativeTime[o>0?"future":"past"];return le(f)?f(u):f.replace(/%s/i,u)}r(gi,"pastFuture");var yi={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ve(o){return typeof o=="string"?yi[o]||yi[o.toLowerCase()]:void 0}r(Ve,"normalizeUnits");function Wn(o){var u={},f,m;for(m in o)a(o,m)&&(f=Ve(m),f&&(u[f]=o[m]));return u}r(Wn,"normalizeObjectUnits");var Wo={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Vo(o){var u=[],f;for(f in o)a(o,f)&&u.push({unit:f,priority:Wo[f]});return u.sort(function(m,b){return m.priority-b.priority}),u}r(Vo,"getPrioritizedUnits");var wi=/\d/,Ye=/\d\d/,bi=/\d{3}/,_=/\d{4}/,D=/[+-]?\d{6}/,R=/\d\d?/,X=/\d\d\d\d?/,ae=/\d\d\d\d\d\d?/,Re=/\d{1,3}/,kt=/\d{1,4}/,Je=/[+-]?\d{1,6}/,st=/\d+/,Mt=/[+-]?\d+/,$e=/Z|[+-]\d\d:?\d\d/gi,xt=/Z|[+-]\d\d(?::?\d\d)?/gi,vt=/[+-]?\d+(\.\d{1,3})?/,Ar=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Vn=/^[1-9]\d?/,Yo=/^([1-9]\d|\d)/,ki;ki={};function B(o,u,f){ki[o]=le(u)?u:function(m,b){return m&&f?f:u}}r(B,"addRegexToken");function zh(o,u){return a(ki,o)?ki[o](u._strict,u._locale):new RegExp(Uh(o))}r(zh,"getParseRegexForToken");function Uh(o){return Ut(o.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(u,f,m,b,x){return f||m||b||x}))}r(Uh,"unescapeFormat");function Ut(o){return o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}r(Ut,"regexEscape");function ot(o){return o<0?Math.ceil(o)||0:Math.floor(o)}r(ot,"absFloor");function ee(o){var u=+o,f=0;return u!==0&&isFinite(u)&&(f=ot(u)),f}r(ee,"toInt");var $o={};function ce(o,u){var f,m=u,b;for(typeof o=="string"&&(o=[o]),d(u)&&(m=r(function(x,T){T[u]=ee(x)},"func")),b=o.length,f=0;f<b;f++)$o[o[f]]=m}r(ce,"addParseToken");function Sr(o,u){ce(o,function(f,m,b,x){b._w=b._w||{},u(f,b._w,b,x)})}r(Sr,"addWeekParseToken");function Hh(o,u,f){u!=null&&a($o,o)&&$o[o](u,f._a,f,o)}r(Hh,"addTimeToArrayFromToken");function xi(o){return o%4===0&&o%100!==0||o%400===0}r(xi,"isLeapYear");var Ne=0,Ht=1,Ot=2,Se=3,Ct=4,jt=5,xn=6,jh=7,Gh=8;k("Y",0,0,function(){var o=this.year();return o<=9999?ue(o,4):"+"+o}),k(0,["YY",2],0,function(){return this.year()%100}),k(0,["YYYY",4],0,"year"),k(0,["YYYYY",5],0,"year"),k(0,["YYYYYY",6,!0],0,"year"),B("Y",Mt),B("YY",R,Ye),B("YYYY",kt,_),B("YYYYY",Je,D),B("YYYYYY",Je,D),ce(["YYYYY","YYYYYY"],Ne),ce("YYYY",function(o,u){u[Ne]=o.length===2?e.parseTwoDigitYear(o):ee(o)}),ce("YY",function(o,u){u[Ne]=e.parseTwoDigitYear(o)}),ce("Y",function(o,u){u[Ne]=parseInt(o,10)});function Er(o){return xi(o)?366:365}r(Er,"daysInYear"),e.parseTwoDigitYear=function(o){return ee(o)+(ee(o)>68?1900:2e3)};var tu=Yn("FullYear",!0);function Kh(){return xi(this.year())}r(Kh,"getIsLeapYear");function Yn(o,u){return function(f){return f!=null?(nu(this,o,f),e.updateOffset(this,u),this):Tr(this,o)}}r(Yn,"makeGetSet");function Tr(o,u){if(!o.isValid())return NaN;var f=o._d,m=o._isUTC;switch(u){case"Milliseconds":return m?f.getUTCMilliseconds():f.getMilliseconds();case"Seconds":return m?f.getUTCSeconds():f.getSeconds();case"Minutes":return m?f.getUTCMinutes():f.getMinutes();case"Hours":return m?f.getUTCHours():f.getHours();case"Date":return m?f.getUTCDate():f.getDate();case"Day":return m?f.getUTCDay():f.getDay();case"Month":return m?f.getUTCMonth():f.getMonth();case"FullYear":return m?f.getUTCFullYear():f.getFullYear();default:return NaN}}r(Tr,"get");function nu(o,u,f){var m,b,x,T,N;if(!(!o.isValid()||isNaN(f))){switch(m=o._d,b=o._isUTC,u){case"Milliseconds":return void(b?m.setUTCMilliseconds(f):m.setMilliseconds(f));case"Seconds":return void(b?m.setUTCSeconds(f):m.setSeconds(f));case"Minutes":return void(b?m.setUTCMinutes(f):m.setMinutes(f));case"Hours":return void(b?m.setUTCHours(f):m.setHours(f));case"Date":return void(b?m.setUTCDate(f):m.setDate(f));case"FullYear":break;default:return}x=f,T=o.month(),N=o.date(),N=N===29&&T===1&&!xi(x)?28:N,b?m.setUTCFullYear(x,T,N):m.setFullYear(x,T,N)}}r(nu,"set$1");function qh(o){return o=Ve(o),le(this[o])?this[o]():this}r(qh,"stringGet");function Jh(o,u){if(typeof o=="object"){o=Wn(o);var f=Vo(o),m,b=f.length;for(m=0;m<b;m++)this[f[m].unit](o[f[m].unit])}else if(o=Ve(o),le(this[o]))return this[o](u);return this}r(Jh,"stringSet");function Zh(o,u){return(o%u+u)%u}r(Zh,"mod");var be;Array.prototype.indexOf?be=Array.prototype.indexOf:be=r(function(o){var u;for(u=0;u<this.length;++u)if(this[u]===o)return u;return-1},"indexOf");function zo(o,u){if(isNaN(o)||isNaN(u))return NaN;var f=Zh(u,12);return o+=(u-f)/12,f===1?xi(o)?29:28:31-f%7%2}r(zo,"daysInMonth"),k("M",["MM",2],"Mo",function(){return this.month()+1}),k("MMM",0,0,function(o){return this.localeData().monthsShort(this,o)}),k("MMMM",0,0,function(o){return this.localeData().months(this,o)}),B("M",R,Vn),B("MM",R,Ye),B("MMM",function(o,u){return u.monthsShortRegex(o)}),B("MMMM",function(o,u){return u.monthsRegex(o)}),ce(["M","MM"],function(o,u){u[Ht]=ee(o)-1}),ce(["MMM","MMMM"],function(o,u,f,m){var b=f._locale.monthsParse(o,m,f._strict);b!=null?u[Ht]=b:C(f).invalidMonth=o});var Qh="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ru="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),iu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Xh=Ar,ep=Ar;function tp(o,u){return o?i(this._months)?this._months[o.month()]:this._months[(this._months.isFormat||iu).test(u)?"format":"standalone"][o.month()]:i(this._months)?this._months:this._months.standalone}r(tp,"localeMonths");function np(o,u){return o?i(this._monthsShort)?this._monthsShort[o.month()]:this._monthsShort[iu.test(u)?"format":"standalone"][o.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}r(np,"localeMonthsShort");function rp(o,u,f){var m,b,x,T=o.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],m=0;m<12;++m)x=y([2e3,m]),this._shortMonthsParse[m]=this.monthsShort(x,"").toLocaleLowerCase(),this._longMonthsParse[m]=this.months(x,"").toLocaleLowerCase();return f?u==="MMM"?(b=be.call(this._shortMonthsParse,T),b!==-1?b:null):(b=be.call(this._longMonthsParse,T),b!==-1?b:null):u==="MMM"?(b=be.call(this._shortMonthsParse,T),b!==-1?b:(b=be.call(this._longMonthsParse,T),b!==-1?b:null)):(b=be.call(this._longMonthsParse,T),b!==-1?b:(b=be.call(this._shortMonthsParse,T),b!==-1?b:null))}r(rp,"handleStrictParse");function ip(o,u,f){var m,b,x;if(this._monthsParseExact)return rp.call(this,o,u,f);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),m=0;m<12;m++){if(b=y([2e3,m]),f&&!this._longMonthsParse[m]&&(this._longMonthsParse[m]=new RegExp("^"+this.months(b,"").replace(".","")+"$","i"),this._shortMonthsParse[m]=new RegExp("^"+this.monthsShort(b,"").replace(".","")+"$","i")),!f&&!this._monthsParse[m]&&(x="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[m]=new RegExp(x.replace(".",""),"i")),f&&u==="MMMM"&&this._longMonthsParse[m].test(o))return m;if(f&&u==="MMM"&&this._shortMonthsParse[m].test(o))return m;if(!f&&this._monthsParse[m].test(o))return m}}r(ip,"localeMonthsParse");function su(o,u){if(!o.isValid())return o;if(typeof u=="string"){if(/^\d+$/.test(u))u=ee(u);else if(u=o.localeData().monthsParse(u),!d(u))return o}var f=u,m=o.date();return m=m<29?m:Math.min(m,zo(o.year(),f)),o._isUTC?o._d.setUTCMonth(f,m):o._d.setMonth(f,m),o}r(su,"setMonth");function ou(o){return o!=null?(su(this,o),e.updateOffset(this,!0),this):Tr(this,"Month")}r(ou,"getSetMonth");function sp(){return zo(this.year(),this.month())}r(sp,"getDaysInMonth");function op(o){return this._monthsParseExact?(a(this,"_monthsRegex")||au.call(this),o?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Xh),this._monthsShortStrictRegex&&o?this._monthsShortStrictRegex:this._monthsShortRegex)}r(op,"monthsShortRegex");function ap(o){return this._monthsParseExact?(a(this,"_monthsRegex")||au.call(this),o?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=ep),this._monthsStrictRegex&&o?this._monthsStrictRegex:this._monthsRegex)}r(ap,"monthsRegex");function au(){function o(H,ne){return ne.length-H.length}r(o,"cmpLenRev");var u=[],f=[],m=[],b,x,T,N;for(b=0;b<12;b++)x=y([2e3,b]),T=Ut(this.monthsShort(x,"")),N=Ut(this.months(x,"")),u.push(T),f.push(N),m.push(N),m.push(T);u.sort(o),f.sort(o),m.sort(o),this._monthsRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+u.join("|")+")","i")}r(au,"computeMonthsParse");function lp(o,u,f,m,b,x,T){var N;return o<100&&o>=0?(N=new Date(o+400,u,f,m,b,x,T),isFinite(N.getFullYear())&&N.setFullYear(o)):N=new Date(o,u,f,m,b,x,T),N}r(lp,"createDate");function Pr(o){var u,f;return o<100&&o>=0?(f=Array.prototype.slice.call(arguments),f[0]=o+400,u=new Date(Date.UTC.apply(null,f)),isFinite(u.getUTCFullYear())&&u.setUTCFullYear(o)):u=new Date(Date.UTC.apply(null,arguments)),u}r(Pr,"createUTCDate");function vi(o,u,f){var m=7+u-f,b=(7+Pr(o,0,m).getUTCDay()-u)%7;return-b+m-1}r(vi,"firstWeekOffset");function lu(o,u,f,m,b){var x=(7+f-m)%7,T=vi(o,m,b),N=1+7*(u-1)+x+T,H,ne;return N<=0?(H=o-1,ne=Er(H)+N):N>Er(o)?(H=o+1,ne=N-Er(o)):(H=o,ne=N),{year:H,dayOfYear:ne}}r(lu,"dayOfYearFromWeeks");function Fr(o,u,f){var m=vi(o.year(),u,f),b=Math.floor((o.dayOfYear()-m-1)/7)+1,x,T;return b<1?(T=o.year()-1,x=b+Gt(T,u,f)):b>Gt(o.year(),u,f)?(x=b-Gt(o.year(),u,f),T=o.year()+1):(T=o.year(),x=b),{week:x,year:T}}r(Fr,"weekOfYear");function Gt(o,u,f){var m=vi(o,u,f),b=vi(o+1,u,f);return(Er(o)-m+b)/7}r(Gt,"weeksInYear"),k("w",["ww",2],"wo","week"),k("W",["WW",2],"Wo","isoWeek"),B("w",R,Vn),B("ww",R,Ye),B("W",R,Vn),B("WW",R,Ye),Sr(["w","ww","W","WW"],function(o,u,f,m){u[m.substr(0,1)]=ee(o)});function up(o){return Fr(o,this._week.dow,this._week.doy).week}r(up,"localeWeek");var cp={dow:0,doy:6};function dp(){return this._week.dow}r(dp,"localeFirstDayOfWeek");function fp(){return this._week.doy}r(fp,"localeFirstDayOfYear");function hp(o){var u=this.localeData().week(this);return o==null?u:this.add((o-u)*7,"d")}r(hp,"getSetWeek");function pp(o){var u=Fr(this,1,4).week;return o==null?u:this.add((o-u)*7,"d")}r(pp,"getSetISOWeek"),k("d",0,"do","day"),k("dd",0,0,function(o){return this.localeData().weekdaysMin(this,o)}),k("ddd",0,0,function(o){return this.localeData().weekdaysShort(this,o)}),k("dddd",0,0,function(o){return this.localeData().weekdays(this,o)}),k("e",0,0,"weekday"),k("E",0,0,"isoWeekday"),B("d",R),B("e",R),B("E",R),B("dd",function(o,u){return u.weekdaysMinRegex(o)}),B("ddd",function(o,u){return u.weekdaysShortRegex(o)}),B("dddd",function(o,u){return u.weekdaysRegex(o)}),Sr(["dd","ddd","dddd"],function(o,u,f,m){var b=f._locale.weekdaysParse(o,m,f._strict);b!=null?u.d=b:C(f).invalidWeekday=o}),Sr(["d","e","E"],function(o,u,f,m){u[m]=ee(o)});function mp(o,u){return typeof o!="string"?o:isNaN(o)?(o=u.weekdaysParse(o),typeof o=="number"?o:null):parseInt(o,10)}r(mp,"parseWeekday");function gp(o,u){return typeof o=="string"?u.weekdaysParse(o)%7||7:isNaN(o)?null:o}r(gp,"parseIsoWeekday");function Uo(o,u){return o.slice(u,7).concat(o.slice(0,u))}r(Uo,"shiftWeekdays");var yp="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),uu="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wp="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),bp=Ar,kp=Ar,xp=Ar;function vp(o,u){var f=i(this._weekdays)?this._weekdays:this._weekdays[o&&o!==!0&&this._weekdays.isFormat.test(u)?"format":"standalone"];return o===!0?Uo(f,this._week.dow):o?f[o.day()]:f}r(vp,"localeWeekdays");function Cp(o){return o===!0?Uo(this._weekdaysShort,this._week.dow):o?this._weekdaysShort[o.day()]:this._weekdaysShort}r(Cp,"localeWeekdaysShort");function Ap(o){return o===!0?Uo(this._weekdaysMin,this._week.dow):o?this._weekdaysMin[o.day()]:this._weekdaysMin}r(Ap,"localeWeekdaysMin");function Sp(o,u,f){var m,b,x,T=o.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],m=0;m<7;++m)x=y([2e3,1]).day(m),this._minWeekdaysParse[m]=this.weekdaysMin(x,"").toLocaleLowerCase(),this._shortWeekdaysParse[m]=this.weekdaysShort(x,"").toLocaleLowerCase(),this._weekdaysParse[m]=this.weekdays(x,"").toLocaleLowerCase();return f?u==="dddd"?(b=be.call(this._weekdaysParse,T),b!==-1?b:null):u==="ddd"?(b=be.call(this._shortWeekdaysParse,T),b!==-1?b:null):(b=be.call(this._minWeekdaysParse,T),b!==-1?b:null):u==="dddd"?(b=be.call(this._weekdaysParse,T),b!==-1||(b=be.call(this._shortWeekdaysParse,T),b!==-1)?b:(b=be.call(this._minWeekdaysParse,T),b!==-1?b:null)):u==="ddd"?(b=be.call(this._shortWeekdaysParse,T),b!==-1||(b=be.call(this._weekdaysParse,T),b!==-1)?b:(b=be.call(this._minWeekdaysParse,T),b!==-1?b:null)):(b=be.call(this._minWeekdaysParse,T),b!==-1||(b=be.call(this._weekdaysParse,T),b!==-1)?b:(b=be.call(this._shortWeekdaysParse,T),b!==-1?b:null))}r(Sp,"handleStrictParse$1");function Ep(o,u,f){var m,b,x;if(this._weekdaysParseExact)return Sp.call(this,o,u,f);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),m=0;m<7;m++){if(b=y([2e3,1]).day(m),f&&!this._fullWeekdaysParse[m]&&(this._fullWeekdaysParse[m]=new RegExp("^"+this.weekdays(b,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[m]=new RegExp("^"+this.weekdaysShort(b,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[m]=new RegExp("^"+this.weekdaysMin(b,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[m]||(x="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[m]=new RegExp(x.replace(".",""),"i")),f&&u==="dddd"&&this._fullWeekdaysParse[m].test(o))return m;if(f&&u==="ddd"&&this._shortWeekdaysParse[m].test(o))return m;if(f&&u==="dd"&&this._minWeekdaysParse[m].test(o))return m;if(!f&&this._weekdaysParse[m].test(o))return m}}r(Ep,"localeWeekdaysParse");function Tp(o){if(!this.isValid())return o!=null?this:NaN;var u=Tr(this,"Day");return o!=null?(o=mp(o,this.localeData()),this.add(o-u,"d")):u}r(Tp,"getSetDayOfWeek");function Pp(o){if(!this.isValid())return o!=null?this:NaN;var u=(this.day()+7-this.localeData()._week.dow)%7;return o==null?u:this.add(o-u,"d")}r(Pp,"getSetLocaleDayOfWeek");function Fp(o){if(!this.isValid())return o!=null?this:NaN;if(o!=null){var u=gp(o,this.localeData());return this.day(this.day()%7?u:u-7)}else return this.day()||7}r(Fp,"getSetISODayOfWeek");function _p(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ho.call(this),o?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=bp),this._weekdaysStrictRegex&&o?this._weekdaysStrictRegex:this._weekdaysRegex)}r(_p,"weekdaysRegex");function Mp(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ho.call(this),o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=kp),this._weekdaysShortStrictRegex&&o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}r(Mp,"weekdaysShortRegex");function Op(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ho.call(this),o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=xp),this._weekdaysMinStrictRegex&&o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}r(Op,"weekdaysMinRegex");function Ho(){function o(ze,Qt){return Qt.length-ze.length}r(o,"cmpLenRev");var u=[],f=[],m=[],b=[],x,T,N,H,ne;for(x=0;x<7;x++)T=y([2e3,1]).day(x),N=Ut(this.weekdaysMin(T,"")),H=Ut(this.weekdaysShort(T,"")),ne=Ut(this.weekdays(T,"")),u.push(N),f.push(H),m.push(ne),b.push(N),b.push(H),b.push(ne);u.sort(o),f.sort(o),m.sort(o),b.sort(o),this._weekdaysRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+f.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+u.join("|")+")","i")}r(Ho,"computeWeekdaysParse");function jo(){return this.hours()%12||12}r(jo,"hFormat");function Dp(){return this.hours()||24}r(Dp,"kFormat"),k("H",["HH",2],0,"hour"),k("h",["hh",2],0,jo),k("k",["kk",2],0,Dp),k("hmm",0,0,function(){return""+jo.apply(this)+ue(this.minutes(),2)}),k("hmmss",0,0,function(){return""+jo.apply(this)+ue(this.minutes(),2)+ue(this.seconds(),2)}),k("Hmm",0,0,function(){return""+this.hours()+ue(this.minutes(),2)}),k("Hmmss",0,0,function(){return""+this.hours()+ue(this.minutes(),2)+ue(this.seconds(),2)});function cu(o,u){k(o,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),u)})}r(cu,"meridiem"),cu("a",!0),cu("A",!1);function du(o,u){return u._meridiemParse}r(du,"matchMeridiem"),B("a",du),B("A",du),B("H",R,Yo),B("h",R,Vn),B("k",R,Vn),B("HH",R,Ye),B("hh",R,Ye),B("kk",R,Ye),B("hmm",X),B("hmmss",ae),B("Hmm",X),B("Hmmss",ae),ce(["H","HH"],Se),ce(["k","kk"],function(o,u,f){var m=ee(o);u[Se]=m===24?0:m}),ce(["a","A"],function(o,u,f){f._isPm=f._locale.isPM(o),f._meridiem=o}),ce(["h","hh"],function(o,u,f){u[Se]=ee(o),C(f).bigHour=!0}),ce("hmm",function(o,u,f){var m=o.length-2;u[Se]=ee(o.substr(0,m)),u[Ct]=ee(o.substr(m)),C(f).bigHour=!0}),ce("hmmss",function(o,u,f){var m=o.length-4,b=o.length-2;u[Se]=ee(o.substr(0,m)),u[Ct]=ee(o.substr(m,2)),u[jt]=ee(o.substr(b)),C(f).bigHour=!0}),ce("Hmm",function(o,u,f){var m=o.length-2;u[Se]=ee(o.substr(0,m)),u[Ct]=ee(o.substr(m))}),ce("Hmmss",function(o,u,f){var m=o.length-4,b=o.length-2;u[Se]=ee(o.substr(0,m)),u[Ct]=ee(o.substr(m,2)),u[jt]=ee(o.substr(b))});function Lp(o){return(o+"").toLowerCase().charAt(0)==="p"}r(Lp,"localeIsPM");var Ip=/[ap]\.?m?\.?/i,Rp=Yn("Hours",!0);function Np(o,u,f){return o>11?f?"pm":"PM":f?"am":"AM"}r(Np,"localeMeridiem");var fu={calendar:J,longDateFormat:Ae,invalidDate:bt,ordinal:sn,dayOfMonthOrdinalParse:Cr,relativeTime:pi,months:Qh,monthsShort:ru,week:cp,weekdays:yp,weekdaysMin:wp,weekdaysShort:uu,meridiemParse:Ip},ye={},_r={},Mr;function Bp(o,u){var f,m=Math.min(o.length,u.length);for(f=0;f<m;f+=1)if(o[f]!==u[f])return f;return m}r(Bp,"commonPrefix");function hu(o){return o&&o.toLowerCase().replace("_","-")}r(hu,"normalizeLocale");function Wp(o){for(var u=0,f,m,b,x;u<o.length;){for(x=hu(o[u]).split("-"),f=x.length,m=hu(o[u+1]),m=m?m.split("-"):null;f>0;){if(b=Ci(x.slice(0,f).join("-")),b)return b;if(m&&m.length>=f&&Bp(x,m)>=f-1)break;f--}u++}return Mr}r(Wp,"chooseLocale");function Vp(o){return!!(o&&o.match("^[^/\\\\]*$"))}r(Vp,"isLocaleNameSane");function Ci(o){var u=null,f;if(ye[o]===void 0&&typeof kr<"u"&&kr&&kr.exports&&Vp(o))try{u=Mr._abbr,f=require,f("./locale/"+o),on(u)}catch{ye[o]=null}return ye[o]}r(Ci,"loadLocale");function on(o,u){var f;return o&&(c(u)?f=Kt(o):f=Go(o,u),f?Mr=f:typeof console<"u"&&console.warn&&console.warn("Locale "+o+" not found. Did you forget to load it?")),Mr._abbr}r(on,"getSetGlobalLocale");function Go(o,u){if(u!==null){var f,m=fu;if(u.abbr=o,ye[o]!=null)Q("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),m=ye[o]._config;else if(u.parentLocale!=null)if(ye[u.parentLocale]!=null)m=ye[u.parentLocale]._config;else if(f=Ci(u.parentLocale),f!=null)m=f._config;else return _r[u.parentLocale]||(_r[u.parentLocale]=[]),_r[u.parentLocale].push({name:o,config:u}),null;return ye[o]=new $(I(m,u)),_r[o]&&_r[o].forEach(function(b){Go(b.name,b.config)}),on(o),ye[o]}else return delete ye[o],null}r(Go,"defineLocale");function Yp(o,u){if(u!=null){var f,m,b=fu;ye[o]!=null&&ye[o].parentLocale!=null?ye[o].set(I(ye[o]._config,u)):(m=Ci(o),m!=null&&(b=m._config),u=I(b,u),m==null&&(u.abbr=o),f=new $(u),f.parentLocale=ye[o],ye[o]=f),on(o)}else ye[o]!=null&&(ye[o].parentLocale!=null?(ye[o]=ye[o].parentLocale,o===on()&&on(o)):ye[o]!=null&&delete ye[o]);return ye[o]}r(Yp,"updateLocale");function Kt(o){var u;if(o&&o._locale&&o._locale._abbr&&(o=o._locale._abbr),!o)return Mr;if(!i(o)){if(u=Ci(o),u)return u;o=[o]}return Wp(o)}r(Kt,"getLocale");function $p(){return z(ye)}r($p,"listLocales");function Ko(o){var u,f=o._a;return f&&C(o).overflow===-2&&(u=f[Ht]<0||f[Ht]>11?Ht:f[Ot]<1||f[Ot]>zo(f[Ne],f[Ht])?Ot:f[Se]<0||f[Se]>24||f[Se]===24&&(f[Ct]!==0||f[jt]!==0||f[xn]!==0)?Se:f[Ct]<0||f[Ct]>59?Ct:f[jt]<0||f[jt]>59?jt:f[xn]<0||f[xn]>999?xn:-1,C(o)._overflowDayOfYear&&(u<Ne||u>Ot)&&(u=Ot),C(o)._overflowWeeks&&u===-1&&(u=jh),C(o)._overflowWeekday&&u===-1&&(u=Gh),C(o).overflow=u),o}r(Ko,"checkOverflow");var zp=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Up=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Hp=/Z|[+-]\d\d(?::?\d\d)?/,Ai=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],qo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],jp=/^\/?Date\((-?\d+)/i,Gp=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Kp={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function pu(o){var u,f,m=o._i,b=zp.exec(m)||Up.exec(m),x,T,N,H,ne=Ai.length,ze=qo.length;if(b){for(C(o).iso=!0,u=0,f=ne;u<f;u++)if(Ai[u][1].exec(b[1])){T=Ai[u][0],x=Ai[u][2]!==!1;break}if(T==null){o._isValid=!1;return}if(b[3]){for(u=0,f=ze;u<f;u++)if(qo[u][1].exec(b[3])){N=(b[2]||" ")+qo[u][0];break}if(N==null){o._isValid=!1;return}}if(!x&&N!=null){o._isValid=!1;return}if(b[4])if(Hp.exec(b[4]))H="Z";else{o._isValid=!1;return}o._f=T+(N||"")+(H||""),Zo(o)}else o._isValid=!1}r(pu,"configFromISO");function qp(o,u,f,m,b,x){var T=[Jp(o),ru.indexOf(u),parseInt(f,10),parseInt(m,10),parseInt(b,10)];return x&&T.push(parseInt(x,10)),T}r(qp,"extractFromRFC2822Strings");function Jp(o){var u=parseInt(o,10);return u<=49?2e3+u:u<=999?1900+u:u}r(Jp,"untruncateYear");function Zp(o){return o.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}r(Zp,"preprocessRFC2822");function Qp(o,u,f){if(o){var m=uu.indexOf(o),b=new Date(u[0],u[1],u[2]).getDay();if(m!==b)return C(f).weekdayMismatch=!0,f._isValid=!1,!1}return!0}r(Qp,"checkWeekday");function Xp(o,u,f){if(o)return Kp[o];if(u)return 0;var m=parseInt(f,10),b=m%100,x=(m-b)/100;return x*60+b}r(Xp,"calculateOffset");function mu(o){var u=Gp.exec(Zp(o._i)),f;if(u){if(f=qp(u[4],u[3],u[2],u[5],u[6],u[7]),!Qp(u[1],f,o))return;o._a=f,o._tzm=Xp(u[8],u[9],u[10]),o._d=Pr.apply(null,o._a),o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),C(o).rfc2822=!0}else o._isValid=!1}r(mu,"configFromRFC2822");function em(o){var u=jp.exec(o._i);if(u!==null){o._d=new Date(+u[1]);return}if(pu(o),o._isValid===!1)delete o._isValid;else return;if(mu(o),o._isValid===!1)delete o._isValid;else return;o._strict?o._isValid=!1:e.createFromInputFallback(o)}r(em,"configFromString"),e.createFromInputFallback=K("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(o){o._d=new Date(o._i+(o._useUTC?" UTC":""))});function $n(o,u,f){return o??u??f}r($n,"defaults");function tm(o){var u=new Date(e.now());return o._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()]}r(tm,"currentDateArray");function Jo(o){var u,f,m=[],b,x,T;if(!o._d){for(b=tm(o),o._w&&o._a[Ot]==null&&o._a[Ht]==null&&nm(o),o._dayOfYear!=null&&(T=$n(o._a[Ne],b[Ne]),(o._dayOfYear>Er(T)||o._dayOfYear===0)&&(C(o)._overflowDayOfYear=!0),f=Pr(T,0,o._dayOfYear),o._a[Ht]=f.getUTCMonth(),o._a[Ot]=f.getUTCDate()),u=0;u<3&&o._a[u]==null;++u)o._a[u]=m[u]=b[u];for(;u<7;u++)o._a[u]=m[u]=o._a[u]==null?u===2?1:0:o._a[u];o._a[Se]===24&&o._a[Ct]===0&&o._a[jt]===0&&o._a[xn]===0&&(o._nextDay=!0,o._a[Se]=0),o._d=(o._useUTC?Pr:lp).apply(null,m),x=o._useUTC?o._d.getUTCDay():o._d.getDay(),o._tzm!=null&&o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),o._nextDay&&(o._a[Se]=24),o._w&&typeof o._w.d<"u"&&o._w.d!==x&&(C(o).weekdayMismatch=!0)}}r(Jo,"configFromArray");function nm(o){var u,f,m,b,x,T,N,H,ne;u=o._w,u.GG!=null||u.W!=null||u.E!=null?(x=1,T=4,f=$n(u.GG,o._a[Ne],Fr(me(),1,4).year),m=$n(u.W,1),b=$n(u.E,1),(b<1||b>7)&&(H=!0)):(x=o._locale._week.dow,T=o._locale._week.doy,ne=Fr(me(),x,T),f=$n(u.gg,o._a[Ne],ne.year),m=$n(u.w,ne.week),u.d!=null?(b=u.d,(b<0||b>6)&&(H=!0)):u.e!=null?(b=u.e+x,(u.e<0||u.e>6)&&(H=!0)):b=x),m<1||m>Gt(f,x,T)?C(o)._overflowWeeks=!0:H!=null?C(o)._overflowWeekday=!0:(N=lu(f,m,b,x,T),o._a[Ne]=N.year,o._dayOfYear=N.dayOfYear)}r(nm,"dayOfYearFromWeekInfo"),e.ISO_8601=function(){},e.RFC_2822=function(){};function Zo(o){if(o._f===e.ISO_8601){pu(o);return}if(o._f===e.RFC_2822){mu(o);return}o._a=[],C(o).empty=!0;var u=""+o._i,f,m,b,x,T,N=u.length,H=0,ne,ze;for(b=bn(o._f,o._locale).match(Ce)||[],ze=b.length,f=0;f<ze;f++)x=b[f],m=(u.match(zh(x,o))||[])[0],m&&(T=u.substr(0,u.indexOf(m)),T.length>0&&C(o).unusedInput.push(T),u=u.slice(u.indexOf(m)+m.length),H+=m.length),ge[x]?(m?C(o).empty=!1:C(o).unusedTokens.push(x),Hh(x,m,o)):o._strict&&!m&&C(o).unusedTokens.push(x);C(o).charsLeftOver=N-H,u.length>0&&C(o).unusedInput.push(u),o._a[Se]<=12&&C(o).bigHour===!0&&o._a[Se]>0&&(C(o).bigHour=void 0),C(o).parsedDateParts=o._a.slice(0),C(o).meridiem=o._meridiem,o._a[Se]=rm(o._locale,o._a[Se],o._meridiem),ne=C(o).era,ne!==null&&(o._a[Ne]=o._locale.erasConvertYear(ne,o._a[Ne])),Jo(o),Ko(o)}r(Zo,"configFromStringAndFormat");function rm(o,u,f){var m;return f==null?u:o.meridiemHour!=null?o.meridiemHour(u,f):(o.isPM!=null&&(m=o.isPM(f),m&&u<12&&(u+=12),!m&&u===12&&(u=0)),u)}r(rm,"meridiemFixWrap");function im(o){var u,f,m,b,x,T,N=!1,H=o._f.length;if(H===0){C(o).invalidFormat=!0,o._d=new Date(NaN);return}for(b=0;b<H;b++)x=0,T=!1,u=L({},o),o._useUTC!=null&&(u._useUTC=o._useUTC),u._f=o._f[b],Zo(u),S(u)&&(T=!0),x+=C(u).charsLeftOver,x+=C(u).unusedTokens.length*10,C(u).score=x,N?x<m&&(m=x,f=u):(m==null||x<m||T)&&(m=x,f=u,T&&(N=!0));g(o,f||u)}r(im,"configFromStringAndArray");function sm(o){if(!o._d){var u=Wn(o._i),f=u.day===void 0?u.date:u.day;o._a=p([u.year,u.month,f,u.hour,u.minute,u.second,u.millisecond],function(m){return m&&parseInt(m,10)}),Jo(o)}}r(sm,"configFromObject");function om(o){var u=new V(Ko(gu(o)));return u._nextDay&&(u.add(1,"d"),u._nextDay=void 0),u}r(om,"createFromConfig");function gu(o){var u=o._i,f=o._f;return o._locale=o._locale||Kt(o._l),u===null||f===void 0&&u===""?A({nullInput:!0}):(typeof u=="string"&&(o._i=u=o._locale.preparse(u)),E(u)?new V(Ko(u)):(h(u)?o._d=u:i(f)?im(o):f?Zo(o):am(o),S(o)||(o._d=null),o))}r(gu,"prepareConfig");function am(o){var u=o._i;c(u)?o._d=new Date(e.now()):h(u)?o._d=new Date(u.valueOf()):typeof u=="string"?em(o):i(u)?(o._a=p(u.slice(0),function(f){return parseInt(f,10)}),Jo(o)):s(u)?sm(o):d(u)?o._d=new Date(u):e.createFromInputFallback(o)}r(am,"configFromInput");function yu(o,u,f,m,b){var x={};return(u===!0||u===!1)&&(m=u,u=void 0),(f===!0||f===!1)&&(m=f,f=void 0),(s(o)&&l(o)||i(o)&&o.length===0)&&(o=void 0),x._isAMomentObject=!0,x._useUTC=x._isUTC=b,x._l=f,x._i=o,x._f=u,x._strict=m,om(x)}r(yu,"createLocalOrUTC");function me(o,u,f,m){return yu(o,u,f,m,!1)}r(me,"createLocal");var lm=K("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=me.apply(null,arguments);return this.isValid()&&o.isValid()?o<this?this:o:A()}),um=K("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=me.apply(null,arguments);return this.isValid()&&o.isValid()?o>this?this:o:A()});function wu(o,u){var f,m;if(u.length===1&&i(u[0])&&(u=u[0]),!u.length)return me();for(f=u[0],m=1;m<u.length;++m)(!u[m].isValid()||u[m][o](f))&&(f=u[m]);return f}r(wu,"pickBy");function cm(){var o=[].slice.call(arguments,0);return wu("isBefore",o)}r(cm,"min");function dm(){var o=[].slice.call(arguments,0);return wu("isAfter",o)}r(dm,"max");var fm=r(function(){return Date.now?Date.now():+new Date},"now"),Or=["year","quarter","month","week","day","hour","minute","second","millisecond"];function hm(o){var u,f=!1,m,b=Or.length;for(u in o)if(a(o,u)&&!(be.call(Or,u)!==-1&&(o[u]==null||!isNaN(o[u]))))return!1;for(m=0;m<b;++m)if(o[Or[m]]){if(f)return!1;parseFloat(o[Or[m]])!==ee(o[Or[m]])&&(f=!0)}return!0}r(hm,"isDurationValid");function pm(){return this._isValid}r(pm,"isValid$1");function mm(){return At(NaN)}r(mm,"createInvalid$1");function Si(o){var u=Wn(o),f=u.year||0,m=u.quarter||0,b=u.month||0,x=u.week||u.isoWeek||0,T=u.day||0,N=u.hour||0,H=u.minute||0,ne=u.second||0,ze=u.millisecond||0;this._isValid=hm(u),this._milliseconds=+ze+ne*1e3+H*6e4+N*1e3*60*60,this._days=+T+x*7,this._months=+b+m*3+f*12,this._data={},this._locale=Kt(),this._bubble()}r(Si,"Duration");function Ei(o){return o instanceof Si}r(Ei,"isDuration");function Qo(o){return o<0?Math.round(-1*o)*-1:Math.round(o)}r(Qo,"absRound");function gm(o,u,f){var m=Math.min(o.length,u.length),b=Math.abs(o.length-u.length),x=0,T;for(T=0;T<m;T++)(f&&o[T]!==u[T]||!f&&ee(o[T])!==ee(u[T]))&&x++;return x+b}r(gm,"compareArrays");function bu(o,u){k(o,0,0,function(){var f=this.utcOffset(),m="+";return f<0&&(f=-f,m="-"),m+ue(~~(f/60),2)+u+ue(~~f%60,2)})}r(bu,"offset"),bu("Z",":"),bu("ZZ",""),B("Z",xt),B("ZZ",xt),ce(["Z","ZZ"],function(o,u,f){f._useUTC=!0,f._tzm=Xo(xt,o)});var ym=/([\+\-]|\d\d)/gi;function Xo(o,u){var f=(u||"").match(o),m,b,x;return f===null?null:(m=f[f.length-1]||[],b=(m+"").match(ym)||["-",0,0],x=+(b[1]*60)+ee(b[2]),x===0?0:b[0]==="+"?x:-x)}r(Xo,"offsetFromString");function ea(o,u){var f,m;return u._isUTC?(f=u.clone(),m=(E(o)||h(o)?o.valueOf():me(o).valueOf())-f.valueOf(),f._d.setTime(f._d.valueOf()+m),e.updateOffset(f,!1),f):me(o).local()}r(ea,"cloneWithOffset");function ta(o){return-Math.round(o._d.getTimezoneOffset())}r(ta,"getDateOffset"),e.updateOffset=function(){};function wm(o,u,f){var m=this._offset||0,b;if(!this.isValid())return o!=null?this:NaN;if(o!=null){if(typeof o=="string"){if(o=Xo(xt,o),o===null)return this}else Math.abs(o)<16&&!f&&(o=o*60);return!this._isUTC&&u&&(b=ta(this)),this._offset=o,this._isUTC=!0,b!=null&&this.add(b,"m"),m!==o&&(!u||this._changeInProgress?Cu(this,At(o-m,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?m:ta(this)}r(wm,"getSetOffset");function bm(o,u){return o!=null?(typeof o!="string"&&(o=-o),this.utcOffset(o,u),this):-this.utcOffset()}r(bm,"getSetZone");function km(o){return this.utcOffset(0,o)}r(km,"setOffsetToUTC");function xm(o){return this._isUTC&&(this.utcOffset(0,o),this._isUTC=!1,o&&this.subtract(ta(this),"m")),this}r(xm,"setOffsetToLocal");function vm(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var o=Xo($e,this._i);o!=null?this.utcOffset(o):this.utcOffset(0,!0)}return this}r(vm,"setOffsetToParsedOffset");function Cm(o){return this.isValid()?(o=o?me(o).utcOffset():0,(this.utcOffset()-o)%60===0):!1}r(Cm,"hasAlignedHourOffset");function Am(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}r(Am,"isDaylightSavingTime");function Sm(){if(!c(this._isDSTShifted))return this._isDSTShifted;var o={},u;return L(o,this),o=gu(o),o._a?(u=o._isUTC?y(o._a):me(o._a),this._isDSTShifted=this.isValid()&&gm(o._a,u.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}r(Sm,"isDaylightSavingTimeShifted");function Em(){return this.isValid()?!this._isUTC:!1}r(Em,"isLocal");function Tm(){return this.isValid()?this._isUTC:!1}r(Tm,"isUtcOffset");function ku(){return this.isValid()?this._isUTC&&this._offset===0:!1}r(ku,"isUtc");var Pm=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Fm=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function At(o,u){var f=o,m=null,b,x,T;return Ei(o)?f={ms:o._milliseconds,d:o._days,M:o._months}:d(o)||!isNaN(+o)?(f={},u?f[u]=+o:f.milliseconds=+o):(m=Pm.exec(o))?(b=m[1]==="-"?-1:1,f={y:0,d:ee(m[Ot])*b,h:ee(m[Se])*b,m:ee(m[Ct])*b,s:ee(m[jt])*b,ms:ee(Qo(m[xn]*1e3))*b}):(m=Fm.exec(o))?(b=m[1]==="-"?-1:1,f={y:vn(m[2],b),M:vn(m[3],b),w:vn(m[4],b),d:vn(m[5],b),h:vn(m[6],b),m:vn(m[7],b),s:vn(m[8],b)}):f==null?f={}:typeof f=="object"&&("from"in f||"to"in f)&&(T=_m(me(f.from),me(f.to)),f={},f.ms=T.milliseconds,f.M=T.months),x=new Si(f),Ei(o)&&a(o,"_locale")&&(x._locale=o._locale),Ei(o)&&a(o,"_isValid")&&(x._isValid=o._isValid),x}r(At,"createDuration"),At.fn=Si.prototype,At.invalid=mm;function vn(o,u){var f=o&&parseFloat(o.replace(",","."));return(isNaN(f)?0:f)*u}r(vn,"parseIso");function xu(o,u){var f={};return f.months=u.month()-o.month()+(u.year()-o.year())*12,o.clone().add(f.months,"M").isAfter(u)&&--f.months,f.milliseconds=+u-+o.clone().add(f.months,"M"),f}r(xu,"positiveMomentsDifference");function _m(o,u){var f;return o.isValid()&&u.isValid()?(u=ea(u,o),o.isBefore(u)?f=xu(o,u):(f=xu(u,o),f.milliseconds=-f.milliseconds,f.months=-f.months),f):{milliseconds:0,months:0}}r(_m,"momentsDifference");function vu(o,u){return function(f,m){var b,x;return m!==null&&!isNaN(+m)&&(Q(u,"moment()."+u+"(period, number) is deprecated. Please use moment()."+u+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),x=f,f=m,m=x),b=At(f,m),Cu(this,b,o),this}}r(vu,"createAdder");function Cu(o,u,f,m){var b=u._milliseconds,x=Qo(u._days),T=Qo(u._months);o.isValid()&&(m=m??!0,T&&su(o,Tr(o,"Month")+T*f),x&&nu(o,"Date",Tr(o,"Date")+x*f),b&&o._d.setTime(o._d.valueOf()+b*f),m&&e.updateOffset(o,x||T))}r(Cu,"addSubtract");var Mm=vu(1,"add"),Om=vu(-1,"subtract");function Au(o){return typeof o=="string"||o instanceof String}r(Au,"isString");function Dm(o){return E(o)||h(o)||Au(o)||d(o)||Im(o)||Lm(o)||o===null||o===void 0}r(Dm,"isMomentInput");function Lm(o){var u=s(o)&&!l(o),f=!1,m=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],b,x,T=m.length;for(b=0;b<T;b+=1)x=m[b],f=f||a(o,x);return u&&f}r(Lm,"isMomentInputObject");function Im(o){var u=i(o),f=!1;return u&&(f=o.filter(function(m){return!d(m)&&Au(o)}).length===0),u&&f}r(Im,"isNumberOrStringArray");function Rm(o){var u=s(o)&&!l(o),f=!1,m=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],b,x;for(b=0;b<m.length;b+=1)x=m[b],f=f||a(o,x);return u&&f}r(Rm,"isCalendarSpec");function Nm(o,u){var f=o.diff(u,"days",!0);return f<-6?"sameElse":f<-1?"lastWeek":f<0?"lastDay":f<1?"sameDay":f<2?"nextDay":f<7?"nextWeek":"sameElse"}r(Nm,"getCalendarFormat");function Bm(o,u){arguments.length===1&&(arguments[0]?Dm(arguments[0])?(o=arguments[0],u=void 0):Rm(arguments[0])&&(u=arguments[0],o=void 0):(o=void 0,u=void 0));var f=o||me(),m=ea(f,this).startOf("day"),b=e.calendarFormat(this,m)||"sameElse",x=u&&(le(u[b])?u[b].call(this,f):u[b]);return this.format(x||this.localeData().calendar(b,this,me(f)))}r(Bm,"calendar$1");function Wm(){return new V(this)}r(Wm,"clone");function Vm(o,u){var f=E(o)?o:me(o);return this.isValid()&&f.isValid()?(u=Ve(u)||"millisecond",u==="millisecond"?this.valueOf()>f.valueOf():f.valueOf()<this.clone().startOf(u).valueOf()):!1}r(Vm,"isAfter");function Ym(o,u){var f=E(o)?o:me(o);return this.isValid()&&f.isValid()?(u=Ve(u)||"millisecond",u==="millisecond"?this.valueOf()<f.valueOf():this.clone().endOf(u).valueOf()<f.valueOf()):!1}r(Ym,"isBefore");function $m(o,u,f,m){var b=E(o)?o:me(o),x=E(u)?u:me(u);return this.isValid()&&b.isValid()&&x.isValid()?(m=m||"()",(m[0]==="("?this.isAfter(b,f):!this.isBefore(b,f))&&(m[1]===")"?this.isBefore(x,f):!this.isAfter(x,f))):!1}r($m,"isBetween");function zm(o,u){var f=E(o)?o:me(o),m;return this.isValid()&&f.isValid()?(u=Ve(u)||"millisecond",u==="millisecond"?this.valueOf()===f.valueOf():(m=f.valueOf(),this.clone().startOf(u).valueOf()<=m&&m<=this.clone().endOf(u).valueOf())):!1}r(zm,"isSame");function Um(o,u){return this.isSame(o,u)||this.isAfter(o,u)}r(Um,"isSameOrAfter");function Hm(o,u){return this.isSame(o,u)||this.isBefore(o,u)}r(Hm,"isSameOrBefore");function jm(o,u,f){var m,b,x;if(!this.isValid())return NaN;if(m=ea(o,this),!m.isValid())return NaN;switch(b=(m.utcOffset()-this.utcOffset())*6e4,u=Ve(u),u){case"year":x=Ti(this,m)/12;break;case"month":x=Ti(this,m);break;case"quarter":x=Ti(this,m)/3;break;case"second":x=(this-m)/1e3;break;case"minute":x=(this-m)/6e4;break;case"hour":x=(this-m)/36e5;break;case"day":x=(this-m-b)/864e5;break;case"week":x=(this-m-b)/6048e5;break;default:x=this-m}return f?x:ot(x)}r(jm,"diff");function Ti(o,u){if(o.date()<u.date())return-Ti(u,o);var f=(u.year()-o.year())*12+(u.month()-o.month()),m=o.clone().add(f,"months"),b,x;return u-m<0?(b=o.clone().add(f-1,"months"),x=(u-m)/(m-b)):(b=o.clone().add(f+1,"months"),x=(u-m)/(b-m)),-(f+x)||0}r(Ti,"monthDiff"),e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Gm(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}r(Gm,"toString");function Km(o){if(!this.isValid())return null;var u=o!==!0,f=u?this.clone().utc():this;return f.year()<0||f.year()>9999?rn(f,u?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):le(Date.prototype.toISOString)?u?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",rn(f,"Z")):rn(f,u?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}r(Km,"toISOString");function qm(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var o="moment",u="",f,m,b,x;return this.isLocal()||(o=this.utcOffset()===0?"moment.utc":"moment.parseZone",u="Z"),f="["+o+'("]',m=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",b="-MM-DD[T]HH:mm:ss.SSS",x=u+'[")]',this.format(f+m+b+x)}r(qm,"inspect");function Jm(o){o||(o=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var u=rn(this,o);return this.localeData().postformat(u)}r(Jm,"format");function Zm(o,u){return this.isValid()&&(E(o)&&o.isValid()||me(o).isValid())?At({to:this,from:o}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}r(Zm,"from");function Qm(o){return this.from(me(),o)}r(Qm,"fromNow");function Xm(o,u){return this.isValid()&&(E(o)&&o.isValid()||me(o).isValid())?At({from:this,to:o}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}r(Xm,"to");function eg(o){return this.to(me(),o)}r(eg,"toNow");function Su(o){var u;return o===void 0?this._locale._abbr:(u=Kt(o),u!=null&&(this._locale=u),this)}r(Su,"locale");var Eu=K("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(o){return o===void 0?this.localeData():this.locale(o)});function Tu(){return this._locale}r(Tu,"localeData");var Pi=1e3,zn=60*Pi,Fi=60*zn,Pu=(365*400+97)*24*Fi;function Un(o,u){return(o%u+u)%u}r(Un,"mod$1");function Fu(o,u,f){return o<100&&o>=0?new Date(o+400,u,f)-Pu:new Date(o,u,f).valueOf()}r(Fu,"localStartOfDate");function _u(o,u,f){return o<100&&o>=0?Date.UTC(o+400,u,f)-Pu:Date.UTC(o,u,f)}r(_u,"utcStartOfDate");function tg(o){var u,f;if(o=Ve(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(f=this._isUTC?_u:Fu,o){case"year":u=f(this.year(),0,1);break;case"quarter":u=f(this.year(),this.month()-this.month()%3,1);break;case"month":u=f(this.year(),this.month(),1);break;case"week":u=f(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":u=f(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":u=f(this.year(),this.month(),this.date());break;case"hour":u=this._d.valueOf(),u-=Un(u+(this._isUTC?0:this.utcOffset()*zn),Fi);break;case"minute":u=this._d.valueOf(),u-=Un(u,zn);break;case"second":u=this._d.valueOf(),u-=Un(u,Pi);break}return this._d.setTime(u),e.updateOffset(this,!0),this}r(tg,"startOf");function ng(o){var u,f;if(o=Ve(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(f=this._isUTC?_u:Fu,o){case"year":u=f(this.year()+1,0,1)-1;break;case"quarter":u=f(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":u=f(this.year(),this.month()+1,1)-1;break;case"week":u=f(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":u=f(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":u=f(this.year(),this.month(),this.date()+1)-1;break;case"hour":u=this._d.valueOf(),u+=Fi-Un(u+(this._isUTC?0:this.utcOffset()*zn),Fi)-1;break;case"minute":u=this._d.valueOf(),u+=zn-Un(u,zn)-1;break;case"second":u=this._d.valueOf(),u+=Pi-Un(u,Pi)-1;break}return this._d.setTime(u),e.updateOffset(this,!0),this}r(ng,"endOf");function rg(){return this._d.valueOf()-(this._offset||0)*6e4}r(rg,"valueOf");function ig(){return Math.floor(this.valueOf()/1e3)}r(ig,"unix");function sg(){return new Date(this.valueOf())}r(sg,"toDate");function og(){var o=this;return[o.year(),o.month(),o.date(),o.hour(),o.minute(),o.second(),o.millisecond()]}r(og,"toArray");function ag(){var o=this;return{years:o.year(),months:o.month(),date:o.date(),hours:o.hours(),minutes:o.minutes(),seconds:o.seconds(),milliseconds:o.milliseconds()}}r(ag,"toObject");function lg(){return this.isValid()?this.toISOString():null}r(lg,"toJSON");function ug(){return S(this)}r(ug,"isValid$2");function cg(){return g({},C(this))}r(cg,"parsingFlags");function dg(){return C(this).overflow}r(dg,"invalidAt");function fg(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}r(fg,"creationData"),k("N",0,0,"eraAbbr"),k("NN",0,0,"eraAbbr"),k("NNN",0,0,"eraAbbr"),k("NNNN",0,0,"eraName"),k("NNNNN",0,0,"eraNarrow"),k("y",["y",1],"yo","eraYear"),k("y",["yy",2],0,"eraYear"),k("y",["yyy",3],0,"eraYear"),k("y",["yyyy",4],0,"eraYear"),B("N",na),B("NN",na),B("NNN",na),B("NNNN",Cg),B("NNNNN",Ag),ce(["N","NN","NNN","NNNN","NNNNN"],function(o,u,f,m){var b=f._locale.erasParse(o,m,f._strict);b?C(f).era=b:C(f).invalidEra=o}),B("y",st),B("yy",st),B("yyy",st),B("yyyy",st),B("yo",Sg),ce(["y","yy","yyy","yyyy"],Ne),ce(["yo"],function(o,u,f,m){var b;f._locale._eraYearOrdinalRegex&&(b=o.match(f._locale._eraYearOrdinalRegex)),f._locale.eraYearOrdinalParse?u[Ne]=f._locale.eraYearOrdinalParse(o,b):u[Ne]=parseInt(o,10)});function hg(o,u){var f,m,b,x=this._eras||Kt("en")._eras;for(f=0,m=x.length;f<m;++f){switch(typeof x[f].since){case"string":b=e(x[f].since).startOf("day"),x[f].since=b.valueOf();break}switch(typeof x[f].until){case"undefined":x[f].until=1/0;break;case"string":b=e(x[f].until).startOf("day").valueOf(),x[f].until=b.valueOf();break}}return x}r(hg,"localeEras");function pg(o,u,f){var m,b,x=this.eras(),T,N,H;for(o=o.toUpperCase(),m=0,b=x.length;m<b;++m)if(T=x[m].name.toUpperCase(),N=x[m].abbr.toUpperCase(),H=x[m].narrow.toUpperCase(),f)switch(u){case"N":case"NN":case"NNN":if(N===o)return x[m];break;case"NNNN":if(T===o)return x[m];break;case"NNNNN":if(H===o)return x[m];break}else if([T,N,H].indexOf(o)>=0)return x[m]}r(pg,"localeErasParse");function mg(o,u){var f=o.since<=o.until?1:-1;return u===void 0?e(o.since).year():e(o.since).year()+(u-o.offset)*f}r(mg,"localeErasConvertYear");function gg(){var o,u,f,m=this.localeData().eras();for(o=0,u=m.length;o<u;++o)if(f=this.clone().startOf("day").valueOf(),m[o].since<=f&&f<=m[o].until||m[o].until<=f&&f<=m[o].since)return m[o].name;return""}r(gg,"getEraName");function yg(){var o,u,f,m=this.localeData().eras();for(o=0,u=m.length;o<u;++o)if(f=this.clone().startOf("day").valueOf(),m[o].since<=f&&f<=m[o].until||m[o].until<=f&&f<=m[o].since)return m[o].narrow;return""}r(yg,"getEraNarrow");function wg(){var o,u,f,m=this.localeData().eras();for(o=0,u=m.length;o<u;++o)if(f=this.clone().startOf("day").valueOf(),m[o].since<=f&&f<=m[o].until||m[o].until<=f&&f<=m[o].since)return m[o].abbr;return""}r(wg,"getEraAbbr");function bg(){var o,u,f,m,b=this.localeData().eras();for(o=0,u=b.length;o<u;++o)if(f=b[o].since<=b[o].until?1:-1,m=this.clone().startOf("day").valueOf(),b[o].since<=m&&m<=b[o].until||b[o].until<=m&&m<=b[o].since)return(this.year()-e(b[o].since).year())*f+b[o].offset;return this.year()}r(bg,"getEraYear");function kg(o){return a(this,"_erasNameRegex")||ra.call(this),o?this._erasNameRegex:this._erasRegex}r(kg,"erasNameRegex");function xg(o){return a(this,"_erasAbbrRegex")||ra.call(this),o?this._erasAbbrRegex:this._erasRegex}r(xg,"erasAbbrRegex");function vg(o){return a(this,"_erasNarrowRegex")||ra.call(this),o?this._erasNarrowRegex:this._erasRegex}r(vg,"erasNarrowRegex");function na(o,u){return u.erasAbbrRegex(o)}r(na,"matchEraAbbr");function Cg(o,u){return u.erasNameRegex(o)}r(Cg,"matchEraName");function Ag(o,u){return u.erasNarrowRegex(o)}r(Ag,"matchEraNarrow");function Sg(o,u){return u._eraYearOrdinalRegex||st}r(Sg,"matchEraYearOrdinal");function ra(){var o=[],u=[],f=[],m=[],b,x,T,N,H,ne=this.eras();for(b=0,x=ne.length;b<x;++b)T=Ut(ne[b].name),N=Ut(ne[b].abbr),H=Ut(ne[b].narrow),u.push(T),o.push(N),f.push(H),m.push(T),m.push(N),m.push(H);this._erasRegex=new RegExp("^("+m.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+u.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+f.join("|")+")","i")}r(ra,"computeErasParse"),k(0,["gg",2],0,function(){return this.weekYear()%100}),k(0,["GG",2],0,function(){return this.isoWeekYear()%100});function _i(o,u){k(0,[o,o.length],0,u)}r(_i,"addWeekYearFormatToken"),_i("gggg","weekYear"),_i("ggggg","weekYear"),_i("GGGG","isoWeekYear"),_i("GGGGG","isoWeekYear"),B("G",Mt),B("g",Mt),B("GG",R,Ye),B("gg",R,Ye),B("GGGG",kt,_),B("gggg",kt,_),B("GGGGG",Je,D),B("ggggg",Je,D),Sr(["gggg","ggggg","GGGG","GGGGG"],function(o,u,f,m){u[m.substr(0,2)]=ee(o)}),Sr(["gg","GG"],function(o,u,f,m){u[m]=e.parseTwoDigitYear(o)});function Eg(o){return Mu.call(this,o,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}r(Eg,"getSetWeekYear");function Tg(o){return Mu.call(this,o,this.isoWeek(),this.isoWeekday(),1,4)}r(Tg,"getSetISOWeekYear");function Pg(){return Gt(this.year(),1,4)}r(Pg,"getISOWeeksInYear");function Fg(){return Gt(this.isoWeekYear(),1,4)}r(Fg,"getISOWeeksInISOWeekYear");function _g(){var o=this.localeData()._week;return Gt(this.year(),o.dow,o.doy)}r(_g,"getWeeksInYear");function Mg(){var o=this.localeData()._week;return Gt(this.weekYear(),o.dow,o.doy)}r(Mg,"getWeeksInWeekYear");function Mu(o,u,f,m,b){var x;return o==null?Fr(this,m,b).year:(x=Gt(o,m,b),u>x&&(u=x),Og.call(this,o,u,f,m,b))}r(Mu,"getSetWeekYearHelper");function Og(o,u,f,m,b){var x=lu(o,u,f,m,b),T=Pr(x.year,0,x.dayOfYear);return this.year(T.getUTCFullYear()),this.month(T.getUTCMonth()),this.date(T.getUTCDate()),this}r(Og,"setWeekAll"),k("Q",0,"Qo","quarter"),B("Q",wi),ce("Q",function(o,u){u[Ht]=(ee(o)-1)*3});function Dg(o){return o==null?Math.ceil((this.month()+1)/3):this.month((o-1)*3+this.month()%3)}r(Dg,"getSetQuarter"),k("D",["DD",2],"Do","date"),B("D",R,Vn),B("DD",R,Ye),B("Do",function(o,u){return o?u._dayOfMonthOrdinalParse||u._ordinalParse:u._dayOfMonthOrdinalParseLenient}),ce(["D","DD"],Ot),ce("Do",function(o,u){u[Ot]=ee(o.match(R)[0])});var Ou=Yn("Date",!0);k("DDD",["DDDD",3],"DDDo","dayOfYear"),B("DDD",Re),B("DDDD",bi),ce(["DDD","DDDD"],function(o,u,f){f._dayOfYear=ee(o)});function Lg(o){var u=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return o==null?u:this.add(o-u,"d")}r(Lg,"getSetDayOfYear"),k("m",["mm",2],0,"minute"),B("m",R,Yo),B("mm",R,Ye),ce(["m","mm"],Ct);var Ig=Yn("Minutes",!1);k("s",["ss",2],0,"second"),B("s",R,Yo),B("ss",R,Ye),ce(["s","ss"],jt);var Rg=Yn("Seconds",!1);k("S",0,0,function(){return~~(this.millisecond()/100)}),k(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),k(0,["SSS",3],0,"millisecond"),k(0,["SSSS",4],0,function(){return this.millisecond()*10}),k(0,["SSSSS",5],0,function(){return this.millisecond()*100}),k(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),k(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),k(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),k(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),B("S",Re,wi),B("SS",Re,Ye),B("SSS",Re,bi);var an,Du;for(an="SSSS";an.length<=9;an+="S")B(an,st);function Ng(o,u){u[xn]=ee(("0."+o)*1e3)}for(r(Ng,"parseMs"),an="S";an.length<=9;an+="S")ce(an,Ng);Du=Yn("Milliseconds",!1),k("z",0,0,"zoneAbbr"),k("zz",0,0,"zoneName");function Bg(){return this._isUTC?"UTC":""}r(Bg,"getZoneAbbr");function Wg(){return this._isUTC?"Coordinated Universal Time":""}r(Wg,"getZoneName");var O=V.prototype;O.add=Mm,O.calendar=Bm,O.clone=Wm,O.diff=jm,O.endOf=ng,O.format=Jm,O.from=Zm,O.fromNow=Qm,O.to=Xm,O.toNow=eg,O.get=qh,O.invalidAt=dg,O.isAfter=Vm,O.isBefore=Ym,O.isBetween=$m,O.isSame=zm,O.isSameOrAfter=Um,O.isSameOrBefore=Hm,O.isValid=ug,O.lang=Eu,O.locale=Su,O.localeData=Tu,O.max=um,O.min=lm,O.parsingFlags=cg,O.set=Jh,O.startOf=tg,O.subtract=Om,O.toArray=og,O.toObject=ag,O.toDate=sg,O.toISOString=Km,O.inspect=qm,typeof Symbol<"u"&&Symbol.for!=null&&(O[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),O.toJSON=lg,O.toString=Gm,O.unix=ig,O.valueOf=rg,O.creationData=fg,O.eraName=gg,O.eraNarrow=yg,O.eraAbbr=wg,O.eraYear=bg,O.year=tu,O.isLeapYear=Kh,O.weekYear=Eg,O.isoWeekYear=Tg,O.quarter=O.quarters=Dg,O.month=ou,O.daysInMonth=sp,O.week=O.weeks=hp,O.isoWeek=O.isoWeeks=pp,O.weeksInYear=_g,O.weeksInWeekYear=Mg,O.isoWeeksInYear=Pg,O.isoWeeksInISOWeekYear=Fg,O.date=Ou,O.day=O.days=Tp,O.weekday=Pp,O.isoWeekday=Fp,O.dayOfYear=Lg,O.hour=O.hours=Rp,O.minute=O.minutes=Ig,O.second=O.seconds=Rg,O.millisecond=O.milliseconds=Du,O.utcOffset=wm,O.utc=km,O.local=xm,O.parseZone=vm,O.hasAlignedHourOffset=Cm,O.isDST=Am,O.isLocal=Em,O.isUtcOffset=Tm,O.isUtc=ku,O.isUTC=ku,O.zoneAbbr=Bg,O.zoneName=Wg,O.dates=K("dates accessor is deprecated. Use date instead.",Ou),O.months=K("months accessor is deprecated. Use month instead",ou),O.years=K("years accessor is deprecated. Use year instead",tu),O.zone=K("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",bm),O.isDSTShifted=K("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Sm);function Vg(o){return me(o*1e3)}r(Vg,"createUnix");function Yg(){return me.apply(null,arguments).parseZone()}r(Yg,"createInZone");function Lu(o){return o}r(Lu,"preParsePostFormat");var se=$.prototype;se.calendar=ie,se.longDateFormat=kn,se.invalidDate=zt,se.ordinal=Bo,se.preparse=Lu,se.postformat=Lu,se.relativeTime=mi,se.pastFuture=gi,se.set=te,se.eras=hg,se.erasParse=pg,se.erasConvertYear=mg,se.erasAbbrRegex=xg,se.erasNameRegex=kg,se.erasNarrowRegex=vg,se.months=tp,se.monthsShort=np,se.monthsParse=ip,se.monthsRegex=ap,se.monthsShortRegex=op,se.week=up,se.firstDayOfYear=fp,se.firstDayOfWeek=dp,se.weekdays=vp,se.weekdaysMin=Ap,se.weekdaysShort=Cp,se.weekdaysParse=Ep,se.weekdaysRegex=_p,se.weekdaysShortRegex=Mp,se.weekdaysMinRegex=Op,se.isPM=Lp,se.meridiem=Np;function Mi(o,u,f,m){var b=Kt(),x=y().set(m,u);return b[f](x,o)}r(Mi,"get$1");function Iu(o,u,f){if(d(o)&&(u=o,o=void 0),o=o||"",u!=null)return Mi(o,u,f,"month");var m,b=[];for(m=0;m<12;m++)b[m]=Mi(o,m,f,"month");return b}r(Iu,"listMonthsImpl");function ia(o,u,f,m){typeof o=="boolean"?(d(u)&&(f=u,u=void 0),u=u||""):(u=o,f=u,o=!1,d(u)&&(f=u,u=void 0),u=u||"");var b=Kt(),x=o?b._week.dow:0,T,N=[];if(f!=null)return Mi(u,(f+x)%7,m,"day");for(T=0;T<7;T++)N[T]=Mi(u,(T+x)%7,m,"day");return N}r(ia,"listWeekdaysImpl");function $g(o,u){return Iu(o,u,"months")}r($g,"listMonths");function zg(o,u){return Iu(o,u,"monthsShort")}r(zg,"listMonthsShort");function Ug(o,u,f){return ia(o,u,f,"weekdays")}r(Ug,"listWeekdays");function Hg(o,u,f){return ia(o,u,f,"weekdaysShort")}r(Hg,"listWeekdaysShort");function jg(o,u,f){return ia(o,u,f,"weekdaysMin")}r(jg,"listWeekdaysMin"),on("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:r(function(o){var u=o%10,f=ee(o%100/10)===1?"th":u===1?"st":u===2?"nd":u===3?"rd":"th";return o+f},"ordinal")}),e.lang=K("moment.lang is deprecated. Use moment.locale instead.",on),e.langData=K("moment.langData is deprecated. Use moment.localeData instead.",Kt);var qt=Math.abs;function Gg(){var o=this._data;return this._milliseconds=qt(this._milliseconds),this._days=qt(this._days),this._months=qt(this._months),o.milliseconds=qt(o.milliseconds),o.seconds=qt(o.seconds),o.minutes=qt(o.minutes),o.hours=qt(o.hours),o.months=qt(o.months),o.years=qt(o.years),this}r(Gg,"abs");function Ru(o,u,f,m){var b=At(u,f);return o._milliseconds+=m*b._milliseconds,o._days+=m*b._days,o._months+=m*b._months,o._bubble()}r(Ru,"addSubtract$1");function Kg(o,u){return Ru(this,o,u,1)}r(Kg,"add$1");function qg(o,u){return Ru(this,o,u,-1)}r(qg,"subtract$1");function Nu(o){return o<0?Math.floor(o):Math.ceil(o)}r(Nu,"absCeil");function Jg(){var o=this._milliseconds,u=this._days,f=this._months,m=this._data,b,x,T,N,H;return o>=0&&u>=0&&f>=0||o<=0&&u<=0&&f<=0||(o+=Nu(sa(f)+u)*864e5,u=0,f=0),m.milliseconds=o%1e3,b=ot(o/1e3),m.seconds=b%60,x=ot(b/60),m.minutes=x%60,T=ot(x/60),m.hours=T%24,u+=ot(T/24),H=ot(Bu(u)),f+=H,u-=Nu(sa(H)),N=ot(f/12),f%=12,m.days=u,m.months=f,m.years=N,this}r(Jg,"bubble");function Bu(o){return o*4800/146097}r(Bu,"daysToMonths");function sa(o){return o*146097/4800}r(sa,"monthsToDays");function Zg(o){if(!this.isValid())return NaN;var u,f,m=this._milliseconds;if(o=Ve(o),o==="month"||o==="quarter"||o==="year")switch(u=this._days+m/864e5,f=this._months+Bu(u),o){case"month":return f;case"quarter":return f/3;case"year":return f/12}else switch(u=this._days+Math.round(sa(this._months)),o){case"week":return u/7+m/6048e5;case"day":return u+m/864e5;case"hour":return u*24+m/36e5;case"minute":return u*1440+m/6e4;case"second":return u*86400+m/1e3;case"millisecond":return Math.floor(u*864e5)+m;default:throw new Error("Unknown unit "+o)}}r(Zg,"as");function Jt(o){return function(){return this.as(o)}}r(Jt,"makeAs");var Wu=Jt("ms"),Qg=Jt("s"),Xg=Jt("m"),e0=Jt("h"),t0=Jt("d"),n0=Jt("w"),r0=Jt("M"),i0=Jt("Q"),s0=Jt("y"),o0=Wu;function a0(){return At(this)}r(a0,"clone$1");function l0(o){return o=Ve(o),this.isValid()?this[o+"s"]():NaN}r(l0,"get$2");function Cn(o){return function(){return this.isValid()?this._data[o]:NaN}}r(Cn,"makeGetter");var u0=Cn("milliseconds"),c0=Cn("seconds"),d0=Cn("minutes"),f0=Cn("hours"),h0=Cn("days"),p0=Cn("months"),m0=Cn("years");function g0(){return ot(this.days()/7)}r(g0,"weeks");var Zt=Math.round,Hn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function y0(o,u,f,m,b){return b.relativeTime(u||1,!!f,o,m)}r(y0,"substituteTimeAgo");function w0(o,u,f,m){var b=At(o).abs(),x=Zt(b.as("s")),T=Zt(b.as("m")),N=Zt(b.as("h")),H=Zt(b.as("d")),ne=Zt(b.as("M")),ze=Zt(b.as("w")),Qt=Zt(b.as("y")),ln=x<=f.ss&&["s",x]||x<f.s&&["ss",x]||T<=1&&["m"]||T<f.m&&["mm",T]||N<=1&&["h"]||N<f.h&&["hh",N]||H<=1&&["d"]||H<f.d&&["dd",H];return f.w!=null&&(ln=ln||ze<=1&&["w"]||ze<f.w&&["ww",ze]),ln=ln||ne<=1&&["M"]||ne<f.M&&["MM",ne]||Qt<=1&&["y"]||["yy",Qt],ln[2]=u,ln[3]=+o>0,ln[4]=m,y0.apply(null,ln)}r(w0,"relativeTime$1");function b0(o){return o===void 0?Zt:typeof o=="function"?(Zt=o,!0):!1}r(b0,"getSetRelativeTimeRounding");function k0(o,u){return Hn[o]===void 0?!1:u===void 0?Hn[o]:(Hn[o]=u,o==="s"&&(Hn.ss=u-1),!0)}r(k0,"getSetRelativeTimeThreshold");function x0(o,u){if(!this.isValid())return this.localeData().invalidDate();var f=!1,m=Hn,b,x;return typeof o=="object"&&(u=o,o=!1),typeof o=="boolean"&&(f=o),typeof u=="object"&&(m=Object.assign({},Hn,u),u.s!=null&&u.ss==null&&(m.ss=u.s-1)),b=this.localeData(),x=w0(this,!f,m,b),f&&(x=b.pastFuture(+this,x)),b.postformat(x)}r(x0,"humanize");var oa=Math.abs;function jn(o){return(o>0)-(o<0)||+o}r(jn,"sign");function Oi(){if(!this.isValid())return this.localeData().invalidDate();var o=oa(this._milliseconds)/1e3,u=oa(this._days),f=oa(this._months),m,b,x,T,N=this.asSeconds(),H,ne,ze,Qt;return N?(m=ot(o/60),b=ot(m/60),o%=60,m%=60,x=ot(f/12),f%=12,T=o?o.toFixed(3).replace(/\.?0+$/,""):"",H=N<0?"-":"",ne=jn(this._months)!==jn(N)?"-":"",ze=jn(this._days)!==jn(N)?"-":"",Qt=jn(this._milliseconds)!==jn(N)?"-":"",H+"P"+(x?ne+x+"Y":"")+(f?ne+f+"M":"")+(u?ze+u+"D":"")+(b||m||o?"T":"")+(b?Qt+b+"H":"")+(m?Qt+m+"M":"")+(o?Qt+T+"S":"")):"P0D"}r(Oi,"toISOString$1");var re=Si.prototype;re.isValid=pm,re.abs=Gg,re.add=Kg,re.subtract=qg,re.as=Zg,re.asMilliseconds=Wu,re.asSeconds=Qg,re.asMinutes=Xg,re.asHours=e0,re.asDays=t0,re.asWeeks=n0,re.asMonths=r0,re.asQuarters=i0,re.asYears=s0,re.valueOf=o0,re._bubble=Jg,re.clone=a0,re.get=l0,re.milliseconds=u0,re.seconds=c0,re.minutes=d0,re.hours=f0,re.days=h0,re.weeks=g0,re.months=p0,re.years=m0,re.humanize=x0,re.toISOString=Oi,re.toString=Oi,re.toJSON=Oi,re.locale=Su,re.localeData=Tu,re.toIsoString=K("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Oi),re.lang=Eu,k("X",0,0,"unix"),k("x",0,0,"valueOf"),B("x",Mt),B("X",vt),ce("X",function(o,u,f){f._d=new Date(parseFloat(o)*1e3)}),ce("x",function(o,u,f){f._d=new Date(ee(o))});return e.version="2.30.1",n(me),e.fn=O,e.min=cm,e.max=dm,e.now=fm,e.utc=y,e.unix=Vg,e.months=$g,e.isDate=h,e.locale=on,e.invalid=A,e.duration=At,e.isMoment=E,e.weekdays=Ug,e.parseZone=Yg,e.localeData=Kt,e.isDuration=Ei,e.monthsShort=zg,e.weekdaysMin=jg,e.defineLocale=Go,e.updateLocale=Yp,e.locales=$p,e.weekdaysShort=Hg,e.normalizeUnits=Ve,e.relativeTimeRounding=b0,e.relativeTimeThreshold=k0,e.calendarFormat=Nm,e.prototype=O,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}))});var Gk={};Vu(Gk,{default:()=>jk});module.exports=T0(Gk);var Te=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function tt(){}r(tt,"noop");async function Dt(){}r(Dt,"noopAsync");function Lr(t){return async(...e)=>{await t(...e)}}r(Lr,"omitAsyncReturnType");var Nt=require("obsidian");var P0=require("obsidian"),Uu=require("obsidian"),Hu=require("obsidian"),Xk=require("obsidian"),ex=require("obsidian");var $u=class{static{r(this,"CustomArrayDictImpl")}data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var lt={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},zu={AllProperties:"all-properties",Audio:"audio",Backlink:lt.Backlink,Bases:lt.Bases,Bookmarks:lt.Bookmarks,Canvas:lt.Canvas,Empty:"empty",FileExplorer:lt.FileExplorer,FileProperties:"file-properties",Graph:lt.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:lt.OutgoingLink,Outline:lt.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function F0(){return Uu.TFile}r(F0,"getTFileConstructor");function _0(){return Hu.TFolder}r(_0,"getTFolderConstructor");function ut(t){return t.replace(/\/?[^\/]*$/,"")||"/"}r(ut,"parentFolderPath");function Di(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(_0())(t.vault,e),n.parent=Di(t,ut(e)),n.deleted=!0,n)}r(Di,"createTFolderInstance");function ju(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(F0())(t.vault,e),n.parent=Di(t,ut(e)),n.deleted=!0,n)}r(ju,"createTFileInstance");function Et(t){return!!t.position}r(Et,"isReferenceCache");function Ue(t){return!!t.key}r(Ue,"isFrontmatterLinkCache");var ua=at(qu(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var O0=Number.POSITIVE_INFINITY;function Ir(...t){let e=t.filter(a=>!!a);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return He();if(e.length===1&&e[0])return e[0];let n=new AbortController;for(let a of e)if(a.aborted)return a;let i=[];for(let a of e)i.push(Zu(a,s));return n.signal;function s(a){for(let l of i)l();n.abort(a.reason)}}r(Ir,"abortSignalAny");function He(){return new AbortController().signal}r(He,"abortSignalNever");function Ju(t){if(t===O0)return He();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}r(Ju,"abortSignalTimeout");function Zu(t,e){if(t.aborted)return e(t),tt;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(i){e(i.target)}r(n,"wrappedCallback")}r(Zu,"onAbort");function Qu(t,e){return new Promise((n,i)=>{Zu(t,()=>{e?i(t.reason):n(t.reason)})})}r(Qu,"waitForAbort");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Rr(t,e){let n=t.length,i=0;for(let s=0;s<n;s++){if(!Object.hasOwn(t,s))continue;let a=t[s];e(a,s,t)&&(t[i++]=a)}t.length=i}r(Rr,"filterInPlace");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var It=class{static{r(this,"AsyncEvents")}eventRefsMap=new Map;off(e,n){let i=this.eventRefsMap.get(e);i&&(Rr(i,s=>s.callback!==n),i.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(Rr(n,i=>i!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,i){let s=this.eventRefsMap.get(e);s||(s=[],this.eventRefsMap.set(e,s));let a={asyncEvents:this,callback:n,name:e,thisArg:i};return s.push(a),a}once(e,n,i){let s=this.on(e,n,i),a=this.on(e,()=>{this.offref(s),this.offref(a)});return s}trigger(e,...n){let i=this.eventRefsMap.get(e)??[];for(let s of i.slice())this.tryTrigger(s,n)}async triggerAsync(e,...n){let i=this.eventRefsMap.get(e)??[];for(let s of i.slice())await this.tryTriggerAsync(s,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(i){window.setTimeout(()=>{throw i},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(i){window.setTimeout(()=>{throw i},0)}}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var aa="asyncError",Li=new It;Li.on(aa,D0);var Ii="An unhandled error occurred executing async operation",ec="    at",Tt=class t extends Error{static{r(this,"CustomStackTraceError")}constructor(e,n,i){super(e,{cause:i}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,t);let s=i,a=new Set;for(;s instanceof t;){if(a.has(s))throw new Error("Circular cause detected");a.add(s),s=s.cause}let l=(this.stack??"").split(`
`),c=n.split(`
`);/^\w*Error(?:: |$)/.test(c[0]??"")&&c.splice(0,1),l.splice(1,l.length-1,...c),this.stack=l.join(`
`)}},Kn=class t extends Error{static{r(this,"SilentError")}constructor(e){super(e),this.name="SilentError",Error.captureStackTrace?.(this,t)}};function Ri(t){Li.trigger(aa,t)}r(Ri,"emitAsyncErrorEvent");function Ni(t){if(!(t instanceof Error))return String(t);let e=t.stack??`${t.name}: ${t.message}`;if(t.cause!==void 0){let n=Ni(t.cause).split(`
`);e+=`
${Xu("Caused by:")}`;for(let i of n)i.trim()&&(e+=i.startsWith(ec)?`
${i}`:`
${Xu(i)}`)}return e}r(Ni,"errorToString");function je(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}r(je,"getStackTrace");function An(t,e){e??=globalThis.console,e.error(Ni(t))}r(An,"printError");function tc(t){let e=Li.on(aa,t);return()=>{Li.offref(e)}}r(tc,"registerAsyncErrorEventHandler");function Nr(t){throw t}r(Nr,"throwExpression");function Xu(t){return`${ec} --- ${t} --- (0)`}r(Xu,"generateStackTraceLine");function D0(t){An(t)}r(D0,"handleAsyncError");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function la(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}r(la,"escapeRegExp");function nc(t){try{return new RegExp(t),!0}catch{return!1}}r(nc,"isValidRegExp");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function qn(t,e,...n){return e??=He(),e.throwIfAborted(),L0(t)?await t(e,...n):t}r(qn,"resolveValue");function L0(t){return typeof t=="function"}r(L0,"isFunction");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var I0={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var R0={};for(let[t,e]of Object.entries(I0))R0[e]=t;function rc(t,e,n,i){return i??=n,t.slice(0,n)+e+t.slice(i)}r(rc,"insertAt");function Br(t){return Ze(t,/\u00A0|\u202F/g," ").normalize("NFC")}r(Br,"normalize");function Ze(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(i,...s)=>{let l=typeof s.at(-1)=="object",c=l?s.length-2:s.length-1,d={groups:l?s.at(-1):void 0,missingGroupIndices:[],offset:s.at(c-1),source:s.at(c),substring:i},h=s.slice(0,c-1).map((p,g)=>{if(typeof p=="string")return p;if(typeof p>"u")return d.missingGroupIndices.push(g),"";throw new Error(`Unexpected argument type: ${typeof p}`)});return n(d,...h)??d.substring}))}r(Ze,"replaceAll");function ic(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}r(ic,"trimEnd");function Bi(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}r(Bi,"trimStart");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var N0=/[a-zA-Z]:\/[^:]*$/,Rt=ua.default.posix,_x=Rt.delimiter,Mx=ua.default.posix.sep,Qe=Rt.basename,de=Rt.dirname,Pt=Rt.extname,Ox=Rt.format;var xe=Rt.join,Dx=Rt.normalize,Lx=Rt.parse,Jn=Rt.relative;function sc(t,e){return e?`${t}.${e}`:t}r(sc,"makeFileName");function oc(...t){let e=Rt.resolve(...t);return e=B0(e),N0.exec(e)?.[0]??e}r(oc,"resolve");function B0(t){return Ze(t,"\\","/")}r(B0,"toPosixPath");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var W0="base",Wi="canvas",Zn="md";function ca(t,e,n){if(dt(e))return e.extension===n;if(typeof e=="string"){let i=pe(t,e);return i?i.extension===n:Pt(e).slice(1)===n}return!1}r(ca,"checkExtension");function Wr(t,e,n){if(e===null)return null;if(cc(e))return t.vault.fileMap[e.path]??e;let i=ac(t,e,n);if(i)return i;let s=fc(e);return s===e?null:ac(t,s,n)}r(Wr,"getAbstractFileOrNull");function ve(t,e,n,i){let s=pe(t,e,i);if(!s)if(n)s=ju(t,e);else throw new Error(`File not found: ${e}`);return s}r(ve,"getFile");function pe(t,e,n){let i=Wr(t,e,n);return dt(i)?i:null}r(pe,"getFileOrNull");function Sn(t,e,n,i){let s=ct(t,e,i);if(!s)if(n)s=Di(t,e);else throw new Error(`Folder not found: ${e}`);return s}r(Sn,"getFolder");function ct(t,e,n){let i=Wr(t,e,n);return Vr(i)?i:null}r(ct,"getFolderOrNull");function lc(t,e,n){let i=Sn(t,e),s=[];return n?Nt.Vault.recurseChildren(i,a=>{Ee(t,a)&&s.push(a)}):s=i.children.filter(a=>Ee(t,a)),s=s.sort((a,l)=>a.path.localeCompare(l.path)),s}r(lc,"getMarkdownFiles");async function uc(t,e){let n=pe(t,e);if(n)return n;let i=ut(e);return await V0(t,i),await t.vault.create(e,"")}r(uc,"getOrCreateFile");async function V0(t,e){let n=ct(t,e);return n||await t.vault.createFolder(e)}r(V0,"getOrCreateFolder");function we(t,e){if(cc(e))return e.path;let n=Wr(t,e);return n?n.path:fc(e)}r(we,"getPath");function cc(t){return t instanceof Nt.TAbstractFile}r(cc,"isAbstractFile");function Y0(t,e){return ca(t,e,W0)}r(Y0,"isBaseFile");function En(t,e){return ca(t,e,Wi)}r(En,"isCanvasFile");function dt(t){return t instanceof Nt.TFile}r(dt,"isFile");function Vr(t){return t instanceof Nt.TFolder}r(Vr,"isFolder");function Ee(t,e){return ca(t,e,Zn)}r(Ee,"isMarkdownFile");function Yr(t,e){return Ee(t,e)||En(t,e)||Y0(t,e)}r(Yr,"isNote");function dc(t,e){return Ee(t,e)?ic(e.path,`.${Zn}`):e.path}r(dc,"trimMarkdownExtension");function ac(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}r(ac,"getFileInternal");function fc(t){return(0,Nt.normalizePath)(oc("/",t))}r(fc,"getResolvedPath");var Ic=require("obsidian");var ya=at(Ac(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var pa="40.13.1",Hi="obsidian-dev-utils",Sc=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ma=class{static{r(this,"ValueWrapper")}constructor(e){this.value=e}};function fy(){let t=globalThis.app;if(t)return t;try{return globalThis.require("obsidian/app")}catch{throw new Error("Obsidian App global instance not found")}}r(fy,"getApp");function Ft(t,e,n){let s=t??hy()??globalThis;return s.obsidianDevUtilsState??={},s.obsidianDevUtilsState[e]??=new ma(n)}r(Ft,"getObsidianDevUtilsState");function hy(){return typeof window>"u"?null:fy()}r(hy,"getAppOrNull");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ga="__no-plugin-id-initialized__",Ec=ga;function ji(){return Ec}r(ji,"getPluginId");function Tc(t){t&&(Ec=t)}r(Tc,"setPluginId");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pc=",",Gi="-";function Fc(){return{disable:py,enable:my,get:qi,set:$r}}r(Fc,"getDebugController");function Ki(t,e=0){let n=`${t}:${String(e)}`,i=Ft(null,"debuggers",new Map).value,s=i.get(n);return s||(s=zr()(t),s.log=(a,...l)=>{gy(t,e,a,...l)},i.set(n,s)),s}r(Ki,"getDebugger");function fe(t){let e=ji(),n=e===ga?"":`${e}:`;return Ki(`${n}${Hi}:${t}`)}r(fe,"getLibDebugger");function Bt(t,e,n,...i){if(!Mc()){t(n,...i);return}t(n,...i,`

---
Context stack trace:
`,Oc(e))}r(Bt,"printWithStackTrace");function _c(t){let e=zr().enabled(t),n=e?"enabled":"disabled",i=e?"disable":"enable",s=qi();$r(t),Ki(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${i} them.`),$r(s)}r(_c,"showInitialDebugMessage");function py(t){let e=new Set(qi());for(let n of Ur(t)){if(n.startsWith(Gi))continue;let i=Gi+n;e.has(n)&&e.delete(n),e.add(i)}$r(Array.from(e))}r(py,"disableNamespaces");function my(t){let e=new Set(qi());for(let n of Ur(t)){if(!n.startsWith(Gi)){let i=Gi+n;e.has(i)&&e.delete(i)}e.add(n)}$r(Array.from(e))}r(my,"enableNamespaces");function qi(){return Ur(zr().load()??"")}r(qi,"getNamespaces");function zr(){return typeof window>"u"?ya.default:Ft(null,"debug",ya.default).value}r(zr,"getSharedDebugLibInstance");function Mc(){return typeof window<"u"}r(Mc,"isInObsidian");function gy(t,e,n,...i){if(!zr().enabled(t))return;if(!Mc()){console.debug(n,...i);return}let s=4,a=new Error().stack?.split(`
`)??[];a.splice(0,s+e),console.debug(n,...i,`

---
Logger stack trace:
`,Oc(a.join(`
`)))}r(gy,"logWithCaller");function Oc(t){return new Tt("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}r(Oc,"makeStackTraceError");function $r(t){zr().enable(Ur(t).join(Pc))}r($r,"setNamespaces");function Ur(t){return typeof t=="string"?t.split(Pc).filter(Boolean):t.flatMap(Ur)}r(Ur,"toArray");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function wa(t,e){e??=je(1);try{await t()}catch(n){let i=new Tt(Ii,e,n);if(yy(i))return;Ri(i)}}r(wa,"addErrorHandler");function tr(t,e){return e??=je(1),(...n)=>{let i=je(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${i}`,ht(()=>t(...n),e)}}r(tr,"convertAsyncToSync");function ht(t,e){e??=je(1),wa(t,e)}r(ht,"invokeAsyncSafely");function Dc(t,e=0,n,i){i??=He(),i.throwIfAborted(),n??=je(1),ht(async()=>{await ka(e,i,!0),await t(i)},n)}r(Dc,"invokeAsyncSafelyAfterDelay");function yy(t){let e=t;for(;!(e instanceof Kn);){if(!(e instanceof Error))return!1;e=e.cause}return fe("Async:handleSilentError")(t),!0}r(yy,"handleSilentError");var wy=new WeakSet;async function Lc(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}r(Lc,"requestAnimationFrameAsync");async function Ji(t,e,n){let i=fe("Async:retryWithTimeout");n??=je(1);let a={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};a.abortSignal?.throwIfAborted(),await ba(a.timeoutInMilliseconds,async l=>{let c=Ir(a.abortSignal,l);c.throwIfAborted();let d=0;for(;!c.aborted;){d++;let h;try{h=await t(c)}catch(p){if(c.aborted||!a.shouldRetryOnError||wy.has(p))throw new Tt("retryWithTimeout failed",n,p);An(p),h=!1}if(h){Bt(i,n,`Retry completed successfully after ${String(d)} attempts`,{fn:t});return}Bt(i,n,`Retry attempt ${String(d)} completed unsuccessfully. Trying again in ${String(a.retryDelayInMilliseconds)} milliseconds`,{fn:t}),await ka(a.retryDelayInMilliseconds,l)}},{retryFn:t},n)}r(Ji,"retryWithTimeout");async function ba(t,e,n,i){i??=je(1);let s=performance.now(),a=new AbortController,l=new AbortController,c=null,d=!1,h=!1,p=fe("Async:runWithTimeout");if(await Promise.race([g(),y()]),d)return c;throw new Tt("Run with timeout failed",i,a.signal.reason);async function g(){try{c=await e(a.signal);let w=performance.now()-s;Bt(p,i??"",`Execution time: ${String(w)} milliseconds`,{context:n,fn:e}),d=!0}catch(w){a.abort(w)}finally{h=!0,l.abort(new Error("Completed"))}}async function y(){for(;!h;){if(await ka(t,l.signal),h)return;let w=performance.now()-s;Bt(p,i??"",`Timed out after ${String(w)} milliseconds`,{context:n,fn:e});let C=fe("Async:runWithTimeout:timeout");if(!C.enabled){a.abort(new Error(`Timed out after ${String(w)} milliseconds`));return}C(`The execution is not terminated because debugger ${C.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information.`)}}}r(ba,"runWithTimeout");async function ka(t,e,n){await Qu(Ir(e,Ju(t))),n&&e?.throwIfAborted()}r(ka,"sleep");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Pn(t){let n={...{abortSignal:He(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:tt,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},i=je(1),s=n.items,a=0,l=null;n.shouldShowProgressBar&&(l=new Ic.Notice("",0));let c=sleep(n.noticeMinTimeoutInMilliseconds),d=createEl("progress");if(d.max=s.length,n.shouldShowProgressBar){let p=createFragment();p.createDiv({text:n.progressBarTitle}),p.appendChild(d),l?.setMessage(p)}let h=performance.now();for(let p of s){if(n.abortSignal.aborted){l?.hide();return}a++;let g=`# ${String(a)} / ${String(s.length)}`,y=n.buildNoticeMessage(p,g);n.shouldShowProgressBar||l?.setMessage(y),fe("Loop")(y);try{performance.now()-h>n.uiUpdateThresholdInMilliseconds&&(await Lc(),h=performance.now()),await n.processItem(p)}catch(w){if(console.error("Error processing item",p),!n.shouldContinueOnError)throw l?.hide(),new Tt("loop failed",i,w);Ri(new Tt(Ii,i,w))}d.value++}await c,l?.hide()}r(Pn,"loop");var j=r(t=>typeof t=="string","isString"),Hr=r(()=>{let t,e,n=new Promise((i,s)=>{t=i,e=s});return n.resolve=t,n.reject=e,n},"defer"),Rc=r(t=>t==null?"":""+t,"makeString"),by=r((t,e,n)=>{t.forEach(i=>{e[i]&&(n[i]=e[i])})},"copy"),ky=/###/g,Nc=r(t=>t&&t.indexOf("###")>-1?t.replace(ky,"."):t,"cleanKey"),Bc=r(t=>!t||j(t),"canNotTraverseDeeper"),jr=r((t,e,n)=>{let i=j(e)?e.split("."):e,s=0;for(;s<i.length-1;){if(Bc(t))return{};let a=Nc(i[s]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++s}return Bc(t)?{}:{obj:t,k:Nc(i[s])}},"getLastOfPath"),Wc=r((t,e,n)=>{let{obj:i,k:s}=jr(t,e,Object);if(i!==void 0||e.length===1){i[s]=n;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=jr(t,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=jr(t,l,Object),c?.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=n},"setPath"),xy=r((t,e,n,i)=>{let{obj:s,k:a}=jr(t,e,Object);s[a]=s[a]||[],s[a].push(n)},"pushPath"),Qi=r((t,e)=>{let{obj:n,k:i}=jr(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},"getPath"),vy=r((t,e,n)=>{let i=Qi(t,n);return i!==void 0?i:Qi(e,n)},"getPathWithDefaults"),Kc=r((t,e,n)=>{for(let i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?j(t[i])||t[i]instanceof String||j(e[i])||e[i]instanceof String?n&&(t[i]=e[i]):Kc(t[i],e[i],n):t[i]=e[i]);return t},"deepExtend"),nr=r(t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape"),Cy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},Ay=r(t=>j(t)?t.replace(/[&<>"'\/]/g,e=>Cy[e]):t,"escape"),va=class{static{r(this,"RegExpCache")}constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let n=this.regExpMap.get(e);if(n!==void 0)return n;let i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}},Sy=[" ",",","?","!",";"],Ey=new va(20),Ty=r((t,e,n)=>{e=e||"",n=n||"";let i=Sy.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(i.length===0)return!0;let s=Ey.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`),a=!s.test(t);if(!a){let l=t.indexOf(n);l>0&&!s.test(t.substring(0,l))&&(a=!0)}return a},"looksLikeObjectPath"),Ca=r((t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let i=e.split(n),s=t;for(let a=0;a<i.length;){if(!s||typeof s!="object")return;let l,c="";for(let d=a;d<i.length;++d)if(d!==a&&(c+=n),c+=i[d],l=s[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<i.length-1)continue;a+=d-a+1;break}s=l}return s},"deepFind"),Gr=r(t=>t?.replace("_","-"),"getCleanedCode"),Py={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}},Aa=class t{static{r(this,"Logger")}constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Py,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,s){return s&&!this.debug?null:(j(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},Wt=new Aa,rr=class{static{r(this,"EventEmitter")}constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);let s=this.observers[i].get(n)||0;this.observers[i].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s.apply(s,[e,...n])})}},Xi=class extends rr{static{r(this,"ResourceStore")}constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i,s={}){let a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,c;e.indexOf(".")>-1?c=e.split("."):(c=[e,n],i&&(Array.isArray(i)?c.push(...i):j(i)&&a?c.push(...i.split(a)):c.push(i)));let d=Qi(this.data,c);return!d&&!n&&!i&&e.indexOf(".")>-1&&(e=c[0],n=c[1],i=c.slice(2).join(".")),d||!l||!j(i)?d:Ca(this.data?.[e]?.[n],i,a)}addResource(e,n,i,s,a={silent:!1}){let l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=[e,n];i&&(c=c.concat(l?i.split(l):i)),e.indexOf(".")>-1&&(c=e.split("."),s=n,n=c[1]),this.addNamespaces(n),Wc(this.data,c,s),a.silent||this.emit("added",e,n,i,s)}addResources(e,n,i,s={silent:!1}){for(let a in i)(j(i[a])||Array.isArray(i[a]))&&this.addResource(e,n,a,i[a],{silent:!0});s.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,s,a,l={silent:!1,skipCopy:!1}){let c=[e,n];e.indexOf(".")>-1&&(c=e.split("."),s=i,i=n,n=c[1]),this.addNamespaces(n);let d=Qi(this.data,c)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?Kc(d,i,a):d={...d,...i},Wc(this.data,c,d),l.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}},qc={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,s){return t.forEach(a=>{e=this.processors[a]?.process(e,n,i,s)??e}),e}},Jc=Symbol("i18next/PATH_KEY");function Fy(){let t=[],e=Object.create(null),n;return e.get=(i,s)=>(n?.revoke?.(),s===Jc?t:(t.push(s),n=Proxy.revocable(i,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}r(Fy,"createProxy");function Sa(t,e){let{[Jc]:n}=t(Fy());return n.join(e?.keySeparator??".")}r(Sa,"keysFromSelector");var Vc={},Yc=r(t=>!j(t)&&typeof t!="boolean"&&typeof t!="number","shouldHandleAsObject"),es=class t extends rr{static{r(this,"Translator")}constructor(e,n={}){super(),by(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Wt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){let i={...n};return e==null?!1:this.resolve(e,i)?.res!==void 0}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");let s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,a=n.ns||this.options.defaultNS||[],l=i&&e.indexOf(i)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Ty(e,i,s);if(l&&!c){let d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:j(a)?[a]:a};let h=e.split(i);(i!==s||i===s&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(s)}return{key:e,namespaces:j(a)?[a]:a}}translate(e,n,i){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Sa(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);let a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(e[e.length-1],s),h=d[d.length-1],p=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");let g=s.lng||this.language,y=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g?.toLowerCase()==="cimode")return y?a?{res:`${h}${p}${c}`,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${p}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:c;let w=this.resolve(e,s),C=w?.res,F=w?.usedKey||c,S=w?.exactUsedKey||c,A=["[object Number]","[object Function]","[object RegExp]"],P=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,M=!this.i18nFormat||this.i18nFormat.handleAsObject,L=s.count!==void 0&&!j(s.count),V=t.hasDefaultValue(s),E=L?this.pluralResolver.getSuffix(g,s.count,s):"",G=s.ordinal&&L?this.pluralResolver.getSuffix(g,s.count,{ordinal:!1}):"",K=L&&!s.ordinal&&s.count===0,U=K&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${E}`]||s[`defaultValue${G}`]||s.defaultValue,Q=C;M&&!C&&V&&(Q=U);let le=Yc(Q),te=Object.prototype.toString.apply(Q);if(M&&Q&&le&&A.indexOf(te)<0&&!(j(P)&&Array.isArray(Q))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(F,Q,{...s,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(w.res=I,w.usedParams=this.getUsedParamsDetails(s),w):I}if(l){let I=Array.isArray(Q),$=I?[]:{},z=I?S:F;for(let J in Q)if(Object.prototype.hasOwnProperty.call(Q,J)){let ie=`${z}${l}${J}`;V&&!C?$[J]=this.translate(ie,{...s,defaultValue:Yc(U)?U[J]:void 0,joinArrays:!1,ns:d}):$[J]=this.translate(ie,{...s,joinArrays:!1,ns:d}),$[J]===ie&&($[J]=Q[J])}C=$}}else if(M&&j(P)&&Array.isArray(C))C=C.join(P),C&&(C=this.extendTranslation(C,e,s,i));else{let I=!1,$=!1;!this.isValidLookup(C)&&V&&(I=!0,C=U),this.isValidLookup(C)||($=!0,C=c);let J=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&$?void 0:C,ie=V&&U!==C&&this.options.updateMissing;if($||I||ie){if(this.logger.log(ie?"updateKey":"missingKey",g,h,c,ie?U:C),l){let oe=this.resolve(c,{...s,keySeparator:!1});oe&&oe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ue=[],Ce=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ce&&Ce[0])for(let oe=0;oe<Ce.length;oe++)ue.push(Ce[oe]);else this.options.saveMissingTo==="all"?ue=this.languageUtils.toResolveHierarchy(s.lng||this.language):ue.push(s.lng||this.language);let v=r((oe,ge,k)=>{let Pe=V&&k!==C?k:J;this.options.missingKeyHandler?this.options.missingKeyHandler(oe,h,ge,Pe,ie,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(oe,h,ge,Pe,ie,s),this.emit("missingKey",oe,h,ge,C)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&L?ue.forEach(oe=>{let ge=this.pluralResolver.getSuffixes(oe,s);K&&s[`defaultValue${this.options.pluralSeparator}zero`]&&ge.indexOf(`${this.options.pluralSeparator}zero`)<0&&ge.push(`${this.options.pluralSeparator}zero`),ge.forEach(k=>{v([oe],c+k,s[`defaultValue${k}`]||U)})}):v(ue,c,U))}C=this.extendTranslation(C,e,s,w,i),$&&C===c&&this.options.appendNamespaceToMissingKey&&(C=`${h}${p}${c}`),($||I)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${c}`:c,I?C:void 0,s))}return a?(w.res=C,w.usedParams=this.getUsedParamsDetails(s),w):C}extendTranslation(e,n,i,s,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});let d=j(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),h;if(d){let g=e.match(this.interpolator.nestingRegexp);h=g&&g.length}let p=i.replace&&!j(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,i.lng||this.language||s.usedLng,i),d){let g=e.match(this.interpolator.nestingRegexp),y=g&&g.length;h<y&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>a?.[0]===g[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),i)),i.interpolation&&this.interpolator.reset()}let l=i.postProcess||this.options.postProcess,c=j(l)?[l]:l;return e!=null&&c?.length&&i.applyPostProcessor!==!1&&(e=qc.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,n={}){let i,s,a,l,c;return j(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(i))return;let h=this.extractFromKey(d,n),p=h.key;s=p;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));let y=n.count!==void 0&&!j(n.count),w=y&&!n.ordinal&&n.count===0,C=n.context!==void 0&&(j(n.context)||typeof n.context=="number")&&n.context!=="",F=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(S=>{this.isValidLookup(i)||(c=S,!Vc[`${F[0]}-${S}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(Vc[`${F[0]}-${S}`]=!0,this.logger.warn(`key "${s}" for languages "${F.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),F.forEach(A=>{if(this.isValidLookup(i))return;l=A;let P=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(P,p,A,S,n);else{let L;y&&(L=this.pluralResolver.getSuffix(A,n.count,n));let V=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(n.ordinal&&L.indexOf(E)===0&&P.push(p+L.replace(E,this.options.pluralSeparator)),P.push(p+L),w&&P.push(p+V)),C){let G=`${p}${this.options.contextSeparator||"_"}${n.context}`;P.push(G),y&&(n.ordinal&&L.indexOf(E)===0&&P.push(G+L.replace(E,this.options.pluralSeparator)),P.push(G+L),w&&P.push(G+V))}}let M;for(;M=P.pop();)this.isValidLookup(i)||(a=M,i=this.getResource(A,S,M,n))}))})}),{res:i,usedKey:s,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,i,s):this.resourceStore.getResource(e,n,i,s)}getUsedParamsDetails(e={}){let n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!j(e.replace),s=i?e.replace:e;if(i&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(let a of n)delete s[a]}return s}static hasDefaultValue(e){let n="defaultValue";for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}},ts=class{static{r(this,"LanguageUtil")}constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Wt.create("languageUtils")}getScriptPartFromCode(e){if(e=Gr(e),!e||e.indexOf("-")<0)return null;let n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Gr(e),!e||e.indexOf("-")<0)return e;let n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(j(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;let s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;let s=this.getScriptPartFromCode(i);if(this.isSupportedCode(s))return n=s;let a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),j(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){let i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],a=r(l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))},"addCode");return j(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):j(e)&&a(this.formatLanguageCode(e)),i.forEach(l=>{s.indexOf(l)<0&&a(this.formatLanguageCode(l))}),s}},$c={zero:0,one:1,two:2,few:3,many:4,other:5},zc={select:r(t=>t===1?"one":"other","select"),resolvedOptions:r(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},Ea=class{static{r(this,"PluralResolver")}constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Wt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){let i=Gr(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:i,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(i,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),zc;if(!e.match(/-|_/))return zc;let d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,n)}return this.pluralRulesCache[a]=l,l}needsPlural(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,i={}){return this.getSuffixes(e,i).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((s,a)=>$c[s]-$c[a]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,i={}){let s=this.getRule(e,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,i))}},Uc=r((t,e,n,i=".",s=!0)=>{let a=vy(t,e,n);return!a&&s&&j(n)&&(a=Ca(t,n,i),a===void 0&&(a=Ca(e,n,i))),a},"deepFindWithDefaults"),xa=r(t=>t.replace(/\$/g,"$$$$"),"regexSafe"),Ta=class{static{r(this,"Interpolator")}constructor(e={}){this.logger=Wt.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:n,escapeValue:i,useRawValueToEscape:s,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:h,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:y,nestingPrefixEscaped:w,nestingSuffix:C,nestingSuffixEscaped:F,nestingOptionsSeparator:S,maxReplaces:A,alwaysFormat:P}=e.interpolation;this.escape=n!==void 0?n:Ay,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?nr(a):l||"{{",this.suffix=c?nr(c):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=y?nr(y):w||nr("$t("),this.nestingSuffix=C?nr(C):F||nr(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=A||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=r((n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g"),"getOrResetRegExp");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,i,s){let a,l,c,d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=r(w=>{if(w.indexOf(this.formatSeparator)<0){let A=Uc(n,d,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,i,{...s,...n,interpolationkey:w}):A}let C=w.split(this.formatSeparator),F=C.shift().trim(),S=C.join(this.formatSeparator).trim();return this.format(Uc(n,d,F,this.options.keySeparator,this.options.ignoreJSONStructure),S,i,{...s,...n,interpolationkey:F})},"handleFormat");this.resetRegExp();let p=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:r(w=>xa(w),"safeValue")},{regex:this.regexp,safeValue:r(w=>this.escapeValue?xa(this.escape(w)):xa(w),"safeValue")}].forEach(w=>{for(c=0;a=w.regex.exec(e);){let C=a[1].trim();if(l=h(C),l===void 0)if(typeof p=="function"){let S=p(e,a,s);l=j(S)?S:""}else if(s&&Object.prototype.hasOwnProperty.call(s,C))l="";else if(g){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${e}`),l="";else!j(l)&&!this.useRawValueToEscape&&(l=Rc(l));let F=w.safeValue(l);if(e=e.replace(a[0],F),g?(w.regex.lastIndex+=l.length,w.regex.lastIndex-=a[0].length):w.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,n,i={}){let s,a,l,c=r((d,h)=>{let p=this.nestingOptionsSeparator;if(d.indexOf(p)<0)return d;let g=d.split(new RegExp(`${p}[ ]*{`)),y=`{${g[1]}`;d=g[0],y=this.interpolate(y,l);let w=y.match(/'/g),C=y.match(/"/g);((w?.length??0)%2===0&&!C||C.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),h&&(l={...h,...l})}catch(F){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,F),`${d}${p}${y}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d},"handleHasOptions");for(;s=this.nestingRegexp.exec(e);){let d=[];l={...i},l=l.replace&&!j(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let h=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(h!==-1&&(d=s[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),s[1]=s[1].slice(0,h)),a=n(c.call(this,s[1].trim(),l),l),a&&s[0]===e&&!j(a))return a;j(a)||(a=Rc(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),d.length&&(a=d.reduce((p,g)=>this.format(p,g,i.lng,{...i,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}},_y=r(t=>{let e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){let i=t.split("(");e=i[0].toLowerCase().trim();let s=i[1].substring(0,i[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(l=>{if(l){let[c,...d]=l.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),p=c.trim();n[p]||(n[p]=h),h==="false"&&(n[p]=!1),h==="true"&&(n[p]=!0),isNaN(h)||(n[p]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},"parseFormatStr"),Hc=r(t=>{let e={};return(n,i,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});let l=i+JSON.stringify(a),c=e[l];return c||(c=t(Gr(i),s),e[l]=c),c(n)}},"createCachedFormatter"),My=r(t=>(e,n,i)=>t(Gr(n),i)(e),"createNonCachedFormatter"),Pa=class{static{r(this,"Formatter")}constructor(e={}){this.logger=Wt.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";let i=n.cacheInBuiltFormats?Hc:My;this.formats={number:i((s,a)=>{let l=new Intl.NumberFormat(s,{...a});return c=>l.format(c)}),currency:i((s,a)=>{let l=new Intl.NumberFormat(s,{...a,style:"currency"});return c=>l.format(c)}),datetime:i((s,a)=>{let l=new Intl.DateTimeFormat(s,{...a});return c=>l.format(c)}),relativetime:i((s,a)=>{let l=new Intl.RelativeTimeFormat(s,{...a});return c=>l.format(c,a.range||"day")}),list:i((s,a)=>{let l=new Intl.ListFormat(s,{...a});return c=>l.format(c)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Hc(n)}format(e,n,i,s={}){let a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){let c=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,d)=>{let{formatName:h,formatOptions:p}=_y(d);if(this.formats[h]){let g=c;try{let y=s?.formatParams?.[s.interpolationkey]||{},w=y.locale||y.lng||s.locale||s.lng||i;g=this.formats[h](c,w,{...p,...s,...y})}catch(y){this.logger.warn(y)}return g}else this.logger.warn(`there was no format function for ${h}`);return c},e)}},Oy=r((t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},"removePending"),Fa=class extends rr{static{r(this,"Connector")}constructor(e,n,i,s={}){super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=Wt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(e,n,i,s){let a={},l={},c={},d={};return e.forEach(h=>{let p=!0;n.forEach(g=>{let y=`${h}|${g}`;!i.reload&&this.store.hasResourceBundle(h,g)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?l[y]===void 0&&(l[y]=!0):(this.state[y]=1,p=!1,l[y]===void 0&&(l[y]=!0),a[y]===void 0&&(a[y]=!0),d[g]===void 0&&(d[g]=!0)))}),p||(c[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(e,n,i){let s=e.split("|"),a=s[0],l=s[1];n&&this.emit("failedLoading",a,l,n),!n&&i&&this.store.addResourceBundle(a,l,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&i&&(this.state[e]=0);let c={};this.queue.forEach(d=>{xy(d.loaded,[a],l),Oy(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{c[h]||(c[h]={});let p=d.loaded[h];p.length&&p.forEach(g=>{c[h][g]===void 0&&(c[h][g]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(e,n,i,s=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:s,wait:a,callback:l});return}this.readingCalls++;let c=r((h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){let g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&p&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,s+1,a*2,l)},a);return}l(h,p)},"resolver"),d=this.backend[i].bind(this.backend);if(d.length===2){try{let h=d(e,n);h&&typeof h.then=="function"?h.then(p=>c(null,p)).catch(c):c(null,h)}catch(h){c(h)}return}return d(e,n,c)}prepareLoading(e,n,i={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();j(e)&&(e=this.languageUtils.toResolveHierarchy(e)),j(n)&&(n=[n]);let a=this.queueLoad(e,n,i,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e,n=""){let i=e.split("|"),s=i[0],a=i[1];this.read(s,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${a} for language ${s} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${a} for language ${s}`,c),this.loaded(e,l,c)})}saveMissing(e,n,i,s,a,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){let d={...l,isUpdate:a},h=this.backend.create.bind(this.backend);if(h.length<6)try{let p;h.length===5?p=h(e,n,i,s,d):p=h(e,n,i,s),p&&typeof p.then=="function"?p.then(g=>c(null,g)).catch(c):c(null,p)}catch(p){c(p)}else h(e,n,i,s,c,d)}!e||!e[0]||this.store.addResource(e[0],n,i,s)}}},jc=r(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r(t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),j(t[1])&&(e.defaultValue=t[1]),j(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let n=t[3]||t[2];Object.keys(n).forEach(i=>{e[i]=n[i]})}return e},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:r(t=>t,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),Gc=r(t=>(j(t.ns)&&(t.ns=[t.ns]),j(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),j(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),"transformOptions"),Zi=r(()=>{},"noop"),Dy=r(t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},"bindMemberFunctions"),ns=class t extends rr{static{r(this,"I18n")}constructor(e={},n){if(super(),this.options=Gc(e),this.services={},this.logger=Wt,this.modules={external:[]},Dy(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(j(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let i=jc();this.options={...i,...this.options,...Gc(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);let s=r(h=>h?typeof h=="function"?new h:h:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?Wt.init(s(this.modules.logger),this.options):Wt.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=Pa;let p=new ts(this.options);this.store=new Xi(this.options.resources,this.options);let g=this.services;g.logger=Wt,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new Ea(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(g.formatter=s(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new Ta(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new Fa(s(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(w,...C)=>{this.emit(w,...C)}),this.modules.languageDetector&&(g.languageDetector=s(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=s(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new es(this.services,this.options),this.translator.on("*",(w,...C)=>{this.emit(w,...C)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Zi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});let c=Hr(),d=r(()=>{let h=r((p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(g),n(p,g)},"finish");if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)},"load");return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(e,n=Zi){let i=n,s=j(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();let a=[],l=r(c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&a.indexOf(h)<0&&a.push(h)})},"append");s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(c)})}else i(null)}reloadResources(e,n,i){let s=Hr();return typeof e=="function"&&(i=e,e=void 0),typeof n=="function"&&(i=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),i||(i=Zi),this.services.backendConnector.reload(e,n,a=>{s.resolve(),i(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&qc.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){let i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;let i=Hr();this.emit("languageChanging",e);let s=r(c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},"setLngProps"),a=r((c,d)=>{d?this.isLanguageChangingTo===e&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve((...h)=>this.t(...h)),n&&n(c,(...h)=>this.t(...h))},"done"),l=r(c=>{!e&&!c&&this.services.languageDetector&&(c=[]);let d=j(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(j(c)?[c]:c);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,p=>{a(p,h)})},"setLng");return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),i}getFixedT(e,n,i){let s=r((a,l,...c)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([a,l].concat(c)):d={...l},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||i||s.keyPrefix);let h=this.options.keySeparator||".",p;return d.keyPrefix&&Array.isArray(a)?p=a.map(g=>(typeof g=="function"&&(g=Sa(g,{...this.options,...l})),`${d.keyPrefix}${h}${g}`)):(typeof a=="function"&&(a=Sa(a,{...this.options,...l})),p=d.keyPrefix?`${d.keyPrefix}${h}${a}`:a),this.t(p,d)},"fixedT");return j(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=i,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let i=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;let l=r((c,d)=>{let h=this.services.backendConnector.state[`${c}|${d}`];return h===-1||h===0||h===2},"loadNotPending");if(n.precheck){let c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,e)&&(!s||l(a,e)))}loadNamespaces(e,n){let i=Hr();return this.options.ns?(j(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){let i=Hr();j(e)&&(e=[e]);let s=this.options.preload||[],a=e.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=s.concat(a),this.loadResources(l=>{i.resolve(),n&&n(l)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let s=new Intl.Locale(e);if(s&&s.getTextInfo){let a=s.getTextInfo();if(a&&a.direction)return a.direction}}catch{}let n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new ts(jc());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new t(e,n)}cloneInstance(e={},n=Zi){let i=e.forkResourceStore;i&&delete e.forkResourceStore;let s={...this.options,...e,isClone:!0},a=new t(s);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},i){let c=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((p,g)=>(p[g]={...d[h][g]},p),d[h]),d),{});a.store=new Xi(c,s),a.services.resourceStore=a.store}return a.translator=new es(a.services,s),a.translator.on("*",(c,...d)=>{a.emit(c,...d)}),a.init(s,n),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},De=ns.createInstance();De.createInstance=ns.createInstance;var Av=De.createInstance,Sv=De.dir,Zc=De.init,Ev=De.loadResources,Tv=De.reloadResources,Pv=De.use,Fv=De.changeLanguage,_v=De.getFixedT,rs=De.t,Mv=De.exists,Ov=De.setDefaultNamespace,Dv=De.hasLoadedNamespace,Lv=De.loadNamespaces,Iv=De.loadLanguages;var od=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Y=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(Y||{});var id=require("obsidian");var td=at(Xc(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ed=`${Hi}-styles`;function he(t,...e){t.addClass(Y.LibraryName,ji(),...e)}r(he,"addPluginCssClasses");function nd(t){let e=t;e.DEBUG=Fc()}r(nd,"initDebugController");function rd(t,e){Tc(e),_c(e);let n=Ft(t,"lastLibraryVersion","0.0.0");(0,td.compareVersions)(pa,n.value)<=0||(n.value=pa,document.head.querySelector(`#${ed}`)?.remove(),document.head.createEl("style",{attr:{id:ed},text:Sc}))}r(rd,"initPluginContext");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ss=class extends id.Modal{static{r(this,"ModalBase")}constructor(e,n,i){super(e.app),this.resolve=n,he(this.containerEl,i),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function sd(t){return await new Promise(e=>{t(e).open()})}r(sd,"showModal");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _a=class extends ss{static{r(this,"AlertModal")}options;constructor(e,n){super(e,n,Y.AlertModal);let i={app:e.app,cssClass:"",message:e.message,okButtonText:rs(s=>s.obsidianDevUtils.buttons.ok),title:""};this.options={...i,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new od.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass(Y.OkButton)}};async function os(t){await sd(e=>new _a(t,e))}r(os,"alert");var fs=require("obsidian");var ad=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var as=class extends ad.Component{static{r(this,"AsyncEventsComponent")}registerAsyncEvent(e){ls(this,e)}};function ls(t,e){t.register(()=>{e.asyncEvents.offref(e)})}r(ls,"registerAsyncEvent");var cd=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var us={obsidianDevUtils:{buttons:{cancel:"Cancel",ok:"OK"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."}}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ma="en",Ly={en:us},ld=Ly;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ud="translation",Oa=!1;async function dd(t){Oa||(await Zc({fallbackLng:Ma,lng:(0,cd.getLanguage)(),resources:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,{[ud]:n}])),returnEmptyString:!1,returnNull:!1}),De.addResourceBundle(Ma,ud,us,!0,!1),Oa=!0)}r(dd,"initI18N");function Iy(t,e){if(!Oa)throw new Error("I18N is not initialized");return rs(t,e)}r(Iy,"tImpl");var cs=Iy;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Ry(t){let e=new Set;return t.workspace.iterateAllLeaves(n=>{e.add(n.getContainer())}),Array.from(e)}r(Ry,"getAllContainers");function fd(t){return Ry(t).map(e=>e.win)}r(fd,"getAllDomWindows");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ds=class extends fs.Plugin{static{r(this,"PluginBase")}events=new It;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){Ki(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Dc(this.afterLoad.bind(this))}onunload(){super.onunload(),ht(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerDomWindowHandler(e){let n=window;e(n),this.app.workspace.onLayoutReady(()=>{for(let i of fd(this.app))i!==n&&e(i);this.registerEvent(this.app.workspace.on("window-open",i=>{e(i.win)}))})}registerForLifecycleEvent(e,n){ht(async()=>{await this.waitForLifecycleEvent(e),await n()})}registerPopupDocumentDomEvent(e,n,i){this.registerDomWindowHandler(s=>{this.registerDomEvent(s.document,e,n,i)})}registerPopupWindowDomEvent(e,n,i){this.registerDomWindowHandler(s=>{this.registerDomEvent(s,e,n,i)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}createTranslationsMap(){return ld}handleAsyncError(e){this.showNotice(cs(n=>n.obsidianDevUtils.notices.unhandledError))}async onLayoutReady(){await Dt()}async onloadImpl(){rd(this.app,this.manifest.id),this.registerDomWindowHandler(n=>{nd(n)}),await dd(this.createTranslationsMap()),this.register(tc(this.handleAsyncError.bind(this))),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(ls(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),ls(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new Kn(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await Dt()}async onSaveSettings(e,n,i){await Dt()}async onunloadImpl(){await Dt()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new fs.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this._abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(tr(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function hd(t,e,n,i){n.throwIfAborted();let s=fe("Logger:invokeAsyncAndLog"),a=performance.now();i??=je(1),Bt(s,i,`${t}:start`,{fn:e,timestampStart:a});try{await e(n);let l=performance.now(),c=l-a;n.aborted&&(Bt(s,i,`${t}:aborted`,{abortReason:n.reason,duration:c,fn:e,timestampEnd:l,timestampStart:a}),n.throwIfAborted()),Bt(s,i,`${t}:end`,{duration:c,fn:e,timestampEnd:l,timestampStart:a})}catch(l){let c=performance.now();throw Bt(s,i,`${t}:error`,{duration:c-a,error:l,fn:e,timestampEnd:c,timestampStart:a}),l}}r(hd,"invokeAsyncAndLog");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function pt(t,e,n,i,s){s??=je(1),ht(()=>Ny(t,e,n,i,s),s)}r(pt,"addToQueue");async function Ny(t,e,n,i,s){n??=He(),n.throwIfAborted(),i??=6e4,s??=je(1);let l=pd(t).value;l.items.push({abortSignal:n,fn:e,stackTrace:s,timeoutInMilliseconds:i}),l.promise=l.promise.then(()=>md(t)),await l.promise}r(Ny,"addToQueueAndWait");function pd(t){return Ft(t,"queue",{items:[],promise:Promise.resolve()})}r(pd,"getQueue");async function md(t){let e=pd(t).value,n=e.items[0];n&&(await wa(()=>ba(n.timeoutInMilliseconds,i=>hd(md.name,n.fn,Ir(i,n.abortSignal),n.stackTrace),{queuedFn:n.fn}),n.stackTrace),e.items.shift())}r(md,"processNextQueueItem");var xh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var gd=".",By=[{constructor:ArrayBuffer,equalityComparer:Vy},{constructor:Date,equalityComparer:Yy},{constructor:RegExp,equalityComparer:zy},{constructor:Map,equalityComparer:$y},{constructor:Set,equalityComparer:Uy}];function mt(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,i=e.constructor;if(n!==i)return!1;if(n!==Object){let d=Hy(t,e);if(d!==void 0)return d}let s=ir(t),a=ir(e);if(s.length!==a.length)return!1;let l=t,c=e;for(let d of s)if(!a.includes(d)||!mt(l[d],c[d]))return!1;return!0}r(mt,"deepEqual");function ir(t){let e=[],n=t;for(;n;){let i=Object.getOwnPropertyDescriptors(n);for(let[s,a]of Object.entries(i)){if(s==="__proto__"||typeof a.value=="function")continue;let l=typeof a.get=="function",c=typeof a.set=="function";if(l||c){l&&c&&e.push(s);continue}a.enumerable&&a.writable&&e.push(s)}n=Object.getPrototypeOf(n)}return e.sort()}r(ir,"getAllKeys");function sr(t,e){let n=t,i=e.split(gd);for(let s of i){if(n===void 0)return;n=n[s]}return n}r(sr,"getNestedPropertyValue");function yd(t,e,n){let i=new Error(`Property path ${e} not found`),s=t,a=e.split(gd);for(let c of a.slice(0,-1)){if(s===void 0)throw i;s=s[c]}let l=a.at(-1);if(s===void 0||l===void 0)throw i;s[l]=n}r(yd,"setNestedPropertyValue");function hs(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:Da("CircularReference"),maxDepthLimitReached:Da("MaxDepthLimitReached"),toJSONFailed:Da("ToJSONFailed")}},i={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};i.maxDepth===-1&&(i.maxDepth=1/0);let s=[],l=ps(t,"",0,!0,i,s,new WeakSet),c=JSON.stringify(l,null,i.space)??"";return c=Ze(c,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(d,h,p)=>Wy({functionTexts:s,index:p?parseInt(p,10):0,key:h,substitutions:i.tokenSubstitutions})),c}r(hs,"toJson");function Wy(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??Nr(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}r(Wy,"applySubstitutions");function Vy(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),i=new Uint8Array(e);return mt(n,i)}r(Vy,"deepEqualArrayBuffer");function Yy(t,e){return t.getTime()===e.getTime()}r(Yy,"deepEqualDate");function $y(t,e){if(t.size!==e.size)return!1;for(let[n,i]of t.entries())if(!e.has(n)||!mt(i,e.get(n)))return!1;return!0}r($y,"deepEqualMap");function zy(t,e){return t.source===e.source&&t.flags===e.flags}r(zy,"deepEqualRegExp");function Uy(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let i=!1;for(let s of e)if(mt(n,s)){i=!0;break}if(!i)return!1}return!0}r(Uy,"deepEqualSet");function Hy(t,e){for(let{constructor:n,equalityComparer:i}of By)if(t instanceof n&&e instanceof n)return i(t,e)}r(Hy,"deepEqualTyped");function jy(t,e,n,i,s,a){return e>i.maxDepth?or("MaxDepthLimitReachedArray",t.length):t.map((l,c)=>ps(l,String(c),e+1,n,i,s,a))}r(jy,"handleArray");function Gy(t,e,n){if(n.shouldHandleCircularReferences)return or("CircularReference");let i=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${i}'
--- property '${e}' closes the circle`)}r(Gy,"handleCircularReference");function Ky(t,e,n){if(n.functionHandlingMode==="exclude")return;let i=e.length,s=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(s),or("Function",i)}r(Ky,"handleFunction");function qy(t,e,n,i,s,a,l){if(l.has(t))return Gy(t,e,s);if(l.add(t),i){let c=Zy(t,e,n,s,a,l);if(c!==void 0)return c}return Array.isArray(t)?jy(t,n,i,s,a,l):n>s.maxDepth?or("MaxDepthLimitReached"):t instanceof Error&&s.shouldHandleErrors?Ni(t):Jy(t,n,i,s,a,l)}r(qy,"handleObject");function Jy(t,e,n,i,s,a){let l=Object.entries(t);return i.shouldSortKeys&&l.sort(([c],[d])=>c.localeCompare(d)),Object.fromEntries(l.map(([c,d])=>[c,ps(d,c,e+1,n,i,s,a)]))}r(Jy,"handlePlainObject");function Da(t){return`{ "[[${t}]]": null }`}r(Da,"makeObjectTokenSubstitution");function or(t,e){return`[[${t}${e?String(e):""}]]`}r(or,"makePlaceholder");function ps(t,e,n,i,s,a,l){return t===void 0?n===0||s.shouldHandleUndefined?or("Undefined"):void 0:typeof t=="function"?Ky(t,a,s):typeof t!="object"||t===null?t:qy(t,e,n,i,s,a,l)}r(ps,"toPlainObject");function Zy(t,e,n,i,s,a){let l=t.toJSON;if(typeof l=="function")try{let c=l.call(t,e);return ps(c,e,n,!1,i,s,a)}catch(c){if(i.shouldCatchToJSONErrors)return or("ToJSONFailed");throw c}}r(Zy,"tryHandleToJSON");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var un=(t=>(t.DeleteNote="DeleteNote",t.RenameNote="RenameNote",t.Unknown="Unknown",t))(un||{}),bd="__DUMMY__";async function Kr(t){let{app:e,attachmentPathOrFile:n,notePathOrFile:i,shouldSkipDuplicateCheck:s}=t,a=we(e,n),l=Pt(a),c=Qe(a,l),d=pe(e,a),p=e.vault.getAvailablePathForAttachments.extended;return p?p({attachmentFileBaseName:c,attachmentFileContent:d?await e.vault.readBinary(d):void 0,attachmentFileExtension:l.slice(1),attachmentFileStat:d?.stat,context:t.context,notePathOrFile:i,oldNotePathOrFile:t.oldNotePathOrFile,shouldSkipDuplicateCheck:s,shouldSkipMissingAttachmentFolderCreation:!0}):await Qy({app:e,attachmentFileBaseName:c,attachmentFileExtension:l.slice(1),notePathOrFile:i,shouldSkipDuplicateCheck:s,shouldSkipMissingAttachmentFolderCreation:!0})}r(Kr,"getAttachmentFilePath");async function ar(t,e,n="Unknown"){return ut(await Kr({app:t,attachmentPathOrFile:bd,context:n,notePathOrFile:e,shouldSkipDuplicateCheck:!0}))}r(ar,"getAttachmentFolderPath");async function Qy(t){let{app:e,attachmentFileExtension:n,notePathOrFile:i,shouldSkipDuplicateCheck:s,shouldSkipMissingAttachmentFolderCreation:a}=t,l=e.vault.getConfig("attachmentFolderPath"),c=l==="."||l==="./",d=l.startsWith("./")?Bi(l,"./"):null,h=pe(e,i);c?l=h?h.parent?.path??"":"":d&&(l=(h?h.parent?.getParentPrefix()??"":"")+d),l=Br(wd(l));let p=Br(wd(t.attachmentFileBaseName)),g=ct(e,l,!0);!g&&d&&(g=a?Sn(e,l,!0):await e.vault.createFolder(l));let y=g?.getParentPrefix()??"";return s?sc(y+p,n):e.vault.getAvailablePath(y+p,n)}r(Qy,"getAvailablePathForAttachments");async function La(t,e,n="Unknown"){let i=await ar(t,e,n),s=await ar(t,xe(de(e),`${bd}.${Zn}`),n);return i!==s}r(La,"hasOwnAttachmentFolder");function wd(t){return t=Ze(t,/(?:[\\/])+/g,"/"),t=Ze(t,/^\/+|\/+$/g,""),t||"/"}r(wd,"normalizeSlashes");var js=require("obsidian");var Xy={};function Fn(t,e){let n=e||Xy,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return xd(t,i,s)}r(Fn,"toString");function xd(t,e,n){if(ew(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return kd(t.children,e,n)}return Array.isArray(t)?kd(t,e,n):""}r(xd,"one");function kd(t,e,n){let i=[],s=-1;for(;++s<t.length;)i[s]=xd(t[s],e,n);return i.join("")}r(kd,"all");function ew(t){return!!(t&&typeof t=="object")}r(ew,"node");var vd=document.createElement("i");function lr(t){let e="&"+t+";";vd.innerHTML=e;let n=vd.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}r(lr,"decodeNamedCharacterReference");function Le(t,e,n,i){let s=t.length,a=0,l;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,i.length<1e4)l=Array.from(i),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);a<i.length;)l=i.slice(a,a+1e4),l.unshift(e,0),t.splice(...l),a+=1e4,e+=1e4}r(Le,"splice");function Ge(t,e){return t.length>0?(Le(t,t.length,0,e),t):e}r(Ge,"push");var Cd={}.hasOwnProperty;function Ad(t){let e={},n=-1;for(;++n<t.length;)tw(e,t[n]);return e}r(Ad,"combineExtensions");function tw(t,e){let n;for(n in e){let s=(Cd.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n],l;if(a)for(l in a){Cd.call(s,l)||(s[l]=[]);let c=a[l];nw(s[l],Array.isArray(c)?c:c?[c]:[])}}}r(tw,"syntaxExtension");function nw(t,e){let n=-1,i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Le(t,0,0,i)}r(nw,"constructs");function ms(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}r(ms,"decodeNumericCharacterReference");function Xt(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}r(Xt,"normalizeIdentifier");var nt=cn(/[A-Za-z]/),Ke=cn(/[\dA-Za-z]/),Sd=cn(/[#-'*+\--9=?A-Z^-~]/);function qr(t){return t!==null&&(t<32||t===127)}r(qr,"asciiControl");var Jr=cn(/\d/),Ed=cn(/[\dA-Fa-f]/),Td=cn(/[!-/:-@[-`{-~]/);function W(t){return t!==null&&t<-2}r(W,"markdownLineEnding");function ke(t){return t!==null&&(t<0||t===32)}r(ke,"markdownLineEndingOrSpace");function q(t){return t===-2||t===-1||t===32}r(q,"markdownSpace");var Pd=cn(/\p{P}|\p{S}/u),Fd=cn(/\s/);function cn(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}r(cn,"regexCheck");function Z(t,e,n,i){let s=i?i-1:Number.POSITIVE_INFINITY,a=0;return l;function l(d){return q(d)?(t.enter(n),c(d)):e(d)}function c(d){return q(d)&&a++<s?(t.consume(d),c):(t.exit(n),e(d))}}r(Z,"factorySpace");var _d={tokenize:rw};function rw(t){let e=t.attempt(this.parser.constructs.contentInitial,i,s),n;return e;function i(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Z(t,e,"linePrefix")}function s(c){return t.enter("paragraph"),a(c)}function a(c){let d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(c)}function l(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return W(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),l)}}r(rw,"initializeContent");var Od={tokenize:iw},Md={tokenize:sw};function iw(t){let e=this,n=[],i=0,s,a,l;return c;function c(M){if(i<n.length){let L=n[i];return e.containerState=L[1],t.attempt(L[0].continuation,d,h)(M)}return h(M)}function d(M){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&P();let L=e.events.length,V=L,E;for(;V--;)if(e.events[V][0]==="exit"&&e.events[V][1].type==="chunkFlow"){E=e.events[V][1].end;break}A(i);let G=L;for(;G<e.events.length;)e.events[G][1].end={...E},G++;return Le(e.events,V+1,0,e.events.slice(L)),e.events.length=G,h(M)}return c(M)}function h(M){if(i===n.length){if(!s)return y(M);if(s.currentConstruct&&s.currentConstruct.concrete)return C(M);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Md,p,g)(M)}function p(M){return s&&P(),A(i),y(M)}function g(M){return e.parser.lazy[e.now().line]=i!==n.length,l=e.now().offset,C(M)}function y(M){return e.containerState={},t.attempt(Md,w,C)(M)}function w(M){return i++,n.push([e.currentConstruct,e.containerState]),y(M)}function C(M){if(M===null){s&&P(),A(0),t.consume(M);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),F(M)}function F(M){if(M===null){S(t.exit("chunkFlow"),!0),A(0),t.consume(M);return}return W(M)?(t.consume(M),S(t.exit("chunkFlow")),i=0,e.interrupt=void 0,c):(t.consume(M),F)}function S(M,L){let V=e.sliceStream(M);if(L&&V.push(null),M.previous=a,a&&(a.next=M),a=M,s.defineSkip(M.start),s.write(V),e.parser.lazy[M.start.line]){let E=s.events.length;for(;E--;)if(s.events[E][1].start.offset<l&&(!s.events[E][1].end||s.events[E][1].end.offset>l))return;let G=e.events.length,K=G,U,Q;for(;K--;)if(e.events[K][0]==="exit"&&e.events[K][1].type==="chunkFlow"){if(U){Q=e.events[K][1].end;break}U=!0}for(A(i),E=G;E<e.events.length;)e.events[E][1].end={...Q},E++;Le(e.events,K+1,0,e.events.slice(G)),e.events.length=E}}function A(M){let L=n.length;for(;L-- >M;){let V=n[L];e.containerState=V[1],V[0].exit.call(e,t)}n.length=M}function P(){s.write([null]),a=void 0,s=void 0,e.containerState._closeFlow=void 0}}r(iw,"initializeDocument");function sw(t,e,n){return Z(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}r(sw,"tokenizeContainer");function ur(t){if(t===null||ke(t)||Fd(t))return 1;if(Pd(t))return 2}r(ur,"classifyCharacter");function cr(t,e,n){let i=[],s=-1;for(;++s<t.length;){let a=t[s].resolveAll;a&&!i.includes(a)&&(e=a(e,n),i.push(a))}return e}r(cr,"resolveAll");var Zr={name:"attention",resolveAll:ow,tokenize:aw};function ow(t,e){let n=-1,i,s,a,l,c,d,h,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let g={...t[i][1].end},y={...t[n][1].start};Dd(g,-d),Dd(y,d),l={type:d>1?"strongSequence":"emphasisSequence",start:g,end:{...t[i][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:y},a={type:d>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},s={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},t[i][1].end={...l.start},t[n][1].start={...c.end},h=[],t[i][1].end.offset-t[i][1].start.offset&&(h=Ge(h,[["enter",t[i][1],e],["exit",t[i][1],e]])),h=Ge(h,[["enter",s,e],["enter",l,e],["exit",l,e],["enter",a,e]]),h=Ge(h,cr(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),h=Ge(h,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,h=Ge(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,Le(t,i-1,n-i+3,h),n=i+h.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}r(ow,"resolveAllAttention");function aw(t,e){let n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=ur(i),a;return l;function l(d){return a=d,t.enter("attentionSequence"),c(d)}function c(d){if(d===a)return t.consume(d),c;let h=t.exit("attentionSequence"),p=ur(d),g=!p||p===2&&s||n.includes(d),y=!s||s===2&&p||n.includes(i);return h._open=!!(a===42?g:g&&(s||!y)),h._close=!!(a===42?y:y&&(p||!g)),e(d)}}r(aw,"tokenizeAttention");function Dd(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}r(Dd,"movePoint");var Ia={name:"autolink",tokenize:lw};function lw(t,e,n){let i=0;return s;function s(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(w){return nt(w)?(t.consume(w),l):w===64?n(w):h(w)}function l(w){return w===43||w===45||w===46||Ke(w)?(i=1,c(w)):h(w)}function c(w){return w===58?(t.consume(w),i=0,d):(w===43||w===45||w===46||Ke(w))&&i++<32?(t.consume(w),c):(i=0,h(w))}function d(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||qr(w)?n(w):(t.consume(w),d)}function h(w){return w===64?(t.consume(w),p):Sd(w)?(t.consume(w),h):n(w)}function p(w){return Ke(w)?g(w):n(w)}function g(w){return w===46?(t.consume(w),i=0,p):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):y(w)}function y(w){if((w===45||Ke(w))&&i++<63){let C=w===45?y:g;return t.consume(w),C}return n(w)}}r(lw,"tokenizeAutolink");var dn={partial:!0,tokenize:uw};function uw(t,e,n){return i;function i(a){return q(a)?Z(t,s,"linePrefix")(a):s(a)}function s(a){return a===null||W(a)?e(a):n(a)}}r(uw,"tokenizeBlankLine");var gs={continuation:{tokenize:dw},exit:fw,name:"blockQuote",tokenize:cw};function cw(t,e,n){let i=this;return s;function s(l){if(l===62){let c=i.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),a}return n(l)}function a(l){return q(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}r(cw,"tokenizeBlockQuoteStart");function dw(t,e,n){let i=this;return s;function s(l){return q(l)?Z(t,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return t.attempt(gs,e,n)(l)}}r(dw,"tokenizeBlockQuoteContinuation");function fw(t){t.exit("blockQuote")}r(fw,"exit");var ys={name:"characterEscape",tokenize:hw};function hw(t,e,n){return i;function i(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),s}function s(a){return Td(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}r(hw,"tokenizeCharacterEscape");var ws={name:"characterReference",tokenize:pw};function pw(t,e,n){let i=this,s=0,a,l;return c;function c(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),d}function d(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),a=31,l=Ke,p(g))}function h(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,l=Ed,p):(t.enter("characterReferenceValue"),a=7,l=Jr,p(g))}function p(g){if(g===59&&s){let y=t.exit("characterReferenceValue");return l===Ke&&!lr(i.sliceSerialize(y))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(g)&&s++<a?(t.consume(g),p):n(g)}}r(pw,"tokenizeCharacterReference");var Ld={partial:!0,tokenize:gw},bs={concrete:!0,name:"codeFenced",tokenize:mw};function mw(t,e,n){let i=this,s={partial:!0,tokenize:V},a=0,l=0,c;return d;function d(E){return h(E)}function h(E){let G=i.events[i.events.length-1];return a=G&&G[1].type==="linePrefix"?G[2].sliceSerialize(G[1],!0).length:0,c=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(E)}function p(E){return E===c?(l++,t.consume(E),p):l<3?n(E):(t.exit("codeFencedFenceSequence"),q(E)?Z(t,g,"whitespace")(E):g(E))}function g(E){return E===null||W(E)?(t.exit("codeFencedFence"),i.interrupt?e(E):t.check(Ld,F,L)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===null||W(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(E)):q(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Z(t,w,"whitespace")(E)):E===96&&E===c?n(E):(t.consume(E),y)}function w(E){return E===null||W(E)?g(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),C(E))}function C(E){return E===null||W(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(E)):E===96&&E===c?n(E):(t.consume(E),C)}function F(E){return t.attempt(s,L,S)(E)}function S(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),A}function A(E){return a>0&&q(E)?Z(t,P,"linePrefix",a+1)(E):P(E)}function P(E){return E===null||W(E)?t.check(Ld,F,L)(E):(t.enter("codeFlowValue"),M(E))}function M(E){return E===null||W(E)?(t.exit("codeFlowValue"),P(E)):(t.consume(E),M)}function L(E){return t.exit("codeFenced"),e(E)}function V(E,G,K){let U=0;return Q;function Q(z){return E.enter("lineEnding"),E.consume(z),E.exit("lineEnding"),le}function le(z){return E.enter("codeFencedFence"),q(z)?Z(E,te,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):te(z)}function te(z){return z===c?(E.enter("codeFencedFenceSequence"),I(z)):K(z)}function I(z){return z===c?(U++,E.consume(z),I):U>=l?(E.exit("codeFencedFenceSequence"),q(z)?Z(E,$,"whitespace")(z):$(z)):K(z)}function $(z){return z===null||W(z)?(E.exit("codeFencedFence"),G(z)):K(z)}}}r(mw,"tokenizeCodeFenced");function gw(t,e,n){let i=this;return s;function s(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a)}function a(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}r(gw,"tokenizeNonLazyContinuation");var Qr={name:"codeIndented",tokenize:ww},yw={partial:!0,tokenize:bw};function ww(t,e,n){let i=this;return s;function s(h){return t.enter("codeIndented"),Z(t,a,"linePrefix",5)(h)}function a(h){let p=i.events[i.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(h):n(h)}function l(h){return h===null?d(h):W(h)?t.attempt(yw,l,d)(h):(t.enter("codeFlowValue"),c(h))}function c(h){return h===null||W(h)?(t.exit("codeFlowValue"),l(h)):(t.consume(h),c)}function d(h){return t.exit("codeIndented"),e(h)}}r(ww,"tokenizeCodeIndented");function bw(t,e,n){let i=this;return s;function s(l){return i.parser.lazy[i.now().line]?n(l):W(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s):Z(t,a,"linePrefix",5)(l)}function a(l){let c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):W(l)?s(l):n(l)}}r(bw,"tokenizeFurtherStart");var Ra={name:"codeText",previous:xw,resolve:kw,tokenize:vw};function kw(t){let e=t.length-4,n=3,i,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)s===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(s=i):(i===e||t[i][1].type==="lineEnding")&&(t[s][1].type="codeTextData",i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),e-=i-s-2,i=s+2),s=void 0);return t}r(kw,"resolveCodeText");function xw(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}r(xw,"previous");function vw(t,e,n){let i=this,s=0,a,l;return c;function c(y){return t.enter("codeText"),t.enter("codeTextSequence"),d(y)}function d(y){return y===96?(t.consume(y),s++,d):(t.exit("codeTextSequence"),h(y))}function h(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),h):y===96?(l=t.enter("codeTextSequence"),a=0,g(y)):W(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("codeTextData"),p(y))}function p(y){return y===null||y===32||y===96||W(y)?(t.exit("codeTextData"),h(y)):(t.consume(y),p)}function g(y){return y===96?(t.consume(y),a++,g):a===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(l.type="codeTextData",p(y))}}r(vw,"tokenizeCodeText");var ks=class{static{r(this,"SpliceBuffer")}constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){let s=n||0;this.setCursor(Math.trunc(e));let a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&Xr(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Xr(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Xr(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);Xr(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Xr(this.left,n.reverse())}}};function Xr(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}r(Xr,"chunkedPush");function xs(t){let e={},n=-1,i,s,a,l,c,d,h,p=new ks(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(i=p.get(n),n&&i[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(d=i[1]._tokenizer.events,a=0,a<d.length&&d[a][1].type==="lineEndingBlank"&&(a+=2),a<d.length&&d[a][1].type==="content"))for(;++a<d.length&&d[a][1].type!=="content";)d[a][1].type==="chunkText"&&(d[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,Cw(p,n)),n=e[n],h=!0);else if(i[1]._container){for(a=n,s=void 0;a--;)if(l=p.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;s&&(i[1].end={...p.get(s)[1].start},c=p.slice(s,n),c.unshift(i),p.splice(s,n-s+1,c))}}return Le(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!h}r(xs,"subtokenize");function Cw(t,e){let n=t.get(e)[1],i=t.get(e)[2],s=e-1,a=[],l=n._tokenizer;l||(l=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));let c=l.events,d=[],h={},p,g,y=-1,w=n,C=0,F=0,S=[F];for(;w;){for(;t.get(++s)[1]!==w;);a.push(s),w._tokenizer||(p=i.sliceStream(w),w.next||p.push(null),g&&l.defineSkip(w.start),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=w,w=w.next}for(w=n;++y<c.length;)c[y][0]==="exit"&&c[y-1][0]==="enter"&&c[y][1].type===c[y-1][1].type&&c[y][1].start.line!==c[y][1].end.line&&(F=y+1,S.push(F),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(l.events=[],w?(w._tokenizer=void 0,w.previous=void 0):S.pop(),y=S.length;y--;){let A=c.slice(S[y],S[y+1]),P=a.pop();d.push([P,P+A.length-1]),t.splice(P,2,A)}for(d.reverse(),y=-1;++y<d.length;)h[C+d[y][0]]=C+d[y][1],C+=d[y][1]-d[y][0]-1;return h}r(Cw,"subcontent");var Na={resolve:Sw,tokenize:Ew},Aw={partial:!0,tokenize:Tw};function Sw(t){return xs(t),t}r(Sw,"resolveContent");function Ew(t,e){let n;return i;function i(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?a(c):W(c)?t.check(Aw,l,a)(c):(t.consume(c),s)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function l(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}r(Ew,"tokenizeContent");function Tw(t,e,n){let i=this;return s;function s(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Z(t,a,"linePrefix")}function a(l){if(l===null||W(l))return n(l);let c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):t.interrupt(i.parser.constructs.flow,n,e)(l)}}r(Tw,"tokenizeContinuation");function vs(t,e,n,i,s,a,l,c,d){let h=d||Number.POSITIVE_INFINITY,p=0;return g;function g(A){return A===60?(t.enter(i),t.enter(s),t.enter(a),t.consume(A),t.exit(a),y):A===null||A===32||A===41||qr(A)?n(A):(t.enter(i),t.enter(l),t.enter(c),t.enter("chunkString",{contentType:"string"}),F(A))}function y(A){return A===62?(t.enter(a),t.consume(A),t.exit(a),t.exit(s),t.exit(i),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),w(A))}function w(A){return A===62?(t.exit("chunkString"),t.exit(c),y(A)):A===null||A===60||W(A)?n(A):(t.consume(A),A===92?C:w)}function C(A){return A===60||A===62||A===92?(t.consume(A),w):w(A)}function F(A){return!p&&(A===null||A===41||ke(A))?(t.exit("chunkString"),t.exit(c),t.exit(l),t.exit(i),e(A)):p<h&&A===40?(t.consume(A),p++,F):A===41?(t.consume(A),p--,F):A===null||A===32||A===40||qr(A)?n(A):(t.consume(A),A===92?S:F)}function S(A){return A===40||A===41||A===92?(t.consume(A),F):F(A)}}r(vs,"factoryDestination");function Cs(t,e,n,i,s,a){let l=this,c=0,d;return h;function h(w){return t.enter(i),t.enter(s),t.consume(w),t.exit(s),t.enter(a),p}function p(w){return c>999||w===null||w===91||w===93&&!d||w===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(w):w===93?(t.exit(a),t.enter(s),t.consume(w),t.exit(s),t.exit(i),e):W(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===null||w===91||w===93||W(w)||c++>999?(t.exit("chunkString"),p(w)):(t.consume(w),d||(d=!q(w)),w===92?y:g)}function y(w){return w===91||w===92||w===93?(t.consume(w),c++,g):g(w)}}r(Cs,"factoryLabel");function As(t,e,n,i,s,a){let l;return c;function c(y){return y===34||y===39||y===40?(t.enter(i),t.enter(s),t.consume(y),t.exit(s),l=y===40?41:y,d):n(y)}function d(y){return y===l?(t.enter(s),t.consume(y),t.exit(s),t.exit(i),e):(t.enter(a),h(y))}function h(y){return y===l?(t.exit(a),d(l)):y===null?n(y):W(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),Z(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===l||y===null||W(y)?(t.exit("chunkString"),h(y)):(t.consume(y),y===92?g:p)}function g(y){return y===l||y===92?(t.consume(y),p):p(y)}}r(As,"factoryTitle");function _n(t,e){let n;return i;function i(s){return W(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,i):q(s)?Z(t,i,n?"linePrefix":"lineSuffix")(s):e(s)}}r(_n,"factoryWhitespace");var Ba={name:"definition",tokenize:Fw},Pw={partial:!0,tokenize:_w};function Fw(t,e,n){let i=this,s;return a;function a(w){return t.enter("definition"),l(w)}function l(w){return Cs.call(i,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function c(w){return s=Xt(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),d):n(w)}function d(w){return ke(w)?_n(t,h)(w):h(w)}function h(w){return vs(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function p(w){return t.attempt(Pw,g,g)(w)}function g(w){return q(w)?Z(t,y,"whitespace")(w):y(w)}function y(w){return w===null||W(w)?(t.exit("definition"),i.parser.defined.push(s),e(w)):n(w)}}r(Fw,"tokenizeDefinition");function _w(t,e,n){return i;function i(c){return ke(c)?_n(t,s)(c):n(c)}function s(c){return As(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return q(c)?Z(t,l,"whitespace")(c):l(c)}function l(c){return c===null||W(c)?e(c):n(c)}}r(_w,"tokenizeTitleBefore");var Wa={name:"hardBreakEscape",tokenize:Mw};function Mw(t,e,n){return i;function i(a){return t.enter("hardBreakEscape"),t.consume(a),s}function s(a){return W(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}r(Mw,"tokenizeHardBreakEscape");var Va={name:"headingAtx",resolve:Ow,tokenize:Dw};function Ow(t,e){let n=t.length-2,i=3,s,a;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},a={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Le(t,i,n-i+1,[["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e]])),t}r(Ow,"resolveHeadingAtx");function Dw(t,e,n){let i=0;return s;function s(p){return t.enter("atxHeading"),a(p)}function a(p){return t.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&i++<6?(t.consume(p),l):p===null||ke(p)?(t.exit("atxHeadingSequence"),c(p)):n(p)}function c(p){return p===35?(t.enter("atxHeadingSequence"),d(p)):p===null||W(p)?(t.exit("atxHeading"),e(p)):q(p)?Z(t,c,"whitespace")(p):(t.enter("atxHeadingText"),h(p))}function d(p){return p===35?(t.consume(p),d):(t.exit("atxHeadingSequence"),c(p))}function h(p){return p===null||p===35||ke(p)?(t.exit("atxHeadingText"),c(p)):(t.consume(p),h)}}r(Dw,"tokenizeHeadingAtx");var Id=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ya=["pre","script","style","textarea"];var $a={concrete:!0,name:"htmlFlow",resolveTo:Rw,tokenize:Nw},Lw={partial:!0,tokenize:Ww},Iw={partial:!0,tokenize:Bw};function Rw(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}r(Rw,"resolveToHtmlFlow");function Nw(t,e,n){let i=this,s,a,l,c,d;return h;function h(k){return p(k)}function p(k){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(k),g}function g(k){return k===33?(t.consume(k),y):k===47?(t.consume(k),a=!0,F):k===63?(t.consume(k),s=3,i.interrupt?e:v):nt(k)?(t.consume(k),l=String.fromCharCode(k),S):n(k)}function y(k){return k===45?(t.consume(k),s=2,w):k===91?(t.consume(k),s=5,c=0,C):nt(k)?(t.consume(k),s=4,i.interrupt?e:v):n(k)}function w(k){return k===45?(t.consume(k),i.interrupt?e:v):n(k)}function C(k){let Pe="CDATA[";return k===Pe.charCodeAt(c++)?(t.consume(k),c===Pe.length?i.interrupt?e:te:C):n(k)}function F(k){return nt(k)?(t.consume(k),l=String.fromCharCode(k),S):n(k)}function S(k){if(k===null||k===47||k===62||ke(k)){let Pe=k===47,$t=l.toLowerCase();return!Pe&&!a&&Ya.includes($t)?(s=1,i.interrupt?e(k):te(k)):Id.includes(l.toLowerCase())?(s=6,Pe?(t.consume(k),A):i.interrupt?e(k):te(k)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(k):a?P(k):M(k))}return k===45||Ke(k)?(t.consume(k),l+=String.fromCharCode(k),S):n(k)}function A(k){return k===62?(t.consume(k),i.interrupt?e:te):n(k)}function P(k){return q(k)?(t.consume(k),P):Q(k)}function M(k){return k===47?(t.consume(k),Q):k===58||k===95||nt(k)?(t.consume(k),L):q(k)?(t.consume(k),M):Q(k)}function L(k){return k===45||k===46||k===58||k===95||Ke(k)?(t.consume(k),L):V(k)}function V(k){return k===61?(t.consume(k),E):q(k)?(t.consume(k),V):M(k)}function E(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),d=k,G):q(k)?(t.consume(k),E):K(k)}function G(k){return k===d?(t.consume(k),d=null,U):k===null||W(k)?n(k):(t.consume(k),G)}function K(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||ke(k)?V(k):(t.consume(k),K)}function U(k){return k===47||k===62||q(k)?M(k):n(k)}function Q(k){return k===62?(t.consume(k),le):n(k)}function le(k){return k===null||W(k)?te(k):q(k)?(t.consume(k),le):n(k)}function te(k){return k===45&&s===2?(t.consume(k),J):k===60&&s===1?(t.consume(k),ie):k===62&&s===4?(t.consume(k),oe):k===63&&s===3?(t.consume(k),v):k===93&&s===5?(t.consume(k),Ce):W(k)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(Lw,ge,I)(k)):k===null||W(k)?(t.exit("htmlFlowData"),I(k)):(t.consume(k),te)}function I(k){return t.check(Iw,$,ge)(k)}function $(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),z}function z(k){return k===null||W(k)?I(k):(t.enter("htmlFlowData"),te(k))}function J(k){return k===45?(t.consume(k),v):te(k)}function ie(k){return k===47?(t.consume(k),l="",ue):te(k)}function ue(k){if(k===62){let Pe=l.toLowerCase();return Ya.includes(Pe)?(t.consume(k),oe):te(k)}return nt(k)&&l.length<8?(t.consume(k),l+=String.fromCharCode(k),ue):te(k)}function Ce(k){return k===93?(t.consume(k),v):te(k)}function v(k){return k===62?(t.consume(k),oe):k===45&&s===2?(t.consume(k),v):te(k)}function oe(k){return k===null||W(k)?(t.exit("htmlFlowData"),ge(k)):(t.consume(k),oe)}function ge(k){return t.exit("htmlFlow"),e(k)}}r(Nw,"tokenizeHtmlFlow");function Bw(t,e,n){let i=this;return s;function s(l){return W(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):n(l)}function a(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}r(Bw,"tokenizeNonLazyContinuationStart");function Ww(t,e,n){return i;function i(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(dn,e,n)}}r(Ww,"tokenizeBlankLineBefore");var za={name:"htmlText",tokenize:Vw};function Vw(t,e,n){let i=this,s,a,l;return c;function c(v){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(v),d}function d(v){return v===33?(t.consume(v),h):v===47?(t.consume(v),V):v===63?(t.consume(v),M):nt(v)?(t.consume(v),K):n(v)}function h(v){return v===45?(t.consume(v),p):v===91?(t.consume(v),a=0,C):nt(v)?(t.consume(v),P):n(v)}function p(v){return v===45?(t.consume(v),w):n(v)}function g(v){return v===null?n(v):v===45?(t.consume(v),y):W(v)?(l=g,ie(v)):(t.consume(v),g)}function y(v){return v===45?(t.consume(v),w):g(v)}function w(v){return v===62?J(v):v===45?y(v):g(v)}function C(v){let oe="CDATA[";return v===oe.charCodeAt(a++)?(t.consume(v),a===oe.length?F:C):n(v)}function F(v){return v===null?n(v):v===93?(t.consume(v),S):W(v)?(l=F,ie(v)):(t.consume(v),F)}function S(v){return v===93?(t.consume(v),A):F(v)}function A(v){return v===62?J(v):v===93?(t.consume(v),A):F(v)}function P(v){return v===null||v===62?J(v):W(v)?(l=P,ie(v)):(t.consume(v),P)}function M(v){return v===null?n(v):v===63?(t.consume(v),L):W(v)?(l=M,ie(v)):(t.consume(v),M)}function L(v){return v===62?J(v):M(v)}function V(v){return nt(v)?(t.consume(v),E):n(v)}function E(v){return v===45||Ke(v)?(t.consume(v),E):G(v)}function G(v){return W(v)?(l=G,ie(v)):q(v)?(t.consume(v),G):J(v)}function K(v){return v===45||Ke(v)?(t.consume(v),K):v===47||v===62||ke(v)?U(v):n(v)}function U(v){return v===47?(t.consume(v),J):v===58||v===95||nt(v)?(t.consume(v),Q):W(v)?(l=U,ie(v)):q(v)?(t.consume(v),U):J(v)}function Q(v){return v===45||v===46||v===58||v===95||Ke(v)?(t.consume(v),Q):le(v)}function le(v){return v===61?(t.consume(v),te):W(v)?(l=le,ie(v)):q(v)?(t.consume(v),le):U(v)}function te(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),s=v,I):W(v)?(l=te,ie(v)):q(v)?(t.consume(v),te):(t.consume(v),$)}function I(v){return v===s?(t.consume(v),s=void 0,z):v===null?n(v):W(v)?(l=I,ie(v)):(t.consume(v),I)}function $(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===47||v===62||ke(v)?U(v):(t.consume(v),$)}function z(v){return v===47||v===62||ke(v)?U(v):n(v)}function J(v){return v===62?(t.consume(v),t.exit("htmlTextData"),t.exit("htmlText"),e):n(v)}function ie(v){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),ue}function ue(v){return q(v)?Z(t,Ce,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):Ce(v)}function Ce(v){return t.enter("htmlTextData"),l(v)}}r(Vw,"tokenizeHtmlText");var Mn={name:"labelEnd",resolveAll:Uw,resolveTo:Hw,tokenize:jw},Yw={tokenize:Gw},$w={tokenize:Kw},zw={tokenize:qw};function Uw(t){let e=-1,n=[];for(;++e<t.length;){let i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){let s=i.type==="labelImage"?4:2;i.type="data",e+=s}}return t.length!==n.length&&Le(t,0,t.length,n),t}r(Uw,"resolveAllLabelEnd");function Hw(t,e){let n=t.length,i=0,s,a,l,c;for(;n--;)if(s=t[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(l=n);let d={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[a][1].start},end:{...t[l][1].end}},p={type:"labelText",start:{...t[a+i+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",d,e],["enter",h,e]],c=Ge(c,t.slice(a+1,a+i+3)),c=Ge(c,[["enter",p,e]]),c=Ge(c,cr(e.parser.constructs.insideSpan.null,t.slice(a+i+4,l-3),e)),c=Ge(c,[["exit",p,e],t[l-2],t[l-1],["exit",h,e]]),c=Ge(c,t.slice(l+1)),c=Ge(c,[["exit",d,e]]),Le(t,a,t.length,c),t}r(Hw,"resolveToLabelEnd");function jw(t,e,n){let i=this,s=i.events.length,a,l;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){a=i.events[s][1];break}return c;function c(y){return a?a._inactive?g(y):(l=i.parser.defined.includes(Xt(i.sliceSerialize({start:a.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),d):n(y)}function d(y){return y===40?t.attempt(Yw,p,l?p:g)(y):y===91?t.attempt($w,p,l?h:g)(y):l?p(y):g(y)}function h(y){return t.attempt(zw,p,g)(y)}function p(y){return e(y)}function g(y){return a._balanced=!0,n(y)}}r(jw,"tokenizeLabelEnd");function Gw(t,e,n){return i;function i(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),s}function s(g){return ke(g)?_n(t,a)(g):a(g)}function a(g){return g===41?p(g):vs(t,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return ke(g)?_n(t,d)(g):p(g)}function c(g){return n(g)}function d(g){return g===34||g===39||g===40?As(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function h(g){return ke(g)?_n(t,p)(g):p(g)}function p(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}r(Gw,"tokenizeResource");function Kw(t,e,n){let i=this;return s;function s(c){return Cs.call(i,t,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return i.parser.defined.includes(Xt(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}r(Kw,"tokenizeReferenceFull");function qw(t,e,n){return i;function i(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),s}function s(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}r(qw,"tokenizeReferenceCollapsed");var Ua={name:"labelStartImage",resolveAll:Mn.resolveAll,tokenize:Jw};function Jw(t,e,n){let i=this;return s;function s(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):e(c)}}r(Jw,"tokenizeLabelStartImage");var Ha={name:"labelStartLink",resolveAll:Mn.resolveAll,tokenize:Zw};function Zw(t,e,n){let i=this;return s;function s(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):e(l)}}r(Zw,"tokenizeLabelStartLink");var ei={name:"lineEnding",tokenize:Qw};function Qw(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Z(t,e,"linePrefix")}}r(Qw,"tokenizeLineEnding");var On={name:"thematicBreak",tokenize:Xw};function Xw(t,e,n){let i=0,s;return a;function a(h){return t.enter("thematicBreak"),l(h)}function l(h){return s=h,c(h)}function c(h){return h===s?(t.enter("thematicBreakSequence"),d(h)):i>=3&&(h===null||W(h))?(t.exit("thematicBreak"),e(h)):n(h)}function d(h){return h===s?(t.consume(h),i++,d):(t.exit("thematicBreakSequence"),q(h)?Z(t,c,"whitespace")(h):c(h))}}r(Xw,"tokenizeThematicBreak");var Be={continuation:{tokenize:rb},exit:sb,name:"list",tokenize:nb},eb={partial:!0,tokenize:ob},tb={partial:!0,tokenize:ib};function nb(t,e,n){let i=this,s=i.events[i.events.length-1],a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return c;function c(w){let C=i.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!i.containerState.marker||w===i.containerState.marker:Jr(w)){if(i.containerState.type||(i.containerState.type=C,t.enter(C,{_container:!0})),C==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(On,n,h)(w):h(w);if(!i.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(w)}return n(w)}function d(w){return Jr(w)&&++l<10?(t.consume(w),d):(!i.interrupt||l<2)&&(i.containerState.marker?w===i.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),h(w)):n(w)}function h(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||w,t.check(dn,i.interrupt?n:p,t.attempt(eb,y,g))}function p(w){return i.containerState.initialBlankLine=!0,a++,y(w)}function g(w){return q(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),y):n(w)}function y(w){return i.containerState.size=a+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}r(nb,"tokenizeListStart");function rb(t,e,n){let i=this;return i.containerState._closeFlow=void 0,t.check(dn,s,a);function s(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Z(t,e,"listItemIndent",i.containerState.size+1)(c)}r(s,"onBlank");function a(c){return i.containerState.furtherBlankLines||!q(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(tb,e,l)(c))}r(a,"notBlank");function l(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,Z(t,t.attempt(Be,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}r(l,"notInCurrentItem")}r(rb,"tokenizeListContinuation");function ib(t,e,n){let i=this;return Z(t,s,"listItemIndent",i.containerState.size+1);function s(a){let l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(a):n(a)}}r(ib,"tokenizeIndent");function sb(t){t.exit(this.containerState.type)}r(sb,"tokenizeListEnd");function ob(t,e,n){let i=this;return Z(t,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){let l=i.events[i.events.length-1];return!q(a)&&l&&l[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}r(ob,"tokenizeListItemPrefixWhitespace");var Ss={name:"setextUnderline",resolveTo:ab,tokenize:lb};function ab(t,e){let n=t.length,i,s,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);let l={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",a?(t.splice(s,0,["enter",l,e]),t.splice(a+1,0,["exit",t[i][1],e]),t[i][1].end={...t[a][1].end}):t[i][1]=l,t.push(["exit",l,e]),t}r(ab,"resolveToSetextUnderline");function lb(t,e,n){let i=this,s;return a;function a(h){let p=i.events.length,g;for(;p--;)if(i.events[p][1].type!=="lineEnding"&&i.events[p][1].type!=="linePrefix"&&i.events[p][1].type!=="content"){g=i.events[p][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||g)?(t.enter("setextHeadingLine"),s=h,l(h)):n(h)}function l(h){return t.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===s?(t.consume(h),c):(t.exit("setextHeadingLineSequence"),q(h)?Z(t,d,"lineSuffix")(h):d(h))}function d(h){return h===null||W(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}r(lb,"tokenizeSetextUnderline");var Rd={tokenize:ub};function ub(t){let e=this,n=t.attempt(dn,i,t.attempt(this.parser.constructs.flowInitial,s,Z(t,t.attempt(this.parser.constructs.flow,s,t.attempt(Na,s)),"linePrefix")));return n;function i(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}r(ub,"initializeFlow");var Nd={resolveAll:Yd()},Bd=Vd("string"),Wd=Vd("text");function Vd(t){return{resolveAll:Yd(t==="text"?cb:void 0),tokenize:e};function e(n){let i=this,s=this.parser.constructs[t],a=n.attempt(s,l,c);return l;function l(p){return h(p)?a(p):c(p)}function c(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),d}function d(p){return h(p)?(n.exit("data"),a(p)):(n.consume(p),d)}function h(p){if(p===null)return!0;let g=s[p],y=-1;if(g)for(;++y<g.length;){let w=g[y];if(!w.previous||w.previous.call(i,i.previous))return!0}return!1}}}r(Vd,"initializeFactory");function Yd(t){return e;function e(n,i){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return t?t(n,i):n}}r(Yd,"createResolver");function cb(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let i=t[n-1][1],s=e.sliceStream(i),a=s.length,l=-1,c=0,d;for(;a--;){let h=s[a];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(h===-2)d=!0,c++;else if(h!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){let h={type:n===t.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:i.start._bufferIndex+l,_index:i.start._index+a,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...h.start},i.start.offset===i.end.offset?Object.assign(i,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}r(cb,"resolveAllLineSuffixes");var ja={};Vu(ja,{attentionMarkers:()=>wb,contentInitial:()=>fb,disable:()=>bb,document:()=>db,flow:()=>pb,flowInitial:()=>hb,insideSpan:()=>yb,string:()=>mb,text:()=>gb});var db={42:Be,43:Be,45:Be,48:Be,49:Be,50:Be,51:Be,52:Be,53:Be,54:Be,55:Be,56:Be,57:Be,62:gs},fb={91:Ba},hb={[-2]:Qr,[-1]:Qr,32:Qr},pb={35:Va,42:On,45:[Ss,On],60:$a,61:Ss,95:On,96:bs,126:bs},mb={38:ws,92:ys},gb={[-5]:ei,[-4]:ei,[-3]:ei,33:Ua,38:ws,42:Zr,60:[Ia,za],91:Ha,92:[Wa,ys],93:Mn,95:Zr,96:Ra},yb={null:[Zr,Nd]},wb={null:[42,95]},bb={null:[]};function $d(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},s={},a=[],l=[],c=[],d=!0,h={attempt:U(G),check:U(K),consume:L,enter:V,exit:E,interrupt:U(K,{interrupt:!0})},p={code:null,containerState:{},defineSkip:A,events:[],now:S,parser:t,previous:null,sliceSerialize:C,sliceStream:F,write:w},g=e.tokenize.call(p,h),y;return e.resolveAll&&a.push(e),p;function w(I){return l=Ge(l,I),P(),l[l.length-1]!==null?[]:(Q(e,0),p.events=cr(a,p.events,p),p.events)}r(w,"write");function C(I,$){return xb(F(I),$)}r(C,"sliceSerialize");function F(I){return kb(l,I)}r(F,"sliceStream");function S(){let{_bufferIndex:I,_index:$,line:z,column:J,offset:ie}=i;return{_bufferIndex:I,_index:$,line:z,column:J,offset:ie}}r(S,"now");function A(I){s[I.line]=I.column,te()}r(A,"defineSkip");function P(){let I;for(;i._index<l.length;){let $=l[i._index];if(typeof $=="string")for(I=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===I&&i._bufferIndex<$.length;)M($.charCodeAt(i._bufferIndex));else M($)}}r(P,"main");function M(I){d=void 0,y=I,g=g(I)}r(M,"go");function L(I){W(I)?(i.line++,i.column=1,i.offset+=I===-3?2:1,te()):I!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),p.previous=I,d=!0}r(L,"consume");function V(I,$){let z=$||{};return z.type=I,z.start=S(),p.events.push(["enter",z,p]),c.push(z),z}r(V,"enter");function E(I){let $=c.pop();return $.end=S(),p.events.push(["exit",$,p]),$}r(E,"exit");function G(I,$){Q(I,$.from)}r(G,"onsuccessfulconstruct");function K(I,$){$.restore()}r(K,"onsuccessfulcheck");function U(I,$){return z;function z(J,ie,ue){let Ce,v,oe,ge;return Array.isArray(J)?Pe(J):"tokenize"in J?Pe([J]):k(J);function k(Ae){return kn;function kn(bt){let zt=bt!==null&&Ae[bt],sn=bt!==null&&Ae.null,Cr=[...Array.isArray(zt)?zt:zt?[zt]:[],...Array.isArray(sn)?sn:sn?[sn]:[]];return Pe(Cr)(bt)}}function Pe(Ae){return Ce=Ae,v=0,Ae.length===0?ue:$t(Ae[v])}function $t(Ae){return kn;function kn(bt){return ge=le(),oe=Ae,Ae.partial||(p.currentConstruct=Ae),Ae.name&&p.parser.constructs.disable.null.includes(Ae.name)?bn(bt):Ae.tokenize.call($?Object.assign(Object.create(p),$):p,h,rn,bn)(bt)}}function rn(Ae){return d=!0,I(oe,ge),ie}function bn(Ae){return d=!0,ge.restore(),++v<Ce.length?$t(Ce[v]):ue}}}r(U,"constructFactory");function Q(I,$){I.resolveAll&&!a.includes(I)&&a.push(I),I.resolve&&Le(p.events,$,p.events.length-$,I.resolve(p.events.slice($),p)),I.resolveTo&&(p.events=I.resolveTo(p.events,p))}r(Q,"addResult");function le(){let I=S(),$=p.previous,z=p.currentConstruct,J=p.events.length,ie=Array.from(c);return{from:J,restore:ue};function ue(){i=I,p.previous=$,p.currentConstruct=z,p.events.length=J,c=ie,te()}}r(le,"store");function te(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}r(te,"accountForPotentialSkip")}r($d,"createTokenizer");function kb(t,e){let n=e.start._index,i=e.start._bufferIndex,s=e.end._index,a=e.end._bufferIndex,l;if(n===s)l=[t[n].slice(i,a)];else{if(l=t.slice(n,s),i>-1){let c=l[0];typeof c=="string"?l[0]=c.slice(i):l.shift()}a>0&&l.push(t[s].slice(0,a))}return l}r(kb,"sliceChunks");function xb(t,e){let n=-1,i=[],s;for(;++n<t.length;){let a=t[n],l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&s)continue;l=" ";break}default:l=String.fromCharCode(a)}s=a===-2,i.push(l)}return i.join("")}r(xb,"serializeChunks");function Ga(t){let i={constructs:Ad([ja,...(t||{}).extensions||[]]),content:s(_d),defined:[],document:s(Od),flow:s(Rd),lazy:{},string:s(Bd),text:s(Wd)};return i;function s(a){return l;function l(c){return $d(i,a,c)}}}r(Ga,"parse");function Ka(t){for(;!xs(t););return t}r(Ka,"postprocess");var zd=/[\0\t\n\r]/g;function qa(){let t=1,e="",n=!0,i;return s;function s(a,l,c){let d=[],h,p,g,y,w;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),g=0,e="",n&&(a.charCodeAt(0)===65279&&g++,n=void 0);g<a.length;){if(zd.lastIndex=g,h=zd.exec(a),y=h&&h.index!==void 0?h.index:a.length,w=a.charCodeAt(y),!h){e=a.slice(g);break}if(w===10&&g===y&&i)d.push(-3),i=void 0;else switch(i&&(d.push(-5),i=void 0),g<y&&(d.push(a.slice(g,y)),t+=y-g),w){case 0:{d.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,d.push(-2);t++<p;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:i=!0,t=1}g=y+1}return c&&(i&&d.push(-5),e&&d.push(e),d.push(null)),d}}r(qa,"preprocess");var vb=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Es(t){return t.replace(vb,Cb)}r(Es,"decodeString");function Cb(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let s=n.charCodeAt(1),a=s===120||s===88;return ms(n.slice(a?2:1),a?16:10)}return lr(n)||t}r(Cb,"decode");function fn(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Ud(t.position):"start"in t||"end"in t?Ud(t):"line"in t||"column"in t?Ja(t):""}r(fn,"stringifyPosition");function Ja(t){return Hd(t&&t.line)+":"+Hd(t&&t.column)}r(Ja,"point");function Ud(t){return Ja(t&&t.start)+"-"+Ja(t&&t.end)}r(Ud,"position");function Hd(t){return t&&typeof t=="number"?t:1}r(Hd,"index");var Gd={}.hasOwnProperty;function Za(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Ab(n)(Ka(Ga(n).document().write(qa()(t,e,!0))))}r(Za,"fromMarkdown");function Ab(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ve),autolinkProtocol:U,autolinkEmail:U,atxHeading:a(pi),blockQuote:a(bt),characterEscape:U,characterReference:U,codeFenced:a(zt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(zt,l),codeText:a(sn,l),codeTextData:U,data:U,codeFlowValue:U,definition:a(Cr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(Bo),hardBreakEscape:a(mi),hardBreakTrailing:a(mi),htmlFlow:a(gi,l),htmlFlowData:U,htmlText:a(gi,l),htmlTextData:U,image:a(yi),label:l,link:a(Ve),listItem:a(Wo),listItemValue:y,listOrdered:a(Wn,g),listUnordered:a(Wn),paragraph:a(Vo),reference:k,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(pi),strong:a(wi),thematicBreak:a(bi)},exit:{atxHeading:d(),atxHeadingSequence:V,autolink:d(),autolinkEmail:kn,autolinkProtocol:Ae,blockQuote:d(),characterEscapeValue:Q,characterReferenceMarkerHexadecimal:$t,characterReferenceMarkerNumeric:$t,characterReferenceValue:rn,characterReference:bn,codeFenced:d(S),codeFencedFence:F,codeFencedFenceInfo:w,codeFencedFenceMeta:C,codeFlowValue:Q,codeIndented:d(A),codeText:d(z),codeTextData:Q,data:Q,definition:d(),definitionDestinationString:L,definitionLabelString:P,definitionTitleString:M,emphasis:d(),hardBreakEscape:d(te),hardBreakTrailing:d(te),htmlFlow:d(I),htmlFlowData:Q,htmlText:d($),htmlTextData:Q,image:d(ie),label:Ce,labelText:ue,lineEnding:le,link:d(J),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Pe,resourceDestinationString:v,resourceTitleString:oe,resource:ge,setextHeading:d(K),setextHeadingLineSequence:G,setextHeadingText:E,strong:d(),thematicBreak:d()}};Kd(e,(t||{}).mdastExtensions||[]);let n={};return i;function i(_){let D={type:"root",children:[]},R={stack:[D],tokenStack:[],config:e,enter:c,exit:h,buffer:l,resume:p,data:n},X=[],ae=-1;for(;++ae<_.length;)if(_[ae][1].type==="listOrdered"||_[ae][1].type==="listUnordered")if(_[ae][0]==="enter")X.push(ae);else{let Re=X.pop();ae=s(_,Re,ae)}for(ae=-1;++ae<_.length;){let Re=e[_[ae][0]];Gd.call(Re,_[ae][1].type)&&Re[_[ae][1].type].call(Object.assign({sliceSerialize:_[ae][2].sliceSerialize},R),_[ae][1])}if(R.tokenStack.length>0){let Re=R.tokenStack[R.tokenStack.length-1];(Re[1]||jd).call(R,void 0,Re[0])}for(D.position={start:hn(_.length>0?_[0][1].start:{line:1,column:1,offset:0}),end:hn(_.length>0?_[_.length-2][1].end:{line:1,column:1,offset:0})},ae=-1;++ae<e.transforms.length;)D=e.transforms[ae](D)||D;return D}function s(_,D,R){let X=D-1,ae=-1,Re=!1,kt,Je,st,Mt;for(;++X<=R;){let $e=_[X];switch($e[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{$e[0]==="enter"?ae++:ae--,Mt=void 0;break}case"lineEndingBlank":{$e[0]==="enter"&&(kt&&!Mt&&!ae&&!st&&(st=X),Mt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Mt=void 0}if(!ae&&$e[0]==="enter"&&$e[1].type==="listItemPrefix"||ae===-1&&$e[0]==="exit"&&($e[1].type==="listUnordered"||$e[1].type==="listOrdered")){if(kt){let xt=X;for(Je=void 0;xt--;){let vt=_[xt];if(vt[1].type==="lineEnding"||vt[1].type==="lineEndingBlank"){if(vt[0]==="exit")continue;Je&&(_[Je][1].type="lineEndingBlank",Re=!0),vt[1].type="lineEnding",Je=xt}else if(!(vt[1].type==="linePrefix"||vt[1].type==="blockQuotePrefix"||vt[1].type==="blockQuotePrefixWhitespace"||vt[1].type==="blockQuoteMarker"||vt[1].type==="listItemIndent"))break}st&&(!Je||st<Je)&&(kt._spread=!0),kt.end=Object.assign({},Je?_[Je][1].start:$e[1].end),_.splice(Je||X,0,["exit",kt,$e[2]]),X++,R++}if($e[1].type==="listItemPrefix"){let xt={type:"listItem",_spread:!1,start:Object.assign({},$e[1].start),end:void 0};kt=xt,_.splice(X,0,["enter",xt,$e[2]]),X++,R++,st=void 0,Mt=!0}}}return _[D][1]._spread=Re,R}function a(_,D){return R;function R(X){c.call(this,_(X),X),D&&D.call(this,X)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(_,D,R){this.stack[this.stack.length-1].children.push(_),this.stack.push(_),this.tokenStack.push([D,R||void 0]),_.position={start:hn(D.start),end:void 0}}function d(_){return D;function D(R){_&&_.call(this,R),h.call(this,R)}}function h(_,D){let R=this.stack.pop(),X=this.tokenStack.pop();if(X)X[0].type!==_.type&&(D?D.call(this,_,X[0]):(X[1]||jd).call(this,_,X[0]));else throw new Error("Cannot close `"+_.type+"` ("+fn({start:_.start,end:_.end})+"): it\u2019s not open");R.position.end=hn(_.end)}function p(){return Fn(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function y(_){if(this.data.expectingFirstListItemValue){let D=this.stack[this.stack.length-2];D.start=Number.parseInt(this.sliceSerialize(_),10),this.data.expectingFirstListItemValue=void 0}}function w(){let _=this.resume(),D=this.stack[this.stack.length-1];D.lang=_}function C(){let _=this.resume(),D=this.stack[this.stack.length-1];D.meta=_}function F(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){let _=this.resume(),D=this.stack[this.stack.length-1];D.value=_.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){let _=this.resume(),D=this.stack[this.stack.length-1];D.value=_.replace(/(\r?\n|\r)$/g,"")}function P(_){let D=this.resume(),R=this.stack[this.stack.length-1];R.label=D,R.identifier=Xt(this.sliceSerialize(_)).toLowerCase()}function M(){let _=this.resume(),D=this.stack[this.stack.length-1];D.title=_}function L(){let _=this.resume(),D=this.stack[this.stack.length-1];D.url=_}function V(_){let D=this.stack[this.stack.length-1];if(!D.depth){let R=this.sliceSerialize(_).length;D.depth=R}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function G(_){let D=this.stack[this.stack.length-1];D.depth=this.sliceSerialize(_).codePointAt(0)===61?1:2}function K(){this.data.setextHeadingSlurpLineEnding=void 0}function U(_){let R=this.stack[this.stack.length-1].children,X=R[R.length-1];(!X||X.type!=="text")&&(X=Ye(),X.position={start:hn(_.start),end:void 0},R.push(X)),this.stack.push(X)}function Q(_){let D=this.stack.pop();D.value+=this.sliceSerialize(_),D.position.end=hn(_.end)}function le(_){let D=this.stack[this.stack.length-1];if(this.data.atHardBreak){let R=D.children[D.children.length-1];R.position.end=hn(_.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(D.type)&&(U.call(this,_),Q.call(this,_))}function te(){this.data.atHardBreak=!0}function I(){let _=this.resume(),D=this.stack[this.stack.length-1];D.value=_}function $(){let _=this.resume(),D=this.stack[this.stack.length-1];D.value=_}function z(){let _=this.resume(),D=this.stack[this.stack.length-1];D.value=_}function J(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let D=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=D,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function ie(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let D=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=D,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function ue(_){let D=this.sliceSerialize(_),R=this.stack[this.stack.length-2];R.label=Es(D),R.identifier=Xt(D).toLowerCase()}function Ce(){let _=this.stack[this.stack.length-1],D=this.resume(),R=this.stack[this.stack.length-1];if(this.data.inReference=!0,R.type==="link"){let X=_.children;R.children=X}else R.alt=D}function v(){let _=this.resume(),D=this.stack[this.stack.length-1];D.url=_}function oe(){let _=this.resume(),D=this.stack[this.stack.length-1];D.title=_}function ge(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function Pe(_){let D=this.resume(),R=this.stack[this.stack.length-1];R.label=D,R.identifier=Xt(this.sliceSerialize(_)).toLowerCase(),this.data.referenceType="full"}function $t(_){this.data.characterReferenceType=_.type}function rn(_){let D=this.sliceSerialize(_),R=this.data.characterReferenceType,X;R?(X=ms(D,R==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):X=lr(D);let ae=this.stack[this.stack.length-1];ae.value+=X}function bn(_){let D=this.stack.pop();D.position.end=hn(_.end)}function Ae(_){Q.call(this,_);let D=this.stack[this.stack.length-1];D.url=this.sliceSerialize(_)}function kn(_){Q.call(this,_);let D=this.stack[this.stack.length-1];D.url="mailto:"+this.sliceSerialize(_)}function bt(){return{type:"blockquote",children:[]}}function zt(){return{type:"code",lang:null,meta:null,value:""}}function sn(){return{type:"inlineCode",value:""}}function Cr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Bo(){return{type:"emphasis",children:[]}}function pi(){return{type:"heading",depth:0,children:[]}}function mi(){return{type:"break"}}function gi(){return{type:"html",value:""}}function yi(){return{type:"image",title:null,url:"",alt:null}}function Ve(){return{type:"link",title:null,url:"",children:[]}}function Wn(_){return{type:"list",ordered:_.type==="listOrdered",start:null,spread:_._spread,children:[]}}function Wo(_){return{type:"listItem",spread:_._spread,checked:null,children:[]}}function Vo(){return{type:"paragraph",children:[]}}function wi(){return{type:"strong",children:[]}}function Ye(){return{type:"text",value:""}}function bi(){return{type:"thematicBreak"}}}r(Ab,"compiler");function hn(t){return{line:t.line,column:t.column,offset:t.offset}}r(hn,"point");function Kd(t,e){let n=-1;for(;++n<e.length;){let i=e[n];Array.isArray(i)?Kd(t,i):Sb(t,i)}}r(Kd,"configure");function Sb(t,e){let n;for(n in e)if(Gd.call(e,n))switch(n){case"canContainEols":{let i=e[n];i&&t[n].push(...i);break}case"transforms":{let i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{let i=e[n];i&&Object.assign(t[n],i);break}}}r(Sb,"extension");function jd(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+fn({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+fn({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+fn({start:e.start,end:e.end})+") is still open")}r(jd,"defaultOnError");function dr(t){let e=this;e.parser=n;function n(i){return Za(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}r(n,"parser")}r(dr,"remarkParse");var qd={}.hasOwnProperty;function Jd(t,e){let n=e||{};function i(s,...a){let l=i.invalid,c=i.handlers;if(s&&qd.call(s,t)){let d=String(s[t]);l=qd.call(c,d)?c[d]:i.unknown}if(l)return l.call(this,s,...a)}return r(i,"one"),i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}r(Jd,"zwitch");var Eb={}.hasOwnProperty;function Qa(t,e){let n=-1,i;if(e.extensions)for(;++n<e.extensions.length;)Qa(t,e.extensions[n]);for(i in e)if(Eb.call(e,i))switch(i){case"extensions":break;case"unsafe":{Zd(t[i],e[i]);break}case"join":{Zd(t[i],e[i]);break}case"handlers":{Tb(t[i],e[i]);break}default:t.options[i]=e[i]}return t}r(Qa,"configure");function Zd(t,e){e&&t.push(...e)}r(Zd,"list");function Tb(t,e){e&&Object.assign(t,e)}r(Tb,"map");function Qd(t,e,n,i){let s=n.enter("blockquote"),a=n.createTracker(i);a.move("> "),a.shift(2);let l=n.indentLines(n.containerFlow(t,a.current()),Pb);return s(),l}r(Qd,"blockquote");function Pb(t,e,n){return">"+(n?"":" ")+t}r(Pb,"map");function Ts(t,e){return Xd(t,e.inConstruct,!0)&&!Xd(t,e.notInConstruct,!1)}r(Ts,"patternInScope");function Xd(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}r(Xd,"listInScope");function Xa(t,e,n,i){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&Ts(n.stack,n.unsafe[s]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}r(Xa,"hardBreak");function ef(t,e){let n=String(t),i=n.indexOf(e),s=i,a=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===s?++a>l&&(l=a):a=1,s=i+e.length,i=n.indexOf(e,s);return l}r(ef,"longestStreak");function ti(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}r(ti,"formatCodeAsIndented");function tf(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}r(tf,"checkFence");function nf(t,e,n,i){let s=tf(n),a=t.value||"",l=s==="`"?"GraveAccent":"Tilde";if(ti(t,n)){let g=n.enter("codeIndented"),y=n.indentLines(a,Fb);return g(),y}let c=n.createTracker(i),d=s.repeat(Math.max(ef(a,s)+1,3)),h=n.enter("codeFenced"),p=c.move(d);if(t.lang){let g=n.enter(`codeFencedLang${l}`);p+=c.move(n.safe(t.lang,{before:p,after:" ",encode:["`"],...c.current()})),g()}if(t.lang&&t.meta){let g=n.enter(`codeFencedMeta${l}`);p+=c.move(" "),p+=c.move(n.safe(t.meta,{before:p,after:`
`,encode:["`"],...c.current()})),g()}return p+=c.move(`
`),a&&(p+=c.move(a+`
`)),p+=c.move(d),h(),p}r(nf,"code");function Fb(t,e,n){return(n?"":"    ")+t}r(Fb,"map");function fr(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}r(fr,"checkQuote");function rf(t,e,n,i){let s=fr(n),a=s==='"'?"Quote":"Apostrophe",l=n.enter("definition"),c=n.enter("label"),d=n.createTracker(i),h=d.move("[");return h+=d.move(n.safe(n.associationId(t),{before:h,after:"]",...d.current()})),h+=d.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=d.move("<"),h+=d.move(n.safe(t.url,{before:h,after:">",...d.current()})),h+=d.move(">")):(c=n.enter("destinationRaw"),h+=d.move(n.safe(t.url,{before:h,after:t.title?" ":`
`,...d.current()}))),c(),t.title&&(c=n.enter(`title${a}`),h+=d.move(" "+s),h+=d.move(n.safe(t.title,{before:h,after:s,...d.current()})),h+=d.move(s),c()),l(),h}r(rf,"definition");function sf(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}r(sf,"checkEmphasis");function rt(t){return"&#x"+t.toString(16).toUpperCase()+";"}r(rt,"encodeCharacterReference");function hr(t,e,n){let i=ur(t),s=ur(e);return i===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}r(hr,"encodeInfo");el.peek=_b;function el(t,e,n,i){let s=sf(n),a=n.enter("emphasis"),l=n.createTracker(i),c=l.move(s),d=l.move(n.containerPhrasing(t,{after:s,before:c,...l.current()})),h=d.charCodeAt(0),p=hr(i.before.charCodeAt(i.before.length-1),h,s);p.inside&&(d=rt(h)+d.slice(1));let g=d.charCodeAt(d.length-1),y=hr(i.after.charCodeAt(0),g,s);y.inside&&(d=d.slice(0,-1)+rt(g));let w=l.move(s);return a(),n.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},c+d+w}r(el,"emphasis");function _b(t,e,n){return n.options.emphasis||"*"}r(_b,"emphasisPeek");var pr=r((function(t){if(t==null)return Lb;if(typeof t=="function")return Ps(t);if(typeof t=="object")return Array.isArray(t)?Mb(t):Ob(t);if(typeof t=="string")return Db(t);throw new Error("Expected function, string, or object as test")}),"convert");function Mb(t){let e=[],n=-1;for(;++n<t.length;)e[n]=pr(t[n]);return Ps(i);function i(...s){let a=-1;for(;++a<e.length;)if(e[a].apply(this,s))return!0;return!1}}r(Mb,"anyFactory");function Ob(t){let e=t;return Ps(n);function n(i){let s=i,a;for(a in t)if(s[a]!==e[a])return!1;return!0}}r(Ob,"propsFactory");function Db(t){return Ps(e);function e(n){return n&&n.type===t}}r(Db,"typeFactory");function Ps(t){return e;function e(n,i,s){return!!(Ib(n)&&t.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}r(Ps,"castFactory");function Lb(){return!0}r(Lb,"ok");function Ib(t){return t!==null&&typeof t=="object"&&"type"in t}r(Ib,"looksLikeANode");function of(t){return"\x1B[33m"+t+"\x1B[39m"}r(of,"color");var af=[],Fs=!0,Dn=!1,_s="skip";function tl(t,e,n,i){let s;typeof e=="function"&&typeof n!="function"?(i=n,n=e):s=e;let a=pr(s),l=i?-1:1;c(t,void 0,[])();function c(d,h,p){let g=d&&typeof d=="object"?d:{};if(typeof g.type=="string"){let w=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+of(d.type+(w?"<"+w+">":""))+")"})}return y;function y(){let w=af,C,F,S;if((!e||a(d,h,p[p.length-1]||void 0))&&(w=Rb(n(d,p)),w[0]===Dn))return w;if("children"in d&&d.children){let A=d;if(A.children&&w[0]!==_s)for(F=(i?A.children.length:-1)+l,S=p.concat(A);F>-1&&F<A.children.length;){let P=A.children[F];if(C=c(P,F,S)(),C[0]===Dn)return C;F=typeof C[1]=="number"?C[1]:F+l}}return w}}r(c,"factory")}r(tl,"visitParents");function Rb(t){return Array.isArray(t)?t:typeof t=="number"?[Fs,t]:t==null?af:[t]}r(Rb,"toResult");function ni(t,e,n,i){let s,a,l;typeof e=="function"&&typeof n!="function"?(a=void 0,l=e,s=n):(a=e,l=n,s=i),tl(t,a,c,s);function c(d,h){let p=h[h.length-1],g=p?p.children.indexOf(d):void 0;return l(d,g,p)}r(c,"overload")}r(ni,"visit");function Ms(t,e){let n=!1;return ni(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,Dn}),!!((!t.depth||t.depth<3)&&Fn(t)&&(e.options.setext||n))}r(Ms,"formatHeadingAsSetext");function lf(t,e,n,i){let s=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(i);if(Ms(t,n)){let p=n.enter("headingSetext"),g=n.enter("phrasing"),y=n.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return g(),p(),y+`
`+(s===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}let l="#".repeat(s),c=n.enter("headingAtx"),d=n.enter("phrasing");a.move(l+" ");let h=n.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(h)&&(h=rt(h.charCodeAt(0))+h.slice(1)),h=h?l+" "+h:l,n.options.closeAtx&&(h+=" "+l),d(),c(),h}r(lf,"heading");nl.peek=Nb;function nl(t){return t.value||""}r(nl,"html");function Nb(){return"<"}r(Nb,"htmlPeek");rl.peek=Bb;function rl(t,e,n,i){let s=fr(n),a=s==='"'?"Quote":"Apostrophe",l=n.enter("image"),c=n.enter("label"),d=n.createTracker(i),h=d.move("![");return h+=d.move(n.safe(t.alt,{before:h,after:"]",...d.current()})),h+=d.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=d.move("<"),h+=d.move(n.safe(t.url,{before:h,after:">",...d.current()})),h+=d.move(">")):(c=n.enter("destinationRaw"),h+=d.move(n.safe(t.url,{before:h,after:t.title?" ":")",...d.current()}))),c(),t.title&&(c=n.enter(`title${a}`),h+=d.move(" "+s),h+=d.move(n.safe(t.title,{before:h,after:s,...d.current()})),h+=d.move(s),c()),h+=d.move(")"),l(),h}r(rl,"image");function Bb(){return"!"}r(Bb,"imagePeek");il.peek=Wb;function il(t,e,n,i){let s=t.referenceType,a=n.enter("imageReference"),l=n.enter("label"),c=n.createTracker(i),d=c.move("!["),h=n.safe(t.alt,{before:d,after:"]",...c.current()});d+=c.move(h+"]["),l();let p=n.stack;n.stack=[],l=n.enter("reference");let g=n.safe(n.associationId(t),{before:d,after:"]",...c.current()});return l(),n.stack=p,a(),s==="full"||!h||h!==g?d+=c.move(g+"]"):s==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}r(il,"imageReference");function Wb(){return"!"}r(Wb,"imageReferencePeek");sl.peek=Vb;function sl(t,e,n){let i=t.value||"",s="`",a=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(i);)s+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<n.unsafe.length;){let l=n.unsafe[a],c=n.compilePattern(l),d;if(l.atBreak)for(;d=c.exec(i);){let h=d.index;i.charCodeAt(h)===10&&i.charCodeAt(h-1)===13&&h--,i=i.slice(0,h)+" "+i.slice(d.index+1)}}return s+i+s}r(sl,"inlineCode");function Vb(){return"`"}r(Vb,"inlineCodePeek");function ol(t,e){let n=Fn(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}r(ol,"formatLinkAsAutolink");al.peek=Yb;function al(t,e,n,i){let s=fr(n),a=s==='"'?"Quote":"Apostrophe",l=n.createTracker(i),c,d;if(ol(t,n)){let p=n.stack;n.stack=[],c=n.enter("autolink");let g=l.move("<");return g+=l.move(n.containerPhrasing(t,{before:g,after:">",...l.current()})),g+=l.move(">"),c(),n.stack=p,g}c=n.enter("link"),d=n.enter("label");let h=l.move("[");return h+=l.move(n.containerPhrasing(t,{before:h,after:"](",...l.current()})),h+=l.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),h+=l.move("<"),h+=l.move(n.safe(t.url,{before:h,after:">",...l.current()})),h+=l.move(">")):(d=n.enter("destinationRaw"),h+=l.move(n.safe(t.url,{before:h,after:t.title?" ":")",...l.current()}))),d(),t.title&&(d=n.enter(`title${a}`),h+=l.move(" "+s),h+=l.move(n.safe(t.title,{before:h,after:s,...l.current()})),h+=l.move(s),d()),h+=l.move(")"),c(),h}r(al,"link");function Yb(t,e,n){return ol(t,n)?"<":"["}r(Yb,"linkPeek");ll.peek=$b;function ll(t,e,n,i){let s=t.referenceType,a=n.enter("linkReference"),l=n.enter("label"),c=n.createTracker(i),d=c.move("["),h=n.containerPhrasing(t,{before:d,after:"]",...c.current()});d+=c.move(h+"]["),l();let p=n.stack;n.stack=[],l=n.enter("reference");let g=n.safe(n.associationId(t),{before:d,after:"]",...c.current()});return l(),n.stack=p,a(),s==="full"||!h||h!==g?d+=c.move(g+"]"):s==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}r(ll,"linkReference");function $b(){return"["}r($b,"linkReferencePeek");function mr(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}r(mr,"checkBullet");function uf(t){let e=mr(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}r(uf,"checkBulletOther");function cf(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}r(cf,"checkBulletOrdered");function Os(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}r(Os,"checkRule");function df(t,e,n,i){let s=n.enter("list"),a=n.bulletCurrent,l=t.ordered?cf(n):mr(n),c=t.ordered?l==="."?")":".":uf(n),d=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let p=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),Os(n)===l&&p){let g=-1;for(;++g<t.children.length;){let y=t.children[g];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=c),n.bulletCurrent=l;let h=n.containerFlow(t,i);return n.bulletLastUsed=l,n.bulletCurrent=a,s(),h}r(df,"list");function ff(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}r(ff,"checkListItemIndent");function hf(t,e,n,i){let s=ff(n),a=n.bulletCurrent||mr(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let l=a.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let c=n.createTracker(i);c.move(a+" ".repeat(l-a.length)),c.shift(l);let d=n.enter("listItem"),h=n.indentLines(n.containerFlow(t,c.current()),p);return d(),h;function p(g,y,w){return y?(w?"":" ".repeat(l))+g:(w?a:a+" ".repeat(l-a.length))+g}r(p,"map")}r(hf,"listItem");function pf(t,e,n,i){let s=n.enter("paragraph"),a=n.enter("phrasing"),l=n.containerPhrasing(t,i);return a(),s(),l}r(pf,"paragraph");var ul=pr(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function mf(t,e,n,i){return(t.children.some(function(l){return ul(l)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}r(mf,"root");function gf(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}r(gf,"checkStrong");cl.peek=zb;function cl(t,e,n,i){let s=gf(n),a=n.enter("strong"),l=n.createTracker(i),c=l.move(s+s),d=l.move(n.containerPhrasing(t,{after:s,before:c,...l.current()})),h=d.charCodeAt(0),p=hr(i.before.charCodeAt(i.before.length-1),h,s);p.inside&&(d=rt(h)+d.slice(1));let g=d.charCodeAt(d.length-1),y=hr(i.after.charCodeAt(0),g,s);y.inside&&(d=d.slice(0,-1)+rt(g));let w=l.move(s+s);return a(),n.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},c+d+w}r(cl,"strong");function zb(t,e,n){return n.options.strong||"*"}r(zb,"strongPeek");function yf(t,e,n,i){return n.safe(t.value,i)}r(yf,"text");function wf(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}r(wf,"checkRuleRepetition");function bf(t,e,n){let i=(Os(n)+(n.options.ruleSpaces?" ":"")).repeat(wf(n));return n.options.ruleSpaces?i.slice(0,-1):i}r(bf,"thematicBreak");var kf={blockquote:Qd,break:Xa,code:nf,definition:rf,emphasis:el,hardBreak:Xa,heading:lf,html:nl,image:rl,imageReference:il,inlineCode:sl,link:al,linkReference:ll,list:df,listItem:hf,paragraph:pf,root:mf,strong:cl,text:yf,thematicBreak:bf};var xf=[Ub];function Ub(t,e,n,i){if(e.type==="code"&&ti(e,i)&&(t.type==="list"||t.type===e.type&&ti(t,i)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&Ms(e,i))?void 0:n.spread?1:0}r(Ub,"joinDefaults");var Ln=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],vf=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Ln},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Ln},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Ln},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Ln},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Ln},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Ln},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Ln},{atBreak:!0,character:"~"}];function Cf(t){return t.label||!t.identifier?t.label||"":Es(t.identifier)}r(Cf,"association");function Af(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}r(Af,"compilePattern");function Sf(t,e,n){let i=e.indexStack,s=t.children||[],a=[],l=-1,c=n.before,d;i.push(-1);let h=e.createTracker(n);for(;++l<s.length;){let p=s[l],g;if(i[i.length-1]=l,l+1<s.length){let C=e.handle.handlers[s[l+1].type];C&&C.peek&&(C=C.peek),g=C?C(s[l+1],t,e,{before:"",after:"",...h.current()}).charAt(0):""}else g=n.after;a.length>0&&(c==="\r"||c===`
`)&&p.type==="html"&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),c=" ",h=e.createTracker(n),h.move(a.join("")));let y=e.handle(p,t,e,{...h.current(),after:g,before:c});d&&d===y.slice(0,1)&&(y=rt(d.charCodeAt(0))+y.slice(1));let w=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,d=void 0,w&&(a.length>0&&w.before&&c===a[a.length-1].slice(-1)&&(a[a.length-1]=a[a.length-1].slice(0,-1)+rt(c.charCodeAt(0))),w.after&&(d=g)),h.move(y),a.push(y),c=y.slice(-1)}return i.pop(),a.join("")}r(Sf,"containerPhrasing");function Ef(t,e,n){let i=e.indexStack,s=t.children||[],a=e.createTracker(n),l=[],c=-1;for(i.push(-1);++c<s.length;){let d=s[c];i[i.length-1]=c,l.push(a.move(e.handle(d,t,e,{before:`
`,after:`
`,...a.current()}))),d.type!=="list"&&(e.bulletLastUsed=void 0),c<s.length-1&&l.push(a.move(Hb(d,s[c+1],t,e)))}return i.pop(),l.join("")}r(Ef,"containerFlow");function Hb(t,e,n,i){let s=i.join.length;for(;s--;){let a=i.join[s](t,e,n,i);if(a===!0||a===1)break;if(typeof a=="number")return`
`.repeat(1+a);if(a===!1)return`

<!---->

`}return`

`}r(Hb,"between");var jb=/\r?\n|\r/g;function Tf(t,e){let n=[],i=0,s=0,a;for(;a=jb.exec(t);)l(t.slice(i,a.index)),n.push(a[0]),i=a.index+a[0].length,s++;return l(t.slice(i)),n.join("");function l(c){n.push(e(c,s,!c))}r(l,"one")}r(Tf,"indentLines");function Ff(t,e,n){let i=(n.before||"")+(e||"")+(n.after||""),s=[],a=[],l={},c=-1;for(;++c<t.unsafe.length;){let p=t.unsafe[c];if(!Ts(t.stack,p))continue;let g=t.compilePattern(p),y;for(;y=g.exec(i);){let w="before"in p||!!p.atBreak,C="after"in p,F=y.index+(w?y[1].length:0);s.includes(F)?(l[F].before&&!w&&(l[F].before=!1),l[F].after&&!C&&(l[F].after=!1)):(s.push(F),l[F]={before:w,after:C})}}s.sort(Gb);let d=n.before?n.before.length:0,h=i.length-(n.after?n.after.length:0);for(c=-1;++c<s.length;){let p=s[c];p<d||p>=h||p+1<h&&s[c+1]===p+1&&l[p].after&&!l[p+1].before&&!l[p+1].after||s[c-1]===p-1&&l[p].before&&!l[p-1].before&&!l[p-1].after||(d!==p&&a.push(Pf(i.slice(d,p),"\\")),d=p,/[!-/:-@[-`{-~]/.test(i.charAt(p))&&(!n.encode||!n.encode.includes(i.charAt(p)))?a.push("\\"):(a.push(rt(i.charCodeAt(p))),d++))}return a.push(Pf(i.slice(d,h),n.after)),a.join("")}r(Ff,"safe");function Gb(t,e){return t-e}r(Gb,"numerical");function Pf(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,i=[],s=[],a=t+e,l=-1,c=0,d;for(;d=n.exec(a);)i.push(d.index);for(;++l<i.length;)c!==i[l]&&s.push(t.slice(c,i[l])),s.push("\\"),c=i[l];return s.push(t.slice(c)),s.join("")}r(Pf,"escapeBackslashes");function _f(t){let e=t||{},n=e.now||{},i=e.lineShift||0,s=n.line||1,a=n.column||1;return{move:d,current:l,shift:c};function l(){return{now:{line:s,column:a},lineShift:i}}function c(h){i+=h}function d(h){let p=h||"",g=p.split(/\r?\n|\r/g),y=g[g.length-1];return s+=g.length-1,a=g.length===1?a+y.length:1+y.length+i,p}}r(_f,"track");function dl(t,e){let n=e||{},i={associationId:Cf,containerPhrasing:Zb,containerFlow:Qb,createTracker:_f,compilePattern:Af,enter:a,handlers:{...kf},handle:void 0,indentLines:Tf,indexStack:[],join:[...xf],options:{},safe:Xb,stack:[],unsafe:[...vf]};Qa(i,n),i.options.tightDefinitions&&i.join.push(Jb),i.handle=Jd("type",{invalid:Kb,unknown:qb,handlers:i.handlers});let s=i.handle(t,void 0,i,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return s&&s.charCodeAt(s.length-1)!==10&&s.charCodeAt(s.length-1)!==13&&(s+=`
`),s;function a(l){return i.stack.push(l),c;function c(){i.stack.pop()}r(c,"exit")}r(a,"enter")}r(dl,"toMarkdown");function Kb(t){throw new Error("Cannot handle value `"+t+"`, expected node")}r(Kb,"invalid");function qb(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}r(qb,"unknown");function Jb(t,e){if(t.type==="definition"&&t.type===e.type)return 0}r(Jb,"joinDefinition");function Zb(t,e){return Sf(t,this,e)}r(Zb,"containerPhrasingBound");function Qb(t,e){return Ef(t,this,e)}r(Qb,"containerFlowBound");function Xb(t,e){return Ff(this,t,e)}r(Xb,"safeBound");function Ds(t){let e=this;e.compiler=n;function n(i){return dl(i,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}r(n,"compiler")}r(Ds,"remarkStringify");function fl(t){if(t)throw t}r(fl,"bail");var Ns=at(Wf(),1);function ri(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}r(ri,"isPlainObject");function hl(){let t=[],e={run:n,use:i};return e;function n(...s){let a=-1,l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...s);function c(d,...h){let p=t[++a],g=-1;if(d){l(d);return}for(;++g<s.length;)(h[g]===null||h[g]===void 0)&&(h[g]=s[g]);s=h,p?Vf(p,c)(...h):l(null,...h)}r(c,"next")}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}r(hl,"trough");function Vf(t,e){let n;return i;function i(...l){let c=t.length>l.length,d;c&&l.push(s);try{d=t.apply(this,l)}catch(h){let p=h;if(c&&n)throw p;return s(p)}c||(d&&d.then&&typeof d.then=="function"?d.then(a,s):d instanceof Error?s(d):a(d))}function s(l,...c){n||(n=!0,e(l,...c))}function a(l){s(null,l)}}r(Vf,"wrap");var Me=class extends Error{static{r(this,"VFileMessage")}constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?s=e:!a.cause&&e&&(l=!0,s=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof i=="string"){let d=i.indexOf(":");d===-1?a.ruleId=i:(a.source=i.slice(0,d),a.ruleId=i.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){let d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}let c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=c?c.line:void 0,this.name=fn(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};Me.prototype.file="";Me.prototype.name="";Me.prototype.reason="";Me.prototype.message="";Me.prototype.stack="";Me.prototype.column=void 0;Me.prototype.line=void 0;Me.prototype.ancestors=void 0;Me.prototype.cause=void 0;Me.prototype.fatal=void 0;Me.prototype.place=void 0;Me.prototype.ruleId=void 0;Me.prototype.source=void 0;var gt=at(require("node:path"),1);var pl=at(require("node:process"),1);var ml=require("node:url");function Is(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}r(Is,"isUrl");var gl=["history","path","basename","stem","extname","dirname"],ii=class{static{r(this,"VFile")}constructor(e){let n;e?Is(e)?n={path:e}:typeof e=="string"||ek(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":pl.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<gl.length;){let a=gl[i];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)gl.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?gt.default.basename(this.path):void 0}set basename(e){wl(e,"basename"),yl(e,"basename"),this.path=gt.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?gt.default.dirname(this.path):void 0}set dirname(e){Yf(this.basename,"dirname"),this.path=gt.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?gt.default.extname(this.path):void 0}set extname(e){if(yl(e,"extname"),Yf(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=gt.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Is(e)&&(e=(0,ml.fileURLToPath)(e)),wl(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?gt.default.basename(this.path,this.extname):void 0}set stem(e){wl(e,"stem"),yl(e,"stem"),this.path=gt.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){let s=this.message(e,n,i);throw s.fatal=!0,s}info(e,n,i){let s=this.message(e,n,i);return s.fatal=void 0,s}message(e,n,i){let s=new Me(e,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function yl(t,e){if(t&&t.includes(gt.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+gt.default.sep+"`")}r(yl,"assertPart");function wl(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}r(wl,"assertNonEmpty");function Yf(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}r(Yf,"assertPath");function ek(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}r(ek,"isUint8Array");var $f=r((function(t){let i=this.constructor.prototype,s=i[t],a=r(function(){return s.apply(a,arguments)},"apply");return Object.setPrototypeOf(a,i),a}),"CallableInstance");var tk={}.hasOwnProperty,vl=class t extends $f{static{r(this,"Processor")}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=hl()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let i=this.attachers[n];e.use(...i)}return e.data((0,Ns.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(xl("data",this.frozen),this.namespace[e]=n,this):tk.call(this.namespace,e)&&this.namespace[e]||void 0:e?(xl("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);let s=n.call(e,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=Rs(e),i=this.parser||this.Parser;return bl("parse",i),i(String(n),n)}process(e,n){let i=this;return this.freeze(),bl("process",this.parser||this.Parser),kl("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,l){let c=Rs(e),d=i.parse(c);i.run(d,c,function(p,g,y){if(p||!g||!y)return h(p);let w=g,C=i.stringify(w,y);rk(C)?y.value=C:y.result=C,h(p,y)});function h(p,g){p||!g?l(p):a?a(g):n(void 0,g)}r(h,"realDone")}r(s,"executor")}processSync(e){let n=!1,i;return this.freeze(),bl("processSync",this.parser||this.Parser),kl("processSync",this.compiler||this.Compiler),this.process(e,s),Uf("processSync","process",n),i;function s(a,l){n=!0,fl(a),i=l}r(s,"realDone")}run(e,n,i){zf(e),this.freeze();let s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?a(void 0,i):new Promise(a);function a(l,c){let d=Rs(n);s.run(e,d,h);function h(p,g,y){let w=g||e;p?c(p):l?l(w):i(void 0,w,y)}r(h,"realDone")}r(a,"executor")}runSync(e,n){let i=!1,s;return this.run(e,n,a),Uf("runSync","run",i),s;function a(l,c){fl(l),s=c,i=!0}r(a,"realDone")}stringify(e,n){this.freeze();let i=Rs(n),s=this.compiler||this.Compiler;return kl("stringify",s),zf(e),s(e,i)}use(e,...n){let i=this.attachers,s=this.namespace;if(xl("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(h){if(typeof h=="function")d(h,[]);else if(typeof h=="object")if(Array.isArray(h)){let[p,...g]=h;d(p,g)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(s.settings=(0,Ns.default)(!0,s.settings,h.settings))}function c(h){let p=-1;if(h!=null)if(Array.isArray(h))for(;++p<h.length;){let g=h[p];a(g)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function d(h,p){let g=-1,y=-1;for(;++g<i.length;)if(i[g][0]===h){y=g;break}if(y===-1)i.push([h,...p]);else if(p.length>0){let[w,...C]=p,F=i[y][1];ri(F)&&ri(w)&&(w=(0,Ns.default)(!0,F,w)),i[y]=[h,w,...C]}}}},Cl=new vl().freeze();function bl(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}r(bl,"assertParser");function kl(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}r(kl,"assertCompiler");function xl(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}r(xl,"assertUnfrozen");function zf(t){if(!ri(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}r(zf,"assertNode");function Uf(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}r(Uf,"assertDone");function Rs(t){return nk(t)?t:new ii(t)}r(Rs,"vfile");function nk(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}r(nk,"looksLikeAVFile");function rk(t){return typeof t=="string"||ik(t)}r(rk,"looksLikeAValue");function ik(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}r(ik,"isUint8Array");var Hf=Cl().use(dr).use(Ds).freeze();var Sl={d:r((t,e)=>{for(var n in e)Sl.o(e,n)&&!Sl.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},"d"),o:r((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"o")},El={};Sl.d(El,{Z:r(()=>lk,"Z"),$:r(()=>qf,"$")});var gr={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function jf(t){return t<gr.nul||t===gr.space}r(jf,"n");function Al(t){return t<gr.horizontalTab}r(Al,"i");var sk={553:t=>{t.exports=function(e){var n,i;return e._compiled||(n=e.before?"(?:"+e.before+")":"",i=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(i||""),"g")),e._compiled}},112:t=>{function e(n,i,s){var a;if(!i)return s;for(typeof i=="string"&&(i=[i]),a=-1;++a<i.length;)if(n.indexOf(i[a])!==-1)return!0;return!1}r(e,"t"),t.exports=function(n,i){return e(n,i.inConstruct,!0)&&!e(n,i.notInConstruct)}},113:(t,e,n)=>{t.exports=function(c,d,h){for(var p,g,y,w,C,F,S,A,P=(h.before||"")+(d||"")+(h.after||""),M=[],L=[],V={},E=-1;++E<c.unsafe.length;)if(w=c.unsafe[E],s(c.stack,w))for(C=i(w);F=C.exec(P);)p="before"in w||w.atBreak,g="after"in w,y=F.index+(p?F[1].length:0),M.indexOf(y)===-1?(M.push(y),V[y]={before:p,after:g}):(V[y].before&&!p&&(V[y].before=!1),V[y].after&&!g&&(V[y].after=!1));for(M.sort(a),S=h.before?h.before.length:0,A=P.length-(h.after?h.after.length:0),E=-1;++E<M.length;)(y=M[E])<S||y>=A||y+1<A&&M[E+1]===y+1&&V[y].after&&!V[y+1].before&&!V[y+1].after||(S!==y&&L.push(l(P.slice(S,y),"\\")),S=y,!/[!-/:-@[-`{-~]/.test(P.charAt(y))||h.encode&&h.encode.indexOf(P.charAt(y))!==-1?(L.push("&#x"+P.charCodeAt(y).toString(16).toUpperCase()+";"),S++):L.push("\\"));return L.push(l(P.slice(S,A),h.after)),L.join("")};var i=n(553),s=n(112);function a(c,d){return c-d}r(a,"a");function l(c,d){for(var h,p=/\\(?=[!-/:-@[-`{-~])/g,g=[],y=[],w=-1,C=0,F=c+d;h=p.exec(F);)g.push(h.index);for(;++w<g.length;)C!==g[w]&&y.push(c.slice(C,g[w])),y.push("\\"),C=g[w];return y.push(c.slice(C)),y.join("")}r(l,"o")}},Gf={};function Vt(t){var e=Gf[t];if(e!==void 0)return e.exports;var n=Gf[t]={exports:{}};return sk[t](n,n.exports,Vt),n.exports}r(Vt,"s");Vt.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Vt.d(e,{a:e}),e},Vt.d=(t,e)=>{for(var n in e)Vt.o(e,n)&&!Vt.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Vt.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Tl={};(()=>{function t(s={}){let a=s.permalinks||[],l=s.pageResolver||(y=>[y.replace(/ /g,"_").toLowerCase()]),c=s.newClassName||"new",d=s.wikiLinkClassName||"internal",h=s.hrefTemplate||(y=>`#/page/${y}`),p;function g(y){return y[y.length-1]}return r(g,"s"),{enter:{wikiLink:r(function(y){p={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(p,y)},"wikiLink")},exit:{wikiLinkTarget:r(function(y){let w=this.sliceSerialize(y);g(this.stack).value=w},"wikiLinkTarget"),wikiLinkAlias:r(function(y){let w=this.sliceSerialize(y);g(this.stack).data.alias=w},"wikiLinkAlias"),wikiLink:r(function(y){this.exit(y);let w=p,C=l(w.value),F=C.find((L=>a.indexOf(L)!==-1)),S=F!==void 0,A;A=S?F:C[0]||"";let P=w.value;w.data.alias&&(P=w.data.alias);let M=d;S||(M+=" "+c),w.data.alias=P,w.data.permalink=A,w.data.exists=S,w.data.hName="a",w.data.hProperties={className:M,href:h(A)},w.data.hChildren=[{type:"text",value:P}]},"wikiLink")}}}r(t,"e"),Vt.d(Tl,{V:r(()=>t,"V"),x:r(()=>i,"x")});var e=Vt(113),n=Vt.n(e);function i(s={}){let a=s.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:r(function(l,c,d){let h=d.enter("wikiLink"),p=n()(d,l.value,{before:"[",after:"]"}),g=n()(d,l.data.alias,{before:"[",after:"]"}),y;return y=g!==p?`[[${p}${a}${g}]]`:`[[${p}]]`,h(),y},"wikiLink")}}}r(i,"n")})();var ok=Tl.V,ak=Tl.x,Kf=!1;function qf(t={}){let e=this.data();function n(i,s){e[i]?e[i].push(s):e[i]=[s]}r(n,"a"),!Kf&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(Kf=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var i=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",s="]]";return{text:{91:{tokenize:r(function(a,l,c){var d,h,p=0,g=0,y=0;return function(P){return P!=="[[".charCodeAt(g)?c(P):(a.enter("wikiLink"),a.enter("wikiLinkMarker"),w(P))};function w(P){return g===2?(a.exit("wikiLinkMarker"),(function(M){return Al(M)||M===gr.eof?c(M):(a.enter("wikiLinkData"),a.enter("wikiLinkTarget"),C(M))})(P)):P!=="[[".charCodeAt(g)?c(P):(a.consume(P),g++,w)}function C(P){return P===i.charCodeAt(p)?d?(a.exit("wikiLinkTarget"),a.enter("wikiLinkAliasMarker"),F(P)):c(P):P===s.charCodeAt(y)?d?(a.exit("wikiLinkTarget"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),A(P)):c(P):Al(P)||P===gr.eof?c(P):(jf(P)||(d=!0),a.consume(P),C)}function F(P){return p===i.length?(a.exit("wikiLinkAliasMarker"),a.enter("wikiLinkAlias"),S(P)):P!==i.charCodeAt(p)?c(P):(a.consume(P),p++,F)}function S(P){return P===s.charCodeAt(y)?h?(a.exit("wikiLinkAlias"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),A(P)):c(P):Al(P)||P===gr.eof?c(P):(jf(P)||(h=!0),a.consume(P),S)}function A(P){return y===2?(a.exit("wikiLinkMarker"),a.exit("wikiLink"),l(P)):P!==s.charCodeAt(y)?c(P):(a.consume(P),y++,A)}},"tokenize")}}}})(t)),n("fromMarkdownExtensions",ok(t)),n("toMarkdownExtensions",ak(t))}r(qf,"k");var lk=qf,D_=El.Z,Jf=El.$;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var uk=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function Pl(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return uk.test(t)}r(Pl,"isUrl");var In=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Bs(t){let e=(0,In.getFrontMatterInfo)(t);return(0,In.parseYaml)(e.frontmatter)??{}}r(Bs,"parseFrontmatter");function Zf(t,e){let n=(0,In.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let i=(0,In.stringifyYaml)(e);return n.exists?rc(t,i,n.from,n.to):`---
${i}---
${t}`}r(Zf,"setFrontmatter");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function it(t){if(!Ue(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}r(it,"isFrontmatterLinkCacheWithOffsets");function Ws(t){return it(t)?t:{...t,endOffset:t.original.length,startOffset:0}}r(Ws,"toFrontmatterLinkCacheWithOffsets");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Qf(t){return Fl(t)&&t.type==="file"}r(Qf,"isCanvasFileNodeReference");function Fl(t){return Ue(t)&&!!t.isCanvas}r(Fl,"isCanvasReference");function Rn(t,e){return{newContent:e,oldContent:t.original,reference:t}}r(Rn,"referenceToFileChange");function Xf(t){return t.sort((e,n)=>{if(Ue(e)&&Ue(n)){let i=it(e)?e.startOffset:0,s=it(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(it(n))-Number(it(e))||i-s}return Et(e)&&Et(n)?e.position.start.offset-n.position.start.offset:Ue(e)?1:-1})}r(Xf,"sortReferences");var eh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function th(t,e,n){let i=ve(t,e),s=ut(n);await yr(t,s);let a=Vs(t,n);try{await t.vault.copy(i,a)}catch(l){if(!await t.vault.exists(a))throw l}return a}r(th,"copySafe");async function yr(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}r(yr,"createFolderSafe");function Vs(t,e){let n=Pt(e);return t.vault.getAvailablePath(xe(de(e),Qe(e,n)),n.slice(1))}r(Vs,"getAvailablePath");function wr(t){return t.vault.getMarkdownFiles().sort((e,n)=>e.path.localeCompare(n.path))}r(wr,"getMarkdownFilesSorted");function _l(t,e,n){let i=we(t,e);if(t.vault.adapter.insensitive){let s=de(n),a=Qe(n),l;for(;l=ct(t,s,!0),!l;)a=xe(Qe(s),a),s=de(s);n=xe(l.getParentPrefix(),a)}return i.toLowerCase()===n.toLowerCase()?n:Vs(t,n)}r(_l,"getSafeRenamePath");async function Ys(t,e){let n=await br(t,we(t,e));return n.files.length===0&&n.folders.length===0}r(Ys,"isEmptyFolder");async function br(t,e){let n=we(t,e),i={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return i;try{return await t.vault.adapter.list(n)}catch(s){if(await t.vault.exists(n))throw s;return i}}r(br,"listSafe");async function nh(t,e,n,i={}){let a={...{shouldFailOnMissingFile:!0},...i};await Ji(async l=>{l.throwIfAborted();let c=await Ml(t,e);if(l.throwIfAborted(),c===null)return g();let d=await qn(n,l,c);if(l.throwIfAborted(),d===null)return!1;let h=!0;if(!await rh(t,e,async y=>{l.throwIfAborted(),await t.vault.process(y,w=>(l.throwIfAborted(),w!==c?(fe("Vault:process")("Content has changed since it was read. Retrying...",{actualContent:w,expectedContent:c,path:y.path}),h=!1,w):d)),l.throwIfAborted()}))return g();return h;function g(){if(a.shouldFailOnMissingFile){let y=we(t,e);throw new Error(`File '${y}' not found`)}return!0}},a)}r(nh,"process");async function Ml(t,e){let n=null;return await rh(t,e,async i=>{n=await t.vault.read(i)}),n}r(Ml,"readSafe");async function $s(t,e,n){let i=ve(t,e,!1,!0),s=_l(t,e,n);if(i.path.toLowerCase()===s.toLowerCase())return i.path!==n&&await t.vault.rename(i,s),s;let a=ut(s);await yr(t,a);try{await t.vault.rename(i,s)}catch(l){if(!await t.vault.exists(s)||await t.vault.exists(i.path))throw l}return s}r($s,"renameSafe");async function Ol(t,e){if(!Ee(t,e))return;let n=we(t,e);for(let i of t.workspace.getLeavesOfType(zu.Markdown))i.view instanceof eh.MarkdownView&&i.view.file?.path===n&&i.view.dirty&&await i.view.save()}r(Ol,"saveNote");async function rh(t,e,n){let i=we(t,e),s=pe(t,i);if(!s||s.deleted)return!1;try{return await n(s),!0}catch(a){if(s=pe(t,i),!s||s.deleted)return!1;throw a}}r(rh,"invokeFileActionSafe");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Hs(t,e,n,i,s=!0){t.throwIfAborted();let a=await qn(i,t,e);if(t.throwIfAborted(),a===null)return null;let{frontmatter:l,hasFrontmatterError:c}=yk(e,n);if(!xk(a,e,l,n))return s?null:e;if(a=bk(a),!kk(a))return null;let{frontmatterChanged:d,newContent:h}=pk(a,e,c,n);return await mk(t,l,d,n),t.throwIfAborted(),gk(h,l,d)}r(Hs,"applyContentChanges");async function si(t,e,n,i={},s=!0){await nh(t,e,async(a,l)=>En(t,e)?await hk(a,l,we(t,e),n,s):await Hs(a,l,we(t,e),n,s),i)}r(si,"applyFileChanges");function oi(t){return Fl(t.reference)}r(oi,"isCanvasChange");function ck(t){return oi(t)&&t.reference.type==="file"}r(ck,"isCanvasFileNodeChange");function dk(t){return oi(t)&&t.reference.type==="text"}r(dk,"isCanvasTextNodeChange");function en(t){return Et(t.reference)}r(en,"isContentChange");function zs(t){return Ue(t.reference)}r(zs,"isFrontmatterChange");function Us(t){return it(t.reference)}r(Us,"isFrontmatterChangeWithOffsets");function fk(t){return Us(t)?t:{...t,reference:Ws(t.reference)}}r(fk,"toFrontmatterChangeWithOffsets");async function hk(t,e,n,i,s=!0){let a=await qn(i,t,e);if(t.throwIfAborted(),a===null)return null;let l=wk(e),c=new Map;for(let d of a){if(!oi(d)){let p="Only canvas changes are supported for canvas files";throw console.error(p,{change:d,path:n}),new Error(p)}let h=l.nodes[d.reference.nodeIndex];if(!h){let p="Node not found";throw console.error(p,{nodeIndex:d.reference.nodeIndex,path:n}),new Error(p)}if(ck(d)){if(h.file!==d.oldContent)return fe("FileChange:applyCanvasChanges")("Content mismatch",{actualContent:h.file,expectedContent:d.oldContent,nodeIndex:d.reference.nodeIndex,path:n,type:"file"}),null;h.file=d.newContent}else if(dk(d)){let p=c.get(d.reference.nodeIndex);p||(p=[],c.set(d.reference.nodeIndex,p)),p.push(d)}}for(let[d,h]of c.entries()){let p=l.nodes[d];if(!p){let y="Node not found";throw console.error(y,{nodeIndex:d,path:n}),new Error(y)}if(typeof p.text!="string"){let y="Node text is not a string";throw console.error(y,{nodeIndex:d,path:n}),new Error(y)}let g=h.map(y=>Rn(y.reference.originalReference,y.newContent));p.text=await Hs(t,p.text,`${n}.node${String(d)}.VIRTUAL_FILE.md`,g,s)}return JSON.stringify(l,null,"	")}r(hk,"applyCanvasChanges");function pk(t,e,n,i){let s="",a=0,l=new Map;for(let c of t)if(en(c))s+=e.slice(a,c.reference.position.start.offset),s+=c.newContent,a=c.reference.position.end.offset;else if(zs(c))if(n)console.error(`Cannot apply frontmatter change in ${i}, because frontmatter parsing failed`,{change:c});else{let d=l.get(c.reference.key);d||(d=[],l.set(c.reference.key,d)),d.push(fk(c))}return s+=e.slice(a),{frontmatterChanged:l,newContent:s}}r(pk,"applyContentChangesToText");async function mk(t,e,n,i){for(let[s,a]of n.entries()){let l=sr(e,s);if(typeof l!="string")return;let c=a.map(h=>({newContent:h.newContent,oldContent:h.oldContent,reference:{link:"",original:"",position:{end:{col:h.reference.endOffset,line:0,offset:h.reference.endOffset},start:{col:h.reference.startOffset,line:0,offset:h.reference.startOffset}}}})),d=await Hs(t,l,`${i}.frontmatter.${s}.VIRTUAL_FILE.md`,c);if(d===null)return;yd(e,s,d)}}r(mk,"applyFrontmatterChangesWithOffsets");function gk(t,e,n){return n.size>0?Zf(t,e):t}r(gk,"buildFinalContent");function yk(t,e){let n={},i=!1;try{n=Bs(t)}catch(s){An(new Error(`Frontmatter parsing failed in ${e}`,{cause:s})),i=!0}return{frontmatter:n,hasFrontmatterError:i}}r(yk,"parseFrontmatterSafely");function wk(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}r(wk,"parseJsonSafe");function bk(t){return t.sort((e,n)=>en(e)&&en(n)?e.reference.position.start.offset-n.reference.position.start.offset:Us(e)&&Us(n)?e.reference.key.localeCompare(n.reference.key)||e.reference.startOffset-n.reference.startOffset:zs(e)&&zs(n)?e.reference.key.localeCompare(n.reference.key):en(e)?-1:1),t.filter((e,n)=>e.oldContent===e.newContent?!1:n===0?!0:!mt(e,t[n-1]))}r(bk,"sortAndFilterChanges");function kk(t){for(let e=1;e<t.length;e++){let n=t[e];if(!n)continue;let i=t[e-1];if(i&&en(i)&&en(n)&&i.reference.position.end.offset&&i.reference.position.end.offset>n.reference.position.start.offset){let s="Overlapping changes";throw console.error(s,{change:n,previousChange:i}),new Error(s)}}return!0}r(kk,"validateChangeOverlaps");function xk(t,e,n,i){let s=fe("FileChange:validateChanges");for(let a of t)if(en(a)){let l=a.reference.position.start.offset,c=a.reference.position.end.offset,d=e.slice(l,c);if(d!==a.oldContent)return s("Content mismatch",{actualContent:d,endOffset:c,expectedContent:a.oldContent,path:i,startOffset:l}),!1}else if(Us(a)){let l=sr(n,a.reference.key);if(typeof l!="string")return s("Property value is not a string",{frontmatterKey:a.reference.key,path:i,propertyValue:l}),!1;let c=l.slice(a.reference.startOffset,a.reference.endOffset);if(c!==a.oldContent)return s("Content mismatch",{actualContent:c,expectedContent:a.oldContent,frontmatterKey:a.reference.key,path:i,startOffset:a.reference.startOffset}),!1}else if(zs(a)){let l=sr(n,a.reference.key);if(l!==a.oldContent)return s("Content mismatch",{actualContent:l,expectedContent:a.oldContent,frontmatterKey:a.reference.key,path:i}),!1}return!0}r(xk,"validateChanges");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function ih(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}r(ih,"ensureMetadataCacheReady");function _t(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),Xf(e),e=e.filter((n,i)=>{if(i===0)return!0;let s=e[i-1];if(!s)return!0;if(Et(n)&&Et(s))return n.position.start.offset!==s.position.start.offset;if(Ue(n)&&Ue(s)){let a=it(n)?n.startOffset:0,l=it(s)?s.startOffset:0;return n.key!==s.key||it(n)!==it(s)||a!==l}return!0}),e}r(_t,"getAllLinks");function Dl(t,e){let n=ve(t,e,!0);return ai(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}r(Dl,"getBacklinksForFileOrPath");async function tn(t,e,n={}){let i=t.metadataCache.getBacklinksForFile.safe;if(i)return i(e);let s=new $u;return await Ji(async a=>{a.throwIfAborted();let l=ve(t,e);await ih(t),a.throwIfAborted(),s=Dl(t,l);for(let c of s.keys()){a.throwIfAborted();let d=pe(t,c);if(!d)return!1;await Ol(t,d),a.throwIfAborted();let h=await Ml(t,d);if(a.throwIfAborted(),!h)return!1;let p=Bs(h),g=s.get(c);if(!g)return!1;for(let y of g){let w;if(Et(y))w=h.slice(y.position.start.offset,y.position.end.offset);else if(Ue(y)){let C=sr(p,y.key);if(typeof C!="string")return!1;let F=Ws(y);w=C.slice(F.startOffset,F.endOffset)}else return!0;if(w!==y.original)return!1}}return!0},n),s}r(tn,"getBacklinksForFileSafe");async function Yt(t,e){let n=pe(t,e);try{if(!n)return null;if(n.deleted)return t.metadataCache.getFileCache(n);await Ol(t,n);let i=t.metadataCache.fileCache[n.path];return i&&i.mtime===n.stat.mtime&&i.size===n.stat.size&&t.metadataCache.metadataCache[i.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await ih(t)),t.metadataCache.getFileCache(n)}catch(i){if(!n||n.deleted)return null;throw i}}r(Yt,"getCacheSafe");function sh(t,e,n){let i=ve(t,e,!0);if(!i.deleted)throw new Error("File is existing");t.metadataCache.fileCache[i.path]={hash:i.path,mtime:0,size:0},t.metadataCache.metadataCache[i.path]=n}r(sh,"registerFileCacheForNonExistingFile");function oh(t,e){let n=ch(t);for(let i of e)for(;i.deleted;){let s=n.get(i.path)??0;s++,n.set(i.path,s),t.vault.fileMap[i.path]=i,dt(i)&&t.metadataCache.uniqueFileLookup.add(i.name.toLowerCase(),i),i=Sn(t,ut(i.path),!0)}}r(oh,"registerFiles");function ai(t,e,n){try{return oh(t,e),n()}finally{uh(t,e)}}r(ai,"tempRegisterFilesAndRun");async function ah(t,e,n){try{return oh(t,e),await n()}finally{uh(t,e)}}r(ah,"tempRegisterFilesAndRunAsync");function lh(t,e){let n=ve(t,e,!0);if(!n.deleted)throw new Error("File is existing");delete t.metadataCache.fileCache[n.path],delete t.metadataCache.metadataCache[n.path]}r(lh,"unregisterFileCacheForNonExistingFile");function uh(t,e){let n=ch(t);for(let i of e)for(;i.deleted;){let s=n.get(i.path)??1;s--,n.set(i.path,s),s===0&&(n.delete(i.path),delete t.vault.fileMap[i.path],dt(i)&&t.metadataCache.uniqueFileLookup.remove(i.name.toLowerCase(),i)),i=Sn(t,ut(i.path),!0)}}r(uh,"unregisterFiles");function ch(t){return Ft(t,"registeredFilesCounts",new Map).value}r(ch,"getRegisteredFilesCounts");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function dh(t){return t.vault.getConfig("newLinkFormat")==="relative"}r(dh,"shouldUseRelativeLinks");function Ll(t){return!t.vault.getConfig("useMarkdownLinks")}r(Ll,"shouldUseWikilinks");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vk="\\|",Ck=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,Ak=/[\\[\]<>_*~=`$]/g,ph=/(?<!\\)\|/g,mh="|",Il=(t=>(t.Markdown="Markdown",t.ObsidianSettingsDefault="ObsidianSettingsDefault",t.PreserveExisting="PreserveExisting",t.Wikilink="Wikilink",t))(Il||{});function Sk(t){let e=nn(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?Bl({app:t.app,link:t.link,linkStyle:t.linkStyle,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}r(Sk,"convertLink");async function Rl(t,e,n,i={}){await si(t,e,async(s,a)=>{let l=await Yt(t,e);s.throwIfAborted();let c=ve(t,e),d=await t.vault.cachedRead(c);return s.throwIfAborted(),a!==d?null:await Lk(l,En(t,e),n,s)},i)}r(Rl,"editLinks");function Nl(t){return Ze(t,Ck,({substring:e})=>encodeURIComponent(e))}r(Nl,"encodeUrl");function nn(t,e,n,i=!1){let{linkPath:s}=pn(e.link),a=we(t,n),l=t.metadataCache.getFirstLinkpathDest(s,a);if(l)return l;if(!i)return null;if(s.startsWith("/"))return ve(t,s,!0);let c=xe(de(a),`./${s}`);return c.startsWith("../")?null:ve(t,c,!0)}r(nn,"extractLinkFile");function Gs(t){let{app:e}=t,i=(e.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();t={...{isEmptyEmbedAliasAllowed:!0},...i,...t};let a=ve(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return ai(e,[a],()=>Mk(t))}r(Gs,"generateMarkdownLink");function li(t){let e=Ek(t);return e[0]?.raw===t?e[0]:null}r(li,"parseLink");function Ek(t){let e=new Set,n="![",i=" [",s=Ze(t,n,p=>(e.add(p.offset),i)),l=Hf().use(dr).use(Jf,{aliasDivider:mh}).parse(s),c=[],d=[];ni(l,p=>{let g;switch(p.type){case"link":g=Rk(p,t);break;case"wikiLink":g=Nk(p,t);break;default:return}e.has(g.startOffset-1)&&(g.isEmbed=!0,g.startOffset--,g.raw=`!${g.raw}`),c.push(g)}),c.sort((p,g)=>p.startOffset-g.startOffset);let h=0;for(let p of c)fh(t,h,p.startOffset-1,d),h=p.endOffset+1;return fh(t,h,t.length-1,d),c.push(...d),c.sort((p,g)=>p.startOffset-g.startOffset),c}r(Ek,"parseLinks");function Tk(t){let{app:e,displayText:n,isWikilink:i,newSourcePathOrFile:s,oldSourcePathOrFile:a,oldTargetPath:l,targetPathOrFile:c}=t;if(i===!1)return!1;if(!n)return!0;let d=ve(e,c,!0),h=we(e,s),p=we(e,a??s),g=de(h),y=de(p),w=new Set;for(let F of[d.path,l]){if(!F)continue;let S=we(e,F);w.add(S),w.add(Qe(S)),w.add(Jn(g,S)),w.add(Jn(y,S))}for(let F of[p,h])w.add(e.metadataCache.fileToLinktext(d,F,!1));let C=Ze((0,js.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let F of w){if(F.toLowerCase()===C)return!0;let S=de(F),A=Qe(F,Pt(F));if(xe(S,A).toLowerCase()===C)return!0}return!1}r(Tk,"shouldResetAlias");function pn(t){let e=(0,js.parseLinktext)(Br(t));return{linkPath:e.path,subpath:e.subpath}}r(pn,"splitSubpath");function Pk(t){return li(t)?.hasAngleBrackets??!1}r(Pk,"testAngleBrackets");function Ks(t){return li(t)?.isEmbed??!1}r(Ks,"testEmbed");function Fk(t){return li(t)?.url.startsWith("./")??!1}r(Fk,"testLeadingDot");function ui(t){return li(t)?.isWikilink??!1}r(ui,"testWikilink");function Bl(t){let{app:e,link:n,linkStyle:i,newSourcePathOrFile:s,newTargetPathOrFile:a,oldSourcePathOrFile:l,oldTargetPathOrFile:c,shouldUpdateFileNameAlias:d}=t;if(!a)return n.original;let h=ve(e,a,!0),p=we(e,l??s),g=we(e,c??a),y=yh(e,n.original,i),{subpath:w}=pn(n.link),C=!d;if(En(e,s)&&Qf(n))return h.path+w;let F=li(n.original),S;return y&&F?.alias&&(S=F.alias,C=!0),S??=Tk({app:e,displayText:n.displayText,isWikilink:y,newSourcePathOrFile:s,oldSourcePathOrFile:l,oldTargetPath:g,targetPathOrFile:h})?void 0:F?.alias,C||(S===Qe(g,Pt(g))?S=h.basename:S===Qe(g)&&(S=h.name)),Gs({alias:S,app:e,isSingleSubpathAllowed:p===g&&!!F?.alias,linkStyle:i,originalLink:n.original,sourcePathOrFile:s,subpath:w,targetPathOrFile:h})}r(Bl,"updateLink");async function qs(t){let{app:e,linkStyle:n,newSourcePathOrFile:i,oldSourcePathOrFile:s,shouldUpdateEmbedOnlyLinks:a,shouldUpdateFileNameAlias:l}=t;En(e,i)&&!e.internalPlugins.getEnabledPluginById(lt.Canvas)||await Rl(e,i,c=>{let d=Ks(c.original);if(!(a!==void 0&&a!==d))return Sk({app:e,link:c,linkStyle:n,newSourcePathOrFile:i,oldSourcePathOrFile:s,shouldUpdateFileNameAlias:l})},t)}r(qs,"updateLinksInFile");function fh(t,e,n,i){if(e>n)return;let s=t.slice(e,n+1);Ze(s,/(?<Url>\S+)/g,(a,l)=>{Pl(l)&&i.push({encodedUrl:Nl(l),endOffset:e+a.offset+l.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:l,startOffset:e+a.offset,url:l})})}r(fh,"extractTextLinks");function _k(t,e,n,i,s){n==="/"&&(n="");let a;return e.path===n&&i&&s.isSingleSubpathAllowed?a=i:s.shouldForceRelativePath?a=Jn(de(n),s.isWikilink?dc(t,e):e.path)+i:a=t.metadataCache.fileToLinktext(e,n,s.isWikilink)+i,s.shouldForceRelativePath&&s.shouldUseLeadingDot&&!a.startsWith(".")&&!a.startsWith("#")&&(a=`./${a}`),a}r(_k,"generateLinkText");function Mk(t){let{app:e}=t,n=ve(e,t.targetPathOrFile,t.isNonExistingFileAllowed),i=we(e,t.sourcePathOrFile),s=t.subpath??"",a=Ik(t,n),l=_k(e,n,i,s,a);return a.isWikilink?Dk(l,t.alias,a.isEmbed):Ok(l,n,t,a)}r(Mk,"generateMarkdownLinkImpl");function Ok(t,e,n,i){let{app:s}=n,a=i.isEmbed?"!":"",l=i.shouldUseAngleBrackets?`<${t}>`:Nl(t),c=n.alias??"";!c&&(!i.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(c=!n.shouldIncludeAttachmentExtensionToEmbedAlias||Ee(s,e)?e.basename:e.name);let d=n.shouldEscapeAlias?Ze(c,Ak,"\\$&"):c;return`${a}[${d}](${l})`}r(Ok,"generateMarkdownStyleLink");function Dk(t,e,n){let i=n?"!":"",s=e??"";if(s&&s.toLowerCase()===t.toLowerCase())return`${i}[[${s}]]`;let a=s?`|${s}`:"";return`${i}[[${t}${a}]]`}r(Dk,"generateWikiLink");async function Lk(t,e,n,i){if(i??=He(),i.throwIfAborted(),!t)return[];let s=[],a=(t.sections??[]).filter(l=>l.type==="table").map(l=>({end:l.position.end.offset,start:l.position.start.offset}));for(let l of _t(t)){i.throwIfAborted();let c=await n(l,i);if(i.throwIfAborted(),c===void 0)continue;let d=Rn(l,c);if(e)if(oi(d))s.push(d);else{let h="Unsupported file change";throw console.error(h,d),new Error(h)}else Bk(d,a)&&(d.newContent=d.newContent.replaceAll(ph,vk)),s.push(d)}return s}r(Lk,"getFileChanges");function Ik(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?Ks(t.originalLink):void 0)??!Ee(n,e),isSingleSubpathAllowed:t.isSingleSubpathAllowed??!0,isWikilink:yh(n,t.originalLink,t.linkStyle),shouldForceRelativePath:t.shouldForceRelativePath??dh(n),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?Pk(t.originalLink):void 0)??!1,shouldUseLeadingDot:t.shouldUseLeadingDot??(t.originalLink?Fk(t.originalLink):void 0)??!1}}r(Ik,"getLinkConfig");function gh(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}r(gh,"getRawLink");function Rk(t,e){let a=gh(t,e),l=t.children[0]?.position?.start.offset??1,c=t.children.at(-1)?.position?.end.offset??1,d=e.slice(c+2,(t.position?.end.offset??0)-1),h=a.startsWith("<")||d.startsWith("<"),p=Pl(t.url),g=t.url;if(!p&&!h)try{g=decodeURIComponent(g)}catch(y){console.error(`Failed to decode URL ${g}`,y)}return{alias:l<c?e.slice(l,c):void 0,encodedUrl:p?Nl(g):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:h,isEmbed:!1,isExternal:p,isWikilink:!1,raw:a,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:g}}r(Rk,"parseLinkNode");function Nk(t,e){return{alias:e.includes(mh)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:gh(t,e),startOffset:t.position?.start.offset??0,url:t.value}}r(Nk,"parseWikilinkNode");function Bk(t,e){return!en(t)||!ph.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}r(Bk,"shouldEscapeWikilinkDivider");function yh(t,e,n){switch(n??"PreserveExisting"){case"Markdown":return!1;case"ObsidianSettingsDefault":return Ll(t);case"PreserveExisting":return e===void 0?Ll(t):ui(e);case"Wikilink":return!0;default:throw new Error(`Invalid link style: ${n}.`)}}r(yh,"shouldUseWikilinkStyle");function wh(t,e){let n=Object.keys(e).map(i=>Wk(t,i,e[i]));return n.length===1?n[0]:function(){n.forEach(i=>i())}}r(wh,"around");function Wk(t,e,n){let i=t[e],s=t.hasOwnProperty(e),a=s?i:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},l=n(a);return i&&Object.setPrototypeOf(l,i),Object.setPrototypeOf(c,l),t[e]=c,d;function c(...h){return l===a&&t[e]===c&&d(),l.apply(this,h)}r(c,"wrapper");function d(){t[e]===c&&(s?t[e]=a:delete t[e]),l!==a&&(l=a,Object.setPrototypeOf(c,i||Function))}r(d,"remove")}r(Wk,"around1");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Vk(t,e){return wh(t,e)}r(Vk,"around");function bh(t,e,n){let i=Vk(e,n),s=!1;function a(){if(!s)try{i()}finally{s=!0}}return r(a,"uninstallerWrapper"),t.register(a),i}r(bh,"registerPatch");var kh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Wl(t,e){let n=ct(t,e);n&&await Ys(t,n)&&await mn(t,n)}r(Wl,"deleteEmptyFolder");async function ci(t,e){let n=ct(t,e);for(;n;){if(!await Ys(t,n))return;let i=n.parent;await Wl(t,n),n=i}}r(ci,"deleteEmptyFolderHierarchy");async function mn(t,e,n,i,s){let a=Wr(t,e);if(!a)return!1;let l=dt(a)||(s??!0);if(dt(a)){let c=await tn(t,a);n&&c.clear(n),c.count()!==0&&(i&&new kh.Notice(cs(d=>d.obsidianDevUtils.notices.attachmentIsStillUsed,{attachmentPath:a.path})),l=!1)}else if(Vr(a)){let c=await br(t,a);for(let d of[...c.files,...c.folders])l&&=await mn(t,d,n,i);l&&=await Ys(t,a)}if(l)try{await t.fileManager.trashFile(a)}catch(c){await t.vault.exists(a.path)&&(An(new Error(`Failed to delete ${a.path}`,{cause:c})),l=!1)}return l}r(mn,"deleteSafe");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ie=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(Ie||{}),Vl=class{static{r(this,"DeleteHandler")}constructor(e,n,i,s,a){this.app=e,this.file=n,this.abortSignal=i,this.settingsManager=s,this.deletedMetadataCacheMap=a}async handle(){if(this.abortSignal.throwIfAborted(),fe("RenameDeleteHandler:handleDelete")(`Handle Delete ${this.file.path}`),!this.settingsManager.isNoteEx(this.file.path))return;let e=this.settingsManager.getSettings();if(!e.shouldHandleDeletions)return;if(e.isPathIgnored?.(this.file.path)){fe("RenameDeleteHandler:handleDelete")(`Skipping delete handler of ${this.file.path} as the path is ignored.`);return}let n=this.deletedMetadataCacheMap.get(this.file.path);this.deletedMetadataCacheMap.delete(this.file.path);let i=new Set;if(n){let l=_t(n);for(let c of l){let d=nn(this.app,c,this.file.path);d&&(this.settingsManager.isNoteEx(d.path)||(i.add(d.parent?.path??""),await mn(this.app,d,this.file.path,!1,e.emptyAttachmentFolderBehavior!=="Keep")))}}await Ch(this.app,this.settingsManager.getSettings(),Array.from(i)),this.abortSignal.throwIfAborted();let s=await ar(this.app,this.file.path,un.DeleteNote),a=ct(this.app,s);a&&await La(this.app,this.file.path,un.DeleteNote)&&(this.abortSignal.throwIfAborted(),await mn(this.app,a,this.file.path,!1,e.emptyAttachmentFolderBehavior!=="Keep"),this.abortSignal.throwIfAborted())}},Yl=class{static{r(this,"HandledRenames")}map=new Map;add(e,n){this.map.set(this.keyToString(e,n),{newPath:n,oldPath:e})}delete(e,n){this.map.delete(this.keyToString(e,n))}has(e,n){return this.map.has(this.keyToString(e,n))}keys(){return this.map.values()}keyToString(e,n){return`${e} -> ${n}`}},$l=class{static{r(this,"MetadataDeletedHandler")}constructor(e,n,i,s,a){this.app=e,this.file=n,this.prevCache=i,this.settingsManager=s,this.deletedMetadataCacheMap=a}handle(){let e=this.settingsManager.getSettings();if(e.shouldHandleDeletions){if(e.isPathIgnored?.(this.file.path)){fe("RenameDeleteHandler:handleMetadataDeleted")(`Skipping metadata delete handler of ${this.file.path} as the path is ignored.`);return}Ee(this.app,this.file)&&this.prevCache&&this.deletedMetadataCacheMap.set(this.file.path,this.prevCache)}}},zl=class{static{r(this,"Registry")}constructor(e,n,i){this.plugin=e,this.settingsBuilder=n,this.settingsManager=i,this.app=e.app,this.pluginId=e.manifest.id,this.abortSignal=e.abortSignal??He()}abortSignal;app;deletedMetadataCacheMap=new Map;handledRenames=new Yl;interruptedRenamesMap=new Map;pluginId;register(){let e=this.settingsManager.renameDeleteHandlersMap;e.set(this.pluginId,this.settingsBuilder),this.logRegisteredHandlers(),this.plugin.register(()=>{e.delete(this.pluginId),this.logRegisteredHandlers()}),this.plugin.registerEvent(this.app.vault.on("delete",this.handleDelete.bind(this))),this.plugin.registerEvent(this.app.vault.on("rename",this.handleRename.bind(this))),this.plugin.registerEvent(this.app.metadataCache.on("deleted",this.handleMetadataDeleted.bind(this))),bh(this.plugin,this.app.fileManager,{runAsyncLinkUpdate:r(n=>Object.assign(i=>this.runAsyncLinkUpdate(n,i),{renameDeleteHandlerPatched:!0}),"runAsyncLinkUpdate")})}handleDelete(e){this.shouldInvokeHandler()&&pt(this.app,n=>new Vl(this.app,e,n,this.settingsManager,this.deletedMetadataCacheMap).handle(),this.abortSignal)}handleMetadataDeleted(e,n){this.shouldInvokeHandler()&&new $l(this.app,e,n,this.settingsManager,this.deletedMetadataCacheMap).handle()}handleRename(e,n){if(!this.shouldInvokeHandler()||!dt(e))return;let i=e.path;if(fe("RenameDeleteHandler:handleRename")(`Handle Rename ${n} -> ${i}`),this.handledRenames.has(n,i)){this.handledRenames.delete(n,i);return}let s=this.settingsManager.getSettings();if(!s.shouldHandleRenames)return;if(s.isPathIgnored?.(n)){fe("RenameDeleteHandler:handleRename")(`Skipping rename handler of old path ${n} as the path is ignored.`);return}if(s.isPathIgnored?.(i)){fe("RenameDeleteHandler:handleRename")(`Skipping rename handler of new path ${i} as the path is ignored.`);return}let a=this.app.metadataCache.getCache(n)??this.app.metadataCache.getCache(i),l=Dl(this.app,n).data;pt(this.app,c=>new Ul({abortSignal:c,app:this.app,handledRenames:this.handledRenames,interruptedRenamesMap:this.interruptedRenamesMap,newPath:i,oldCache:a,oldPath:n,oldPathBacklinksMap:l,settingsManager:this.settingsManager}).handle(),this.abortSignal)}logRegisteredHandlers(){let e=this.settingsManager.renameDeleteHandlersMap;fe("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}async runAsyncLinkUpdate(e,n){if(e.renameDeleteHandlerPatched){await e.call(this.app.fileManager,n);return}await e.call(this.app.fileManager,i=>this.wrapLinkUpdatesHandler(i,n))}shouldInvokeHandler(){let e=this.plugin.manifest.id,n=this.settingsManager.renameDeleteHandlersMap;return Array.from(n.keys())[0]===e}async wrapLinkUpdatesHandler(e,n){let i=!1,s=this.app.vault.on("rename",()=>{i=!0});try{await n(e)}finally{this.app.vault.offref(s)}let a=this.settingsManager.getSettings();!i||!a.shouldHandleRenames||Rr(e,l=>a.isPathIgnored?.(l.sourceFile.path)?(fe("RenameDeleteHandler:runAsyncLinkUpdate")(`Roll back to default link update of source file ${l.sourceFile.path} as the path is ignored.`),!0):a.isPathIgnored?.(l.resolvedFile.path)?(fe("RenameDeleteHandler:runAsyncLinkUpdate")(`Roll back to default link update of resolved file ${l.resolvedFile.path} as the path is ignored.`),!0):!this.app.internalPlugins.getEnabledPluginById(lt.Canvas)||this.app.plugins.getPlugin("backlink-cache")?!1:l.sourceFile.extension===Wi||l.resolvedFile.extension===Wi)}},Ul=class t{static{r(this,"RenameHandler")}abortSignal;app;handledRenames;interruptedCombinedBacklinksMap;interruptedRenamesMap;newPath;oldCache;oldPath;oldPathBacklinksMap;oldPathLinks;settingsManager;constructor(e){this.app=e.app,this.oldPath=e.oldPath,this.newPath=e.newPath,this.oldPathBacklinksMap=e.oldPathBacklinksMap,this.oldCache=e.oldCache,this.abortSignal=e.abortSignal,this.settingsManager=e.settingsManager,this.interruptedRenamesMap=e.interruptedRenamesMap,this.oldPathLinks=this.oldCache?_t(this.oldCache):[],this.handledRenames=e.handledRenames,this.interruptedCombinedBacklinksMap=e.interruptedCombinedBacklinksMap??new Map}async handle(){if(this.abortSignal.throwIfAborted(),await this.continueInterruptedRenames(),this.abortSignal.throwIfAborted(),await this.refreshLinks(),this.abortSignal.throwIfAborted(),!await this.handleCaseCollision()){this.abortSignal.throwIfAborted();try{let e=new Hl({abortSignal:this.abortSignal,app:this.app,newPath:this.newPath,oldCache:this.oldCache,oldPath:this.oldPath,settingsManager:this.settingsManager});await e.fill(),this.abortSignal.throwIfAborted();let n=new Map;e.initBacklinksMap(this.oldPathBacklinksMap,n,this.oldPath);for(let a of e.keys()){if(a===this.oldPath)continue;let l=(await tn(this.app,a)).data;this.abortSignal.throwIfAborted(),e.initBacklinksMap(l,n,a)}let i=new Set;for(let[a,l]of e.entries()){if(a!==this.oldPath){let c=await this.renameHandled(a,l);this.abortSignal.throwIfAborted(),e.set(a,c)}this.settingsManager.isNoteEx(a)||i.add(de(a))}await Ch(this.app,this.settingsManager.getSettings(),Array.from(i)),this.abortSignal.throwIfAborted();let s=this.settingsManager.getSettings();for(let[a,l]of Array.from(n.entries()).concat(Array.from(this.interruptedCombinedBacklinksMap.entries())))await Rl(this.app,a,c=>{let d=l.get(hs(c));if(!d)return;let h=e.get(d);if(h)return Bl({app:this.app,link:c,newSourcePathOrFile:a,newTargetPathOrFile:h,oldTargetPathOrFile:d,shouldUpdateFileNameAlias:s.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1}),this.abortSignal.throwIfAborted();if(this.settingsManager.isNoteEx(this.newPath)&&(await qs({app:this.app,newSourcePathOrFile:this.newPath,oldSourcePathOrFile:this.oldPath,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:s.shouldUpdateFileNameAliases}),this.abortSignal.throwIfAborted()),!pe(this.app,this.newPath)){let a=this.interruptedRenamesMap.get(this.newPath);a||(a=[],this.interruptedRenamesMap.set(this.newPath,a)),a.push({combinedBacklinksMap:n,oldPath:this.oldPath})}}finally{let e=Array.from(this.handledRenames.keys());pt(this.app,()=>{for(let n of e)this.handledRenames.delete(n.oldPath,n.newPath)},this.abortSignal)}}}async continueInterruptedRenames(){let e=this.interruptedRenamesMap.get(this.oldPath);if(e){this.interruptedRenamesMap.delete(this.oldPath);for(let n of e)await new t({abortSignal:this.abortSignal,app:this.app,handledRenames:this.handledRenames,interruptedCombinedBacklinksMap:n.combinedBacklinksMap,interruptedRenamesMap:this.interruptedRenamesMap,newPath:this.newPath,oldCache:this.oldCache,oldPath:n.oldPath,oldPathBacklinksMap:this.oldPathBacklinksMap,settingsManager:this.settingsManager}).handle()}}async handleCaseCollision(){if(!this.app.vault.adapter.insensitive||this.oldPath.toLowerCase()!==this.newPath.toLowerCase())return!1;let e=xe(de(this.newPath),`__temp__${Qe(this.newPath)}`);return await this.renameHandled(this.newPath,e),await new t({abortSignal:this.abortSignal,app:this.app,handledRenames:this.handledRenames,interruptedRenamesMap:this.interruptedRenamesMap,newPath:e,oldCache:this.oldCache,oldPath:this.oldPath,oldPathBacklinksMap:this.oldPathBacklinksMap,settingsManager:this.settingsManager}).handle(),await this.app.vault.rename(ve(this.app,e),this.newPath),!0}async refreshLinks(){let e=this.app.metadataCache.getCache(this.oldPath)??this.app.metadataCache.getCache(this.newPath),n=e?_t(e):[],i=ve(this.app,this.oldPath,!0),s=new Map;await ai(this.app,[i],async()=>{s=(await tn(this.app,i)).data});for(let a of n)this.oldPathLinks.includes(a)||this.oldPathLinks.push(a);for(let[a,l]of s.entries()){let c=this.oldPathBacklinksMap.get(a);c||(c=[],this.oldPathBacklinksMap.set(a,c));for(let d of l)c.includes(d)||c.push(d)}}async renameHandled(e,n){return n=_l(this.app,e,n),e===n||(this.handledRenames.add(e,n),n=await $s(this.app,e,n)),n}},Hl=class{static{r(this,"RenameMap")}abortSignal;app;map=new Map;newPath;oldCache;oldPath;oldPathLinks;settingsManager;constructor(e){this.abortSignal=e.abortSignal,this.app=e.app,this.settingsManager=e.settingsManager,this.oldCache=e.oldCache,this.oldPath=e.oldPath,this.newPath=e.newPath,this.oldPathLinks=this.oldCache?_t(this.oldCache):[]}entries(){return this.map.entries()}async fill(){if(this.abortSignal.throwIfAborted(),this.map.set(this.oldPath,this.newPath),!this.settingsManager.isNoteEx(this.oldPath))return;let e=this.settingsManager.getSettings(),n=ve(this.app,this.oldPath,!0),i="";await ah(this.app,[n],async()=>{let d=this.oldCache&&n.deleted;d&&sh(this.app,n,this.oldCache);try{i=await ar(this.app,this.oldPath,un.RenameNote)}finally{d&&lh(this.app,n)}});let s=e.shouldRenameAttachmentFolder?await ar(this.app,this.newPath,un.RenameNote):i,a=i==="/",l=ct(this.app,i);if(!l||i===s&&!e.shouldRenameAttachmentFiles)return;let c=[];if(await La(this.app,this.oldPath,un.RenameNote))xh.Vault.recurseChildren(l,d=>{this.abortSignal.throwIfAborted(),dt(d)&&c.push(d)});else for(let d of this.oldPathLinks){this.abortSignal.throwIfAborted();let h=nn(this.app,d,this.oldPath);if(h&&(a||h.path.startsWith(i))){let p=await tn(this.app,h);this.abortSignal.throwIfAborted(),p.keys().length===1&&c.push(h)}}for(let d of c){if(this.abortSignal.throwIfAborted(),this.settingsManager.isNoteEx(d.path))continue;let h;if(e.shouldRenameAttachmentFiles)h=await Kr({app:this.app,attachmentPathOrFile:d,context:un.RenameNote,notePathOrFile:this.newPath,oldNotePathOrFile:this.oldPath,shouldSkipDuplicateCheck:!0}),this.abortSignal.throwIfAborted();else{let p=a?d.path:Jn(i,d.path),g=xe(s,de(p));h=xe(g,d.name)}if(d.path!==h){if(e.shouldDeleteConflictingAttachments){let p=pe(this.app,h);p&&(fe("RenameDeleteHandler:fillRenameMap")(`Removing conflicting attachment ${p.path}.`),await this.app.fileManager.trashFile(p),this.abortSignal.throwIfAborted())}else{let p=de(h),g=Pt(h),y=Qe(h,g);h=this.app.vault.getAvailablePath(xe(p,y),g.slice(1))}this.map.set(d.path,h)}}}get(e){return this.map.get(e)}initBacklinksMap(e,n,i){for(let[s,a]of e.entries()){let l=this.map.get(s)??s,c=n.get(l)??new Map;n.set(l,c);for(let d of a)c.set(hs(d),i)}}keys(){return this.map.keys()}set(e,n){this.map.set(e,n)}},jl=class{static{r(this,"SettingsManager")}constructor(e){this.app=e,this.renameDeleteHandlersMap=Ft(e,"renameDeleteHandlersMap",new Map).value}renameDeleteHandlersMap;getSettings(){let e=Array.from(this.renameDeleteHandlersMap.values()).reverse(),n={};n.isNote=i=>Yr(this.app,i),n.isPathIgnored=()=>!1;for(let i of e){let s=i();n.shouldDeleteConflictingAttachments||=s.shouldDeleteConflictingAttachments??!1,s.emptyAttachmentFolderBehavior&&(n.emptyAttachmentFolderBehavior??=s.emptyAttachmentFolderBehavior),n.shouldHandleDeletions||=s.shouldHandleDeletions??!1,n.shouldHandleRenames||=s.shouldHandleRenames??!1,n.shouldRenameAttachmentFiles||=s.shouldRenameAttachmentFiles??!1,n.shouldRenameAttachmentFolder||=s.shouldRenameAttachmentFolder??!1,n.shouldUpdateFileNameAliases||=s.shouldUpdateFileNameAliases??!1;let a=n.isPathIgnored;n.isPathIgnored=c=>a(c)||(s.isPathIgnored?.(c)??!1);let l=n.isNote;n.isNote=c=>l(c)&&(s.isNote?.(c)??!0)}return n.emptyAttachmentFolderBehavior??="Keep",n}isNoteEx(e){return this.getSettings().isNote?.(e)??!1}};function vh(t,e){new zl(t,e,new jl(t.app)).register()}r(vh,"registerRenameDeleteHandlers");async function Ch(t,e,n){if(e.emptyAttachmentFolderBehavior!=="Keep")for(let i of n)switch(e.emptyAttachmentFolderBehavior){case"Delete":await Wl(t,i);break;case"DeleteWithEmptyParents":await ci(t,i);break;default:break}}r(Ch,"cleanupParentFolders");var LO=require("obsidian");var Js=require("obsidian");var gn=class extends Map{constructor(n){super();this.title=n}static{r(this,"ConsistencyCheckResult")}add(n,i){this.has(n)||this.set(n,[]);let s=this.get(n);s&&s.push(i)}toString(n,i){if(this.size>0){let s=`# ${this.title} (${String(this.size)} files)
`;for(let a of this.keys()){let l=pe(n,a);if(!l)continue;let c=Gs({app:n,sourcePathOrFile:i,targetPathOrFile:l});s+=`${c}:
`;for(let d of this.get(a)??[])Et(d)?s+=`- (line ${String(d.position.start.line+1)}): \`${d.link}\`
`:Ue(d)&&(s+=`- (key ${d.key}): \`${d.link}\`
`);s+=`

`}return s}return`# ${this.title}
No problems found

`}},di=class{constructor(e){this.plugin=e;}static{r(this,"LinksHandler")}async checkConsistency(e,n,i,s,a,l){if(this.plugin.settings.isPathIgnored(e.path))return;let c=await Yt(this.plugin.app,e.path);if(!c)return;let d=c.links??[],h=c.embeds??[],p=c.frontmatterLinks??[];for(let g of d)await this.isValidLink(g,e.path)||n.add(e.path,g),ui(g.original)&&s.add(e.path,g);for(let g of h)await this.isValidLink(g,e.path)||i.add(e.path,g),ui(g.original)&&a.add(e.path,g);for(let g of p)await this.isValidLink(g,e.path)||l.add(e.path,g)}async convertAllNoteEmbedsPathsToRelative(e,n){return await this.convertAllNoteRefPathsToRelative(e,!0,n)}async convertAllNoteLinksPathsToRelative(e,n){return await this.convertAllNoteRefPathsToRelative(e,!1,n)}async getCachedNotesThatHaveLinkToFile(e){let n=pe(this.plugin.app,e);return n?(await tn(this.plugin.app,n)).keys():[]}getFullPathForLink(e,n){({linkPath:e}=pn(e));let i=de(n);return xe(i,e)}async replaceAllNoteWikilinksWithMarkdownLinks(e,n,i){if(this.plugin.settings.isPathIgnored(e))return 0;let s=pe(this.plugin.app,e);if(!s)return console.warn(`can't update wikilinks in note, file not found: ${e}`),0;let a=await Yt(this.plugin.app,s);if(i.throwIfAborted(),!a)return 0;let c=((n?a.embeds:a.links)??[]).filter(d=>ui(d.original)).length;return await qs({app:this.plugin.app,linkStyle:Il.Markdown,newSourcePathOrFile:s,shouldUpdateEmbedOnlyLinks:n}),c}async updateChangedPathsInNote(e,n){if(this.plugin.settings.isPathIgnored(e))return;let i=pe(this.plugin.app,e);if(!i){console.warn(`can't update links in note, file not found: ${e}`);return}let s=new Map;for(let a of n)s.set(a.oldPath,a.newPath);await this.updateLinks(i,i.path,s)}async convertAllNoteRefPathsToRelative(e,n,i){if(this.plugin.settings.isPathIgnored(e))return[];let s=pe(this.plugin.app,e);if(!s)return[];let a=[];return await si(this.plugin.app,s,async(l,c)=>{let d=await Yt(this.plugin.app,s);l.throwIfAborted();let h=await this.plugin.app.vault.cachedRead(s);if(l.throwIfAborted(),c!==h)return null;if(!d)return[];let p=(n?d.embeds:d.links)??[],g=[];for(let y of p){let w=this.convertLink({forceRelativePath:!0,link:y,note:s,oldNotePath:e});g.push(Rn(y,w)),a.push({newLink:w,old:y})}return g},{abortSignal:i}),a}convertLink({forceRelativePath:e,link:n,note:i,oldNotePath:s,pathChangeMap:a}){let{linkPath:l,subpath:c}=pn(n.link),d=nn(this.plugin.app,n,s)?.path??xe(de(s),l),h=a?a.get(d):nn(this.plugin.app,n,i.path)?.path??xe(de(i.path),l);if(!h)return n.original;let p=pe(this.plugin.app,h)??pe(this.plugin.app,d);if(!p)return n.original;let g=n.displayText&&xe(i.parent?.path??"",n.displayText)===d?void 0:n.displayText;return Gs({alias:g,app:this.plugin.app,originalLink:n.original,shouldForceRelativePath:e,sourcePathOrFile:i.path,subpath:c,targetPathOrFile:p})}async isValidLink(e,n){let{linkPath:i,subpath:s}=pn(e.link),a;i?i.startsWith("/")?a=(0,Js.normalizePath)(i):a=xe(de(n),i):a=n;let l=pe(this.plugin.app,a);if(!l)return!1;if(!s)return!0;let c=l.extension.toLocaleLowerCase();if(c==="pdf")return s.startsWith("#page=");if(c!==Zn)return!1;let d=await Yt(this.plugin.app,l);return d?!!(0,Js.resolveSubpath)(d,s):!1}async updateLinks(e,n,i){await si(this.plugin.app,e,async(s,a)=>{s.throwIfAborted();let l=await Yt(this.plugin.app,e);s.throwIfAborted();let c=await this.plugin.app.vault.cachedRead(e);return s.throwIfAborted(),a!==c?null:l?_t(l).map(h=>Rn(h,this.convertLink({link:h,note:e,oldNotePath:n,pathChangeMap:i}))):[]})}};var fi=class{constructor(e,n){this.plugin=e;this.lh=n;}static{r(this,"FilesHandler")}async collectAttachmentsForCachedNote(e){if(this.plugin.settings.isPathIgnored(e))return{movedAttachments:[]};let n={movedAttachments:[]},i=await Yt(this.plugin.app,e);if(!i)return n;for(let s of _t(i)){let{linkPath:a}=pn(s.link);if(!a)continue;let l=this.lh.getFullPathForLink(a,e);if(n.movedAttachments.findIndex(p=>p.oldPath===l)!==-1)continue;let c=nn(this.plugin.app,s,e);if(!c){let p=Ks(s.original)?"embed":"link";console.warn(`${e} has bad ${p} (file does not exist): ${a}`);continue}if(this.isNoteEx(c)||this.plugin.settings.isExcludedFromAttachmentCollecting(c.path))continue;let d=await Kr({app:this.plugin.app,attachmentPathOrFile:c,context:"consistent-attachments-and-links",notePathOrFile:e,shouldSkipDuplicateCheck:!0});if(de(d)===de(c.path))continue;let h=await this.moveAttachment(c,d,[e]);n.movedAttachments=n.movedAttachments.concat(h.movedAttachments)}return n}async deleteEmptyFolders(e){if(this.plugin.settings.isPathIgnored(e))return;e=Bi(e,"./");let n=await br(this.plugin.app,e);for(let i of n.folders)await this.deleteEmptyFolders(i);if(n=await br(this.plugin.app,e),n.files.length===0&&n.folders.length===0&&(this.plugin.consoleDebug(`delete empty folder: 
   ${e}`),await this.plugin.app.vault.exists(e)))try{await this.plugin.app.vault.adapter.rmdir(e,!1)}catch(i){if(await this.plugin.app.vault.adapter.exists(e))throw i}}isNoteEx(e){if(!e||!Yr(this.plugin.app,e))return!1;let n=we(this.plugin.app,e);return this.plugin.settings.treatAsAttachmentExtensions.every(i=>!n.endsWith(i))}async createFolderForAttachmentFromPath(e){await yr(this.plugin.app,de(e))}async deleteFile(e){if(await this.plugin.app.fileManager.trashFile(e),!!e.parent)switch(this.plugin.settings.emptyAttachmentFolderBehavior){case Ie.Delete:await mn(this.plugin.app,e.parent,void 0,void 0,!0);break;case Ie.DeleteWithEmptyParents:await ci(this.plugin.app,e.parent);break;default:break}}async moveAttachment(e,n,i){let s=e.path,a={movedAttachments:[]};if(this.plugin.settings.isPathIgnored(s)||this.isNoteEx(e))return a;if(s===n)return console.warn("Can't move file. Source and destination path the same."),a;await this.createFolderForAttachmentFromPath(n);let l=await this.lh.getCachedNotesThatHaveLinkToFile(s);for(let p of i)l.remove(p);if(s!==e.path)return console.warn("File was moved already"),await this.moveAttachment(e,n,i);let c=e.parent,d=l.length===0,h=pe(this.plugin.app,n);if(h&&(this.plugin.settings.shouldDeleteExistingFilesWhenMovingNote?(this.plugin.consoleDebug(`delete: ${n}`),await this.deleteFile(h)):n=Vs(this.plugin.app,n)),this.plugin.consoleDebug(`${d?"move":"copy"}
  from: ${s}
  to: ${n}`),a.movedAttachments.push({newPath:n,oldPath:s}),d?await $s(this.plugin.app,e,n):await th(this.plugin.app,e,n),c)switch(this.plugin.settings.emptyAttachmentFolderBehavior){case Ie.Delete:await mn(this.plugin.app,c,void 0,void 0,!0);break;case Ie.DeleteWithEmptyParents:await ci(this.plugin.app,c);break;default:break}return a}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yn=class{static{r(this,"Transformer")}getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let i=this.getTransformerId(e,n);if(i){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:i,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,c)=>this.transformValueRecursively(l,String(c)));let s=e;if(s.__transformerId)return this.getTransformer(s.__transformerId).restoreValue(s.transformedValue,n);let a={};for(let l of ir(e)){let c=e[l],d=this.transformValueRecursively(c,l);a[l]=d}return a}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yt=class extends yn{static{r(this,"TypedTransformer")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Zs=class extends yt{static{r(this,"DateTransformer")}get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var Ah=at(Nn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qs=class extends yt{static{r(this,"DurationTransformer")}get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,Ah.duration)(e)}transformValue(e){return e.toISOString()}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xs=class extends yn{static{r(this,"GroupTransformer")}constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??Nr(`No transformer with id ${e} found`)}transformValue(e,n){let i=this.getFirstTransformerThatCanTransform(e,n);if(i===null)throw new Error("No transformer can transform the value");return i.transformValue(e,n)}getTransformerId(e,n){let i=this.getFirstTransformerThatCanTransform(e,n);return i===null?null:i.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(i=>i.canTransform(e,n))??null}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var eo=class extends yt{static{r(this,"MapTransformer")}get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var to=class extends yt{static{r(this,"SetTransformer")}get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Yk="_",no=class extends yn{static{r(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(Yk)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var hi=class{static{r(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,i]of e)this.set(n,i)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ro=class extends yt{static{r(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(e){return e instanceof hi}restoreValue(e){return new hi(e)}transformValue(e){return Array.from(e.entries())}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var $k=new Xs([new no,new Zs,new Qs,new eo,new to,new ro]),io=class extends It{static{r(this,"PluginSettingsManagerBase")}constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=ir(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let i of this.propertyNames)n[i]&&(e[i]=this.defaultSettings[i])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let i=n,s=await this.rawRecordToSettings(i),a=await this.validate(s);for(let c of this.propertyNames)this.setPropertyImpl(c,s[c],a[c]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);mt(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,i){return super.on(e,n,i)}async revalidate(){return await this.edit(tt),this.currentSettingsWrapper.validationMessages}async saveToFile(e){mt(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(i=>{i[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[i,s]of this.validators.entries()){let a=await s(e[i],e);a&&(n[i]=a)}return n}getTransformer(){return $k}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Dt()}registerLegacySettingsConverter(e,n){let i=this;this.legacySettingsConverters.push(s);function s(a){let l=new Set(Object.keys(new e)),c=new Set(i.propertyNames),d=a;n(d);for(let h of Object.keys(d))c.has(h)||l.has(h)&&delete a[h]}r(s,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),i=JSON.stringify(n),s=JSON.parse(i);return await this.rawRecordToSettings(s)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let i of this.propertyNames){let s=n[i]??"";this.currentSettingsWrapper.validationMessages[i]=s,this.currentSettingsWrapper.safeSettings[i]=s?this.defaultSettings[i]:this.currentSettingsWrapper.settings[i]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[i,s]of Object.entries(e)){if(!this.isValidPropertyName(i)){fe("PluginSettingsManagerBase:rawRecordToSettings")(`Unknown property: ${i}`);continue}typeof s!=typeof this.defaultSettings[i]&&fe("PluginSettingsManagerBase:rawRecordToSettings")("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[i],propertyName:i,value:s}),n[i]=s}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,i){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=i??"",this.currentSettingsWrapper.safeSettings[e]=i?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let i of this.propertyNames)n[i]=e[i];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var Sh=/(?:)/,so=/$./,oo=class{static{r(this,"PluginSettings")}consistencyReportFile="consistency-report.md";emptyAttachmentFolderBehavior=Ie.DeleteWithEmptyParents;shouldChangeNoteBacklinksDisplayText=!0;shouldCollectAttachmentsAutomatically=!1;shouldDeleteAttachmentsWithNote=!1;shouldDeleteExistingFilesWhenMovingNote=!1;shouldMoveAttachmentsWithNote=!1;shouldShowBackupWarning=!0;shouldUpdateLinks=!0;treatAsAttachmentExtensions=[".excalidraw.md"];get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=Kl(this._excludePaths,so)}get excludePathsFromAttachmentCollecting(){return this._excludePathsFromAttachmentCollecting}set excludePathsFromAttachmentCollecting(e){this._excludePathsFromAttachmentCollecting=e.filter(Boolean),this._excludePathsFromAttachmentCollectingRegExp=Kl(this._excludePathsFromAttachmentCollecting,so)}get hadDangerousSettingsReverted(){return this._hadDangerousSettingsReverted}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=Kl(this._includePaths,Sh)}_excludePaths=["/consistency-report\\.md$/"];_excludePathsFromAttachmentCollecting=[];_excludePathsFromAttachmentCollectingRegExp=so;_excludePathsRegExp=so;_hadDangerousSettingsReverted=!1;_includePaths=[];_includePathsRegExp=Sh;isExcludedFromAttachmentCollecting(e){return this._excludePathsFromAttachmentCollectingRegExp.test(e)}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}revertDangerousSettings(){this.shouldShowBackupWarning&&(this._hadDangerousSettingsReverted=this.shouldDeleteAttachmentsWithNote||this.shouldDeleteExistingFilesWhenMovingNote||this.shouldMoveAttachmentsWithNote||this.shouldCollectAttachmentsAutomatically,this.shouldDeleteAttachmentsWithNote=!1,this.shouldDeleteExistingFilesWhenMovingNote=!1,this.shouldMoveAttachmentsWithNote=!1,this.shouldCollectAttachmentsAutomatically=!1)}};function Kl(t,e){if(t.length===0)return e;let n=t.map(i=>i.startsWith("/")&&i.endsWith("/")?i.slice(1,-1):`^${la(i)}`).map(i=>`(${i})`).join("|");return new RegExp(n)}r(Kl,"makeRegExp");var ao=class extends io{static{r(this,"PluginSettingsManager")}createDefaultSettings(){return new oo}async onLoadRecord(e){await super.onLoadRecord(e);let n=e,i=n.excludePaths??[];if(n.ignoreFiles){for(let s of n.ignoreFiles)i.push(`/${s}$/`);delete n.ignoreFiles}if(n.ignoreFolders){for(let s of n.ignoreFolders??[])i.push(s);delete n.ignoreFolders}i.length>0&&(n.excludePaths=i),n.deleteEmptyFolders!==void 0&&(n.emptyAttachmentFolderBehavior=n.deleteEmptyFolders?Ie.DeleteWithEmptyParents:Ie.Keep,delete n.deleteEmptyFolders),n.autoCollectAttachments!==void 0&&(n.shouldCollectAttachmentsAutomatically=n.autoCollectAttachments,delete n.autoCollectAttachments),n.changeNoteBacklinksAlt!==void 0&&(n.shouldChangeNoteBacklinksDisplayText=n.changeNoteBacklinksAlt,delete n.changeNoteBacklinksAlt),n.deleteAttachmentsWithNote!==void 0&&(n.shouldDeleteAttachmentsWithNote=n.deleteAttachmentsWithNote,delete n.deleteAttachmentsWithNote),n.deleteExistFilesWhenMoveNote!==void 0&&(n.shouldDeleteExistingFilesWhenMovingNote=n.deleteExistFilesWhenMoveNote,delete n.deleteExistFilesWhenMoveNote),n.moveAttachmentsWithNote!==void 0&&(n.shouldMoveAttachmentsWithNote=n.moveAttachmentsWithNote,delete n.moveAttachmentsWithNote),n.showBackupWarning!==void 0&&(n.shouldShowBackupWarning=n.showBackupWarning,delete n.showBackupWarning),n.updateLinks!==void 0&&(n.shouldUpdateLinks=n.updateLinks,delete n.updateLinks)}registerValidators(){super.registerValidators(),this.registerValidator("includePaths",Eh),this.registerValidator("excludePaths",Eh)}};function Eh(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!nc(n))return`Invalid regular expression ${e}`}}r(Eh,"pathsValidator");var $h=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Th(t,e){let n=Object.keys(t).find(i=>t[i]===e);if(n===void 0)throw new Error(`Invalid enum value: ${e}`);return n}r(Th,"getEnumKey");function Ph(t,e){let n=t[e];if(n===void 0)throw new Error(`Invalid enum key: ${e}`);return n}r(Ph,"getEnumValue");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function wt(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}r(wt,"appendCodeBlock");function Fh(t){return`${String(t)}px`}r(Fh,"toPx");var Bn=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function lo(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(Y.SettingComponentWrapper))return e;let n=Array.from(e.children),i=createDiv();he(i,Y.SettingComponentWrapper);for(let s of n)i.appendChild(s);return e.appendChild(i),i}r(lo,"ensureWrapped");var _h=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ql=class{static{r(this,"AbstractTextComponentWrapper")}constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function Mh(t){return zk(t)?t:t instanceof _h.AbstractTextComponent?new ql(t):null}r(Mh,"getTextBasedComponentValue");function zk(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}r(zk,"isTextBasedComponent");var We=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var uo=class{static{r(this,"OverlayValidatorComponent")}constructor(e){this.el=e;let n=lo(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),he(this._validatorEl,Y.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let i=this.el.querySelector("[tabindex]");i||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),i=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{i.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},wn=class{static{r(this,"ValidatorElementWrapper")}constructor(e){this.validatorEl=e}};function Oh(t){return Uk(t)?t:t instanceof We.ColorComponent?new wn(t.colorPickerEl):t instanceof We.DropdownComponent?new wn(t.selectEl):t instanceof We.ProgressBarComponent?new uo(t.progressBar):t instanceof We.SearchComponent?new wn(t.inputEl):t instanceof We.SliderComponent?new wn(t.sliderEl):t instanceof We.TextAreaComponent?new wn(t.inputEl):t instanceof We.TextComponent?new wn(t.inputEl):t instanceof We.ToggleComponent?new uo(t.toggleEl):null}r(Oh,"getValidatorComponent");function Uk(t){return!!t.validatorEl}r(Uk,"isValidatorComponent");var Hk=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Dh(t){return t.validationMessage!==void 0}r(Dh,"isValidationMessageHolder");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Jl="PluginSettingsTab",co=class extends Bn.PluginSettingTab{static{r(this,"PluginSettingsTabBase")}constructor(e){super(e.app,e),this.plugin=e,he(this.containerEl,Y.PluginSettingsTab),this.saveSettingsDebounced=(0,Bn.debounce)(tr(()=>this.plugin.settingsManager.saveToFile(Jl)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new as,this.asyncEvents=new It}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,i){let a={...{componentToPluginSettingsValueConverter:r(L=>L,"componentToPluginSettingsValueConverter"),onChanged:tt,pluginSettingsToComponentValueConverter:r(L=>L,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...i},l=Oh(e)?.validatorEl,c=Mh(e),d=this.pluginSettings[n],h=this.plugin.settingsManager.defaultSettings[n],p=a.pluginSettingsToComponentValueConverter(h);c?.setPlaceholderValue(p);let g,y=null,w=null;if(l){let L=lo(l);y=L.createDiv(),he(y,Y.Tooltip,Y.TooltipValidator),w=y.createSpan();let V=y.createDiv();he(V,Y.TooltipArrow),y.hide(),L.appendChild(y)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(L,V)=>{n===L&&(g=V,P())}));let C=!1,F=!1;c&&a.shouldShowPlaceholderForDefaultValues&&mt(d,h)?c.empty():e.setValue(a.pluginSettingsToComponentValueConverter(d));let S=!1,P=(0,Bn.debounce)(()=>{requestAnimationFrame(()=>{M()})},100);return e.onChange(async L=>{if(S){S=!1;return}C=!1;let V=this.pluginSettings[n],E,G=!0;if(F=!!c?.isEmpty()&&a.shouldResetSettingWhenComponentIsEmpty,F)E=h;else{let K=a.componentToPluginSettingsValueConverter(L);Dh(K)?(g=K.validationMessage,G=!1):E=K}G&&(g=await this.plugin.settingsManager.setProperty(n,E),c&&a.shouldShowPlaceholderForDefaultValues&&!c.isEmpty()&&mt(E,h)&&(C=!0)),P(),G&&await a.onChanged(E,V),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{P()}),l?.addEventListener("blur",()=>{P()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{P()})}),g=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",P(),e;function M(){l?.isActiveElement()||(C?(C=!1,c?.isEmpty()||(S=!0,c?.empty())):F&&(F=!1,c?.isEmpty()&&(S=!0,e.setValue(p)))),l&&(g===""&&(l.setCustomValidity(""),l.checkValidity(),g=l.validationMessage),l.setCustomValidity(g),a.shouldShowValidationMessage?(w&&(w.textContent=g),y?.toggle(!!g)):g&&(0,Bn.setTooltip)(l,g))}r(M,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),ht(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(Jl)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Dt()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,i){return this.asyncEvents.on(e,n,i)}async onSaveSettings(e,n,i){if(i===Jl){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,i]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,i)}};var Yh=require("obsidian");var Lh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var fo=class extends Lh.ValueComponent{static{r(this,"CheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),he(e,Y.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var xr=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ho=class extends xr.ValueComponent{static{r(this,"CodeHighlighterComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),he(e,Y.CodeHighlighterComponent);let n=e.createDiv();he(n,Y.SettingComponentWrapper),this.textAreaComponent=new xr.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",tr(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let i=2;this.tabSize=i}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let i of[this.preEl,this.codeEl]){for(let s of Array.from(i.classList))s.startsWith(n)&&i.classList.remove(s);i.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,ht(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),ht(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;e.preventDefault();let n=this.getValue(),i=this.inputEl.selectionStart,s=this.inputEl.selectionEnd,a=n.slice(0,i),l=n.slice(s),c=" ".repeat(this.tabSize),d=a;e.shiftKey?a.endsWith(c)&&(d=a.slice(0,-this.tabSize)):d=a+c;let h=`${d}${l}`;this.setValue(h),this.inputEl.selectionStart=d.length,this.inputEl.selectionEnd=d.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,xr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass(Y.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":Fh(n)}),this.handleScroll()})}};var Zl=at(Nn(),1);var po=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Oe=class extends po.ValueComponent{static{r(this,"TypedTextComponent")}inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,i){super(),this.textComponent=new po.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,he(e,i)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var et=class extends Oe{static{r(this,"TypedRangeTextComponent")}setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ih="YYYY-MM-DD",mo=class extends et{static{r(this,"DateComponent")}constructor(e){super(e,"date",Y.DateComponent)}valueFromString(e){return(0,Zl.default)(e,Ih).toDate()}valueToString(e){return(0,Zl.default)(e).format(Ih)}};var Ql=at(Nn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Rh="YYYY-MM-DDTHH:mm",go=class extends et{static{r(this,"DateTimeComponent")}constructor(e){super(e,"datetime-local",Y.DateTimeComponent)}valueFromString(e){return(0,Ql.default)(e,Rh).toDate()}valueToString(e){return(0,Ql.default)(e).format(Rh)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yo=class extends Oe{static{r(this,"EmailComponent")}constructor(e){super(e,"email",Y.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wo=class extends Oe{static{r(this,"FileComponent")}constructor(e){super(e,"file",Y.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var Xl=at(Nn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Nh="YYYY-MM",bo=class extends et{static{r(this,"MonthComponent")}constructor(e){super(e,"month",Y.MonthComponent)}valueFromString(e){let n=(0,Xl.default)(e,Nh);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,Xl.default)().year(e.year).month(e.month-1).format(Nh)}};var ko=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vr=class extends ko.ValueComponent{static{r(this,"MultipleDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new ko.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,he(e,Y.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xo=class extends Oe{static{r(this,"MultipleEmailComponent")}constructor(e){super(e,"email",Y.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vo=class extends Oe{static{r(this,"MultipleFileComponent")}constructor(e){super(e,"file",Y.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var Ao=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Co=class extends Ao.ValueComponent{static{r(this,"MultipleTextComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new Ao.TextAreaComponent(e),he(e,Y.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var So=class extends et{static{r(this,"NumberComponent")}constructor(e){super(e,"number",Y.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Eo=class extends Oe{static{r(this,"PasswordComponent")}constructor(e){super(e,"password",Y.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var To=class extends Oe{static{r(this,"TelephoneComponent")}constructor(e){super(e,"tel",Y.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Fo=at(Nn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Po=class extends et{static{r(this,"TimeComponent")}constructor(e){super(e,"time",Y.TimeComponent)}valueFromString(e){return(0,Fo.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,Fo.utc)(e.asMilliseconds()).format(n)}};var Bh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _o=class extends Bh.ValueComponent{static{r(this,"TriStateCheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),he(e,Y.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var Oo=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Mo=class extends Oo.ValueComponent{static{r(this,"TypedDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new Oo.DropdownComponent(e),he(e,Y.TypedDropdownComponent)}addOption(e,n){let i=this.values.indexOf(e);return i===-1&&(this.values.push(e),i=this.values.length-1),this.dropdownComponent.addOption(String(i),n),this}addOptions(e){for(let[n,i]of e.entries())this.addOption(n,i);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Wh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Do=class extends Wh.ValueComponent{static{r(this,"TypedMultipleDropdownComponent")}get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new vr(e),he(e,Y.TypedMultipleDropdownComponent)}addOption(e,n){let i=this.values.indexOf(e);return i===-1&&(this.values.push(e),i=this.values.length-1),this.multipleDropdownComponent.addOption(String(i),n),this}addOptions(e){for(let[n,i]of e.entries())this.addOption(n,i);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(i=>this.values.indexOf(i)).filter(i=>i!==-1);return this.multipleDropdownComponent.setValue(n.map(i=>String(i))),this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Lo=class extends Oe{static{r(this,"UrlComponent")}constructor(e){super(e,"url",Y.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var eu=at(Nn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Vh="YYYY-[W]WW",Io=class extends et{static{r(this,"WeekComponent")}constructor(e){super(e,"week",Y.WeekComponent)}valueFromString(e){let n=(0,eu.default)(e,Vh);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,eu.default)().year(e.year).isoWeek(e.weekNumber).format(Vh)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var qe=class extends Yh.Setting{static{r(this,"SettingEx")}addCheckbox(e){return this.addComponent(fo,e)}addCodeHighlighter(e){return this.addComponent(ho,e)}addComponent(e,n){let i=new e(this.controlEl);return this.components.push(i),n(i),this}addDate(e){return this.addComponent(mo,e)}addDateTime(e){return this.addComponent(go,e)}addEmail(e){return this.addComponent(yo,e)}addFile(e){return this.addComponent(wo,e)}addMonth(e){return this.addComponent(bo,e)}addMultipleDropdown(e){return this.addComponent(vr,e)}addMultipleEmail(e){return this.addComponent(xo,e)}addMultipleFile(e){return this.addComponent(vo,e)}addMultipleText(e){return this.addComponent(Co,e)}addNumber(e){return this.addComponent(So,e)}addPassword(e){return this.addComponent(Eo,e)}addTelephone(e){return this.addComponent(To,e)}addTime(e){return this.addComponent(Po,e)}addTriStateCheckbox(e){return this.addComponent(_o,e)}addTypedDropdown(e){return this.addComponent(Mo,e)}addTypedMultipleDropdown(e){return this.addComponent(Do,e)}addUrl(e){return this.addComponent(Lo,e)}addWeek(e){return this.addComponent(Io,e)}};var Ro=class extends co{static{r(this,"PluginSettingsTab")}display(){super.display(),this.containerEl.empty();let e="Move Attachments with Note";new qe(this.containerEl).setName(e).setDesc("Automatically move attachments when a note is relocated. This includes attachments located in the same folder or any of its subfolders.").addToggle(a=>this.bind(a,"shouldMoveAttachmentsWithNote",{onChanged:r(async()=>{await this.checkDangerousSetting("shouldMoveAttachmentsWithNote",e)},"onChanged")}));let n="Delete Unused Attachments with Note";new qe(this.containerEl).setName(n).setDesc("Automatically remove attachments that are no longer referenced in other notes when the note is deleted.").addToggle(a=>this.bind(a,"shouldDeleteAttachmentsWithNote",{onChanged:r(async()=>{await this.checkDangerousSetting("shouldDeleteAttachmentsWithNote",n)},"onChanged")})),new qe(this.containerEl).setName("Update Links").setDesc("Automatically update links to attachments and other notes when moving notes or attachments.").addToggle(a=>this.bind(a,"shouldUpdateLinks")),new qe(this.containerEl).setName("Empty attachment folder behavior").setDesc(createFragment(a=>{a.appendText("When the attachment folder becomes empty, "),a.createEl("br"),wt(a,"Keep"),a.appendText(" - will keep the empty attachment folder, "),a.createEl("br"),wt(a,"Delete"),a.appendText(" - will delete the empty attachment folder, "),a.createEl("br"),wt(a,"Delete with empty parents"),a.appendText(" - will delete the empty attachment folder and its empty parent folders.")})).addDropdown(a=>{a.addOptions({[Ie.Keep]:"Keep",[Ie.Delete]:"Delete",[Ie.DeleteWithEmptyParents]:"Delete with empty parents"}),this.bind(a,"emptyAttachmentFolderBehavior",{componentToPluginSettingsValueConverter:r(l=>Ph(Ie,l),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:r(l=>Th(Ie,l),"pluginSettingsToComponentValueConverter")})});let i="Delete Duplicate Attachments on Note Move";new qe(this.containerEl).setName(i).setDesc("Automatically delete attachments when moving a note if a file with the same name exists in the destination folder. If disabled, the file will be renamed and moved.").addToggle(a=>this.bind(a,"shouldDeleteExistingFilesWhenMovingNote",{onChanged:r(async()=>{await this.checkDangerousSetting("shouldDeleteExistingFilesWhenMovingNote",i)},"onChanged")})),new qe(this.containerEl).setName("Update Backlink Text on Note Rename").setDesc("When a note is renamed, its linked references are automatically updated. If this option is enabled, the text of backlinks to this note will also be modified.").addToggle(a=>this.bind(a,"shouldChangeNoteBacklinksDisplayText")),new qe(this.containerEl).setName("Consistency Report Filename").setDesc("Specify the name of the file for the consistency report.").addText(a=>{this.bind(a,"consistencyReportFile")});let s="Auto Collect Attachments";new qe(this.containerEl).setName(s).setDesc("Automatically collect attachments when the note is edited.").addToggle(a=>this.bind(a,"shouldCollectAttachmentsAutomatically",{onChanged:r(async()=>{await this.checkDangerousSetting("shouldCollectAttachmentsAutomatically",s)},"onChanged")})),new qe(this.containerEl).setName("Include paths").setDesc(createFragment(a=>{a.appendText("Include notes from the following paths"),a.createEl("br"),a.appendText("Insert each path on a new line"),a.createEl("br"),a.appendText("You can use path string or "),wt(a,"/regular expression/"),a.createEl("br"),a.appendText("If the setting is empty, all notes are included")})).addMultipleText(a=>{this.bind(a,"includePaths")}),new qe(this.containerEl).setName("Exclude paths").setDesc(createFragment(a=>{a.appendText("Exclude notes from the following paths"),a.createEl("br"),a.appendText("Insert each path on a new line"),a.createEl("br"),a.appendText("You can use path string or "),wt(a,"/regular expression/"),a.createEl("br"),a.appendText("If the setting is empty, no notes are excluded")})).addMultipleText(a=>{this.bind(a,"excludePaths")}),new qe(this.containerEl).setName("Exclude paths from attachment collecting").setDesc(createFragment(a=>{a.appendText("Exclude attachments from the following paths when "),wt(a,"Collect attachments"),a.appendText(" command is executed."),a.createEl("br"),a.appendText("Insert each path on a new line"),a.createEl("br"),a.appendText("You can use path string or "),wt(a,"/regular expression/"),a.createEl("br"),a.appendText("If the setting is empty, no paths are excluded from attachment collecting.")})).addMultipleText(a=>{this.bind(a,"excludePathsFromAttachmentCollecting")}),new qe(this.containerEl).setName("Treat as attachment extensions").setDesc(createFragment(a=>{a.appendText("Treat files with these extensions as attachments."),a.createEl("br"),a.appendText("By default, "),wt(a,".md"),a.appendText(" and "),wt(a,".canvas"),a.appendText(" linked files are not treated as attachments and are not moved with the note."),a.createEl("br"),a.appendText("You can add custom extensions, e.g. "),wt(a,".foo.md"),a.appendText(", "),wt(a,".bar.canvas"),a.appendText(", to override this behavior.")})).addMultipleText(a=>{this.bind(a,"treatAsAttachmentExtensions")})}async checkDangerousSetting(e,n){this.plugin.settings[e]&&await os({app:this.app,message:createFragment(i=>{i.createDiv({cls:"community-modal-readme"},s=>{s.appendText("You enabled "),s.createEl("strong",{cls:"markdown-rendered-code",text:n}),s.appendText(" setting. Without proper configuration it might lead to inconvenient attachment rearrangements or even data loss in your vault."),s.createEl("br"),s.appendText("It is "),s.createEl("strong",{text:"STRONGLY"}),s.appendText(" recommended to backup your vault before using the plugin."),s.createEl("br"),s.createEl("a",{href:"https://github.com/dy-sh/obsidian-consistent-attachments-and-links?tab=readme-ov-file",text:"Read more"}),s.appendText(" about how to use the plugin.")})}),title:createFragment(i=>{(0,$h.setIcon)(i.createSpan(),"triangle-alert"),i.appendText(" Consistent Attachments and Links")})})}};var No=class extends ds{static{r(this,"Plugin")}deletedNoteCache=new Map;fh;lh;async onLoadSettings(e,n){await super.onLoadSettings(e,n),e.settings.revertDangerousSettings()}async onSaveSettings(e,n,i){await super.onSaveSettings(e,n,i),this.lh=new di(this),this.fh=new fi(this,this.lh)}createSettingsManager(){return new ao(this)}createSettingsTab(){return new Ro(this)}async onLayoutReady(){await this.showBackupWarning(),this.registerEvent(this.app.metadataCache.on("deleted",(e,n)=>{n&&this.handleDeletedMetadata(e,n)})),this.registerEvent(this.app.metadataCache.on("changed",e=>{pt(this.app,n=>this.handleMetadataCacheChanged(e,n),this.abortSignal)}))}async onloadImpl(){await super.onloadImpl(),vh(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:r(n=>this.fh.isNoteEx(n),"isNote"),isPathIgnored:r(n=>this.settings.isPathIgnored(n),"isPathIgnored"),shouldDeleteConflictingAttachments:this.settings.shouldDeleteExistingFilesWhenMovingNote,shouldHandleDeletions:this.settings.shouldDeleteAttachmentsWithNote,shouldHandleRenames:this.settings.shouldUpdateLinks,shouldRenameAttachmentFolder:this.settings.shouldMoveAttachmentsWithNote,shouldUpdateFileNameAliases:this.settings.shouldChangeNoteBacklinksDisplayText})),this.addCommand({callback:r(()=>this.collectAllAttachments(),"callback"),id:"collect-all-attachments",name:"Collect All Attachments"}),this.addCommand({checkCallback:r(e=>this.collectAttachmentsCurrentFolder(e),"checkCallback"),id:"collect-attachments-current-folder",name:"Collect Attachments in Current Folder"}),this.addCommand({checkCallback:this.collectAttachmentsCurrentNote.bind(this),id:"collect-attachments-current-note",name:"Collect Attachments in Current Note"}),this.addCommand({callback:r(()=>this.deleteEmptyFolders(),"callback"),id:"delete-empty-folders",name:"Delete Empty Folders"}),this.addCommand({callback:r(()=>this.convertAllLinkPathsToRelative(this.abortSignal),"callback"),id:"convert-all-link-paths-to-relative",name:"Convert All Link Paths to Relative"}),this.addCommand({checkCallback:this.convertAllLinkPathsToRelativeCurrentNote.bind(this),id:"convert-all-link-paths-to-relative-current-note",name:"Convert All Link Paths to Relative in Current Note"}),this.addCommand({callback:r(()=>this.convertAllEmbedsPathsToRelative(),"callback"),id:"convert-all-embed-paths-to-relative",name:"Convert All Embed Paths to Relative"}),this.addCommand({checkCallback:this.convertAllEmbedsPathsToRelativeCurrentNote.bind(this),id:"convert-all-embed-paths-to-relative-current-note",name:"Convert All Embed Paths to Relative in Current Note"}),this.addCommand({callback:r(()=>this.replaceAllWikilinksWithMarkdownLinks(),"callback"),id:"replace-all-wikilinks-with-markdown-links",name:"Replace All Wiki Links with Markdown Links"}),this.addCommand({checkCallback:this.replaceAllWikilinksWithMarkdownLinksCurrentNote.bind(this),id:"replace-all-wikilinks-with-markdown-links-current-note",name:"Replace All Wiki Links with Markdown Links in Current Note"}),this.addCommand({callback:r(()=>this.replaceAllWikiEmbedsWithMarkdownEmbeds(),"callback"),id:"replace-all-wiki-embeds-with-markdown-embeds",name:"Replace All Wiki Embeds with Markdown Embeds"}),this.addCommand({checkCallback:this.replaceAllWikiEmbedsWithMarkdownEmbedsCurrentNote.bind(this),id:"replace-all-wiki-embeds-with-markdown-embeds-current-note",name:"Replace All Wiki Embeds with Markdown Embeds in Current Note"}),this.addCommand({callback:r(()=>this.reorganizeVault(),"callback"),id:"reorganize-vault",name:"Reorganize Vault"}),this.addCommand({callback:r(()=>this.checkConsistency(),"callback"),id:"check-consistency",name:"Check Vault consistency"}),this.registerEvent(this.app.workspace.on("file-menu",(e,n)=>{this.handleFileMenu(e,n)})),this.lh=new di(this),this.fh=new fi(this,this.lh)}async checkConsistency(){await this.saveAllOpenNotes();let e=new gn("Bad links"),n=new gn("Bad embeds"),i=new gn("Wiki links"),s=new gn("Wiki embeds"),a=new gn("Bad frontmatter links");await Pn({abortSignal:this.abortSignal,buildNoticeMessage:r((p,g)=>`Checking note ${g} - ${p.path}`,"buildNoticeMessage"),items:wr(this.app),processItem:r(async p=>{await this.lh.checkConsistency(p,e,n,i,s,a)},"processItem"),progressBarTitle:"Consistent Attachments and Links: Checking vault consistency...",shouldContinueOnError:!0,shouldShowProgressBar:!0});let l=this.settings.consistencyReportFile,c=[e,n,i,s,a].map(p=>p.toString(this.app,l)).join("");await yr(this.app,de(l));let d=await uc(this.app,l);await this.app.vault.modify(d,c);let h=!1;this.app.workspace.iterateAllLeaves(p=>{p.getDisplayText()!==""&&l.startsWith(p.getDisplayText())&&(h=!0)}),h||await this.app.workspace.openLinkText(l,"/",!1)}async collectAllAttachments(){await this.collectAttachmentsInFolder("/",this.abortSignal)}async collectAttachments(e,n,i=!0){if(n.throwIfAborted(),this.settings.isPathIgnored(e.path)){i&&new Te.Notice("Note path is ignored");return}await this.saveAllOpenNotes(),n.throwIfAborted();let s=await this.fh.collectAttachmentsForCachedNote(e.path);n.throwIfAborted(),s.movedAttachments.length>0&&(await this.lh.updateChangedPathsInNote(e.path,s.movedAttachments),n.throwIfAborted()),s.movedAttachments.length===0?i&&new Te.Notice("No files found that need to be moved"):new Te.Notice(`Moved ${String(s.movedAttachments.length)} attachment${s.movedAttachments.length>1?"s":""}`)}collectAttachmentsCurrentFolder(e){let n=this.app.workspace.getActiveFile();return!n||!Ee(this.app,n)?!1:(e||pt(this.app,i=>this.collectAttachmentsInFolder(n.parent?.path??"/",i),this.abortSignal),!0)}collectAttachmentsCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!Ee(this.app,n)?!1:(e||pt(this.app,i=>this.collectAttachments(n,i),this.abortSignal),!0)}async collectAttachmentsInFolder(e,n){n.throwIfAborted();let i=0,s=0;await this.saveAllOpenNotes(),await Pn({abortSignal:n,buildNoticeMessage:r((a,l)=>`Collecting attachments ${l} - ${a.path}`,"buildNoticeMessage"),items:lc(this.app,e,!0),processItem:r(async a=>{if(n.throwIfAborted(),this.settings.isPathIgnored(a.path))return;let l=await this.fh.collectAttachmentsForCachedNote(a.path);n.throwIfAborted(),l.movedAttachments.length>0&&(await this.lh.updateChangedPathsInNote(a.path,l.movedAttachments),n.throwIfAborted(),i+=l.movedAttachments.length,s++)},"processItem"),progressBarTitle:"Consistent Attachments and Links: Collecting attachments...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),i===0?new Te.Notice("No files found that need to be moved"):new Te.Notice(`Moved ${String(i)} attachment${i>1?"s":""} from ${String(s)} note${s>1?"s":""}`)}async convertAllEmbedsPathsToRelative(){await this.saveAllOpenNotes();let e=0,n=0;await Pn({abortSignal:this.abortSignal,buildNoticeMessage:r((i,s)=>`Converting embed paths to relative ${s} - ${i.path}`,"buildNoticeMessage"),items:wr(this.app),processItem:r(async i=>{if(this.settings.isPathIgnored(i.path))return;let s=await this.lh.convertAllNoteEmbedsPathsToRelative(i.path,this.abortSignal);s.length>0&&(e+=s.length,n++)},"processItem"),progressBarTitle:"Consistent Attachments and Links: Converting embed paths to relative...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new Te.Notice("No embeds found that need to be converted"):new Te.Notice(`Converted ${String(e)} embed${e>1?"s":""} from ${String(n)} note${n>1?"s":""}`)}convertAllEmbedsPathsToRelativeCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!Ee(this.app,n)?!1:(e||pt(this.app,Lr(i=>this.lh.convertAllNoteEmbedsPathsToRelative(n.path,i)),this.abortSignal),!0)}async convertAllLinkPathsToRelative(e){e.throwIfAborted(),await this.saveAllOpenNotes(),e.throwIfAborted();let n=0,i=0;await Pn({abortSignal:e,buildNoticeMessage:r((s,a)=>`Converting link paths to relative ${a} - ${s.path}`,"buildNoticeMessage"),items:wr(this.app),processItem:r(async s=>{if(this.settings.isPathIgnored(s.path))return;let a=await this.lh.convertAllNoteLinksPathsToRelative(s.path,e);a.length>0&&(n+=a.length,i++)},"processItem"),progressBarTitle:"Consistent Attachments and Links: Converting link paths to relative...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),n===0?new Te.Notice("No links found that need to be converted"):new Te.Notice(`Converted ${String(n)} link${n>1?"s":""} from ${String(i)} note${i>1?"s":""}`)}convertAllLinkPathsToRelativeCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!Ee(this.app,n)?!1:(e||pt(this.app,Lr(i=>this.lh.convertAllNoteLinksPathsToRelative(n.path,i)),this.abortSignal),!0)}async deleteEmptyFolders(){await this.fh.deleteEmptyFolders("/")}handleDeletedMetadata(e,n){!this.settings.shouldDeleteAttachmentsWithNote||this.settings.isPathIgnored(e.path)||!Ee(this.app,e)||this.deletedNoteCache.set(e.path,n)}handleFileMenu(e,n){Vr(n)&&e.addItem(i=>{i.setTitle("Collect attachments in folder").setIcon("download").onClick(()=>this.collectAttachmentsInFolder(n.path,this.abortSignal))})}async handleMetadataCacheChanged(e,n){if(n.throwIfAborted(),!this.settings.shouldCollectAttachmentsAutomatically)return;let i=document.querySelector(".suggestion-container");i&&i.style.display!=="none"||await this.collectAttachments(e,n,!1)}async reorganizeVault(){await this.saveAllOpenNotes(),await this.replaceAllWikilinksWithMarkdownLinks(),await this.replaceAllWikiEmbedsWithMarkdownEmbeds(),await this.convertAllEmbedsPathsToRelative(),await this.convertAllLinkPathsToRelative(this.abortSignal),await this.collectAllAttachments(),await this.deleteEmptyFolders(),new Te.Notice("Reorganization of the vault completed")}async replaceAllWikiEmbedsWithMarkdownEmbeds(){await this.saveAllOpenNotes();let e=0,n=0;await Pn({abortSignal:this.abortSignal,buildNoticeMessage:r((i,s)=>`Replacing wiki embeds with markdown embeds ${s} - ${i.path}`,"buildNoticeMessage"),items:wr(this.app),processItem:r(async i=>{if(this.settings.isPathIgnored(i.path))return;let s=await this.lh.replaceAllNoteWikilinksWithMarkdownLinks(i.path,!0,this.abortSignal);e+=s,n++},"processItem"),progressBarTitle:"Consistent Attachments and Links: Replacing wiki embeds with markdown embeds...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new Te.Notice("No wiki embeds found that need to be replaced"):new Te.Notice(`Replaced ${String(e)} wiki embed${e>1?"s":""} from ${String(n)} note${n>1?"s":""}`)}replaceAllWikiEmbedsWithMarkdownEmbedsCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!Ee(this.app,n)?!1:(e||pt(this.app,Lr(i=>this.lh.replaceAllNoteWikilinksWithMarkdownLinks(n.path,!0,i)),this.abortSignal),!0)}async replaceAllWikilinksWithMarkdownLinks(){await this.saveAllOpenNotes();let e=0,n=0;await Pn({abortSignal:this.abortSignal,buildNoticeMessage:r((i,s)=>`Replacing wikilinks with markdown links ${s} - ${i.path}`,"buildNoticeMessage"),items:wr(this.app),processItem:r(async i=>{if(this.settings.isPathIgnored(i.path))return;let s=await this.lh.replaceAllNoteWikilinksWithMarkdownLinks(i.path,!1,this.abortSignal);e+=s,n++},"processItem"),progressBarTitle:"Consistent Attachments and Links: Replacing wikilinks with markdown links...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new Te.Notice("No wiki links found that need to be replaced"):new Te.Notice(`Replaced ${String(e)} wikilink${e>1?"s":""} from ${String(n)} note${n>1?"s":""}`)}replaceAllWikilinksWithMarkdownLinksCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!Ee(this.app,n)?!1:(e||pt(this.app,Lr(i=>this.lh.replaceAllNoteWikilinksWithMarkdownLinks(n.path,!1,i)),this.abortSignal),!0)}async saveAllOpenNotes(){for(let e of this.app.workspace.getLeavesOfType("markdown"))e.view instanceof Te.MarkdownView&&await e.view.save()}async showBackupWarning(){this.settings.shouldShowBackupWarning&&(await os({app:this.app,message:createFragment(e=>{e.createDiv({cls:"community-modal-readme"},n=>{n.appendText("Using 'Consistent Attachments and Links' plugin without proper configuration might lead to inconvenient attachment rearrangements or even data loss in your vault."),n.createEl("br"),n.appendText("It is "),n.createEl("strong",{text:"STRONGLY"}),n.appendText(" recommended to backup your vault before using the plugin."),n.createEl("br"),this.settings.hadDangerousSettingsReverted&&(n.appendText("Some of your plugin settings has been changed to their safe values."),n.createEl("br")),n.createEl("a",{href:"https://github.com/dy-sh/obsidian-consistent-attachments-and-links?tab=readme-ov-file",text:"Read more"}),n.appendText(" about how to use the plugin."),n.createEl("br"),n.appendText("This warning will not appear again.")})}),title:createFragment(e=>{(0,Te.setIcon)(e.createSpan(),"triangle-alert"),e.appendText(" Consistent Attachments and Links")})}),await this.settingsManager.editAndSave(e=>{e.shouldShowBackupWarning=!1}))}};var jk=No;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */