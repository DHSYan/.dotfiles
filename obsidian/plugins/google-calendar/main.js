/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var CM=Object.create;var ol=Object.defineProperty,SM=Object.defineProperties,DM=Object.getOwnPropertyDescriptor,OM=Object.getOwnPropertyDescriptors,AM=Object.getOwnPropertyNames,e_=Object.getOwnPropertySymbols,MM=Object.getPrototypeOf,t_=Object.prototype.hasOwnProperty,xM=Object.prototype.propertyIsEnumerable;var n_=(t,e,n)=>e in t?ol(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hr=(t,e)=>{for(var n in e||(e={}))t_.call(e,n)&&n_(t,n,e[n]);if(e_)for(var n of e_(e))xM.call(e,n)&&n_(t,n,e[n]);return t},Ju=(t,e)=>SM(t,OM(e)),r_=t=>ol(t,"__esModule",{value:!0});var l4=typeof require!="undefined"?require:t=>{throw new Error('Dynamic require of "'+t+'" is not supported')};var Fi=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),i_=(t,e)=>{r_(t);for(var n in e)ol(t,n,{get:e[n],enumerable:!0})},PM=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of AM(e))!t_.call(t,r)&&r!=="default"&&ol(t,r,{get:()=>e[r],enumerable:!(n=DM(e,r))||n.enumerable});return t},Me=t=>PM(r_(ol(t!=null?CM(MM(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var $=(t,e,n)=>new Promise((r,i)=>{var o=f=>{try{u(n.next(f))}catch(c){i(c)}},a=f=>{try{u(n.throw(f))}catch(c){i(c)}},u=f=>f.done?r(f.value):Promise.resolve(f.value).then(o,a);u((n=n.apply(t,e)).next())});var ff=Fi(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});var Qt=require("obsidian"),om="YYYY-MM-DD",sm="gggg-[W]ww",z_="YYYY-MM",H_="YYYY-[Q]Q",V_="YYYY";function hl(t){var n,r;let e=window.app.plugins.getPlugin("periodic-notes");return e&&((r=(n=e.settings)==null?void 0:n[t])==null?void 0:r.enabled)}function gl(){var t,e,n,r;try{let{internalPlugins:i,plugins:o}=window.app;if(hl("daily")){let{format:c,folder:d,template:m}=((e=(t=o.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:e.daily)||{};return{format:c||om,folder:(d==null?void 0:d.trim())||"",template:(m==null?void 0:m.trim())||""}}let{folder:a,format:u,template:f}=((r=(n=i.getPluginById("daily-notes"))==null?void 0:n.instance)==null?void 0:r.options)||{};return{format:u||om,folder:(a==null?void 0:a.trim())||"",template:(f==null?void 0:f.trim())||""}}catch(i){console.info("No custom daily note settings found!",i)}}function vl(){var t,e,n,r,i,o,a;try{let u=window.app.plugins,f=(t=u.getPlugin("calendar"))==null?void 0:t.options,c=(n=(e=u.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:n.weekly;if(hl("weekly"))return{format:c.format||sm,folder:((r=c.folder)==null?void 0:r.trim())||"",template:((i=c.template)==null?void 0:i.trim())||""};let d=f||{};return{format:d.weeklyNoteFormat||sm,folder:((o=d.weeklyNoteFolder)==null?void 0:o.trim())||"",template:((a=d.weeklyNoteTemplate)==null?void 0:a.trim())||""}}catch(u){console.info("No custom weekly note settings found!",u)}}function _l(){var e,n,r,i;let t=window.app.plugins;try{let o=hl("monthly")&&((n=(e=t.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:n.monthly)||{};return{format:o.format||z_,folder:((r=o.folder)==null?void 0:r.trim())||"",template:((i=o.template)==null?void 0:i.trim())||""}}catch(o){console.info("No custom monthly note settings found!",o)}}function yl(){var e,n,r,i;let t=window.app.plugins;try{let o=hl("quarterly")&&((n=(e=t.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:n.quarterly)||{};return{format:o.format||H_,folder:((r=o.folder)==null?void 0:r.trim())||"",template:((i=o.template)==null?void 0:i.trim())||""}}catch(o){console.info("No custom quarterly note settings found!",o)}}function wl(){var e,n,r,i;let t=window.app.plugins;try{let o=hl("yearly")&&((n=(e=t.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:n.yearly)||{};return{format:o.format||V_,folder:((r=o.folder)==null?void 0:r.trim())||"",template:((i=o.template)==null?void 0:i.trim())||""}}catch(o){console.info("No custom yearly note settings found!",o)}}function q_(...t){let e=[];for(let r=0,i=t.length;r<i;r++)e=e.concat(t[r].split("/"));let n=[];for(let r=0,i=e.length;r<i;r++){let o=e[r];!o||o==="."||n.push(o)}return e[0]===""&&n.unshift(""),n.join("/")}function _x(t){let e=t.substring(t.lastIndexOf("/")+1);return e.lastIndexOf(".")!=-1&&(e=e.substring(0,e.lastIndexOf("."))),e}function yx(t){return $(this,null,function*(){let e=t.replace(/\\/g,"/").split("/");if(e.pop(),e.length){let n=q_(...e);window.app.vault.getAbstractFileByPath(n)||(yield window.app.vault.createFolder(n))}})}function bl(t,e){return $(this,null,function*(){e.endsWith(".md")||(e+=".md");let n=Qt.normalizePath(q_(t,e));return yield yx(n),n})}function Zs(t){return $(this,null,function*(){let{metadataCache:e,vault:n}=window.app,r=Qt.normalizePath(t);if(r==="/")return Promise.resolve(["",null]);try{let i=e.getFirstLinkpathDest(r,""),o=yield n.cachedRead(i),a=window.app.foldManager.load(i);return[o,a]}catch(i){return console.error(`Failed to read the daily note template '${r}'`,i),new Qt.Notice("Failed to read the daily note template"),["",null]}})}function Xr(t,e="day"){let n=t.clone().startOf(e).format();return`${e}-${n}`}function K_(t){return t.replace(/\[[^\]]*\]/g,"")}function wx(t,e){if(e==="week"){let n=K_(t);return/w{1,2}/i.test(n)&&(/M{1,4}/.test(n)||/D{1,4}/.test(n))}return!1}function Xs(t,e){return Z_(t.basename,e)}function bx(t,e){return Z_(_x(t),e)}function Z_(t,e){let r={day:gl,week:vl,month:_l,quarter:yl,year:wl}[e]().format.split("/").pop(),i=window.moment(t,r,!0);if(!i.isValid())return null;if(wx(r,e)&&e==="week"){let o=K_(r);if(/w{1,2}/i.test(o))return window.moment(t,r.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return i}var X_=class extends Error{};function J_(t){return $(this,null,function*(){let e=window.app,{vault:n}=e,r=window.moment,{template:i,format:o,folder:a}=gl(),[u,f]=yield Zs(i),c=t.format(o),d=yield bl(a,c);try{let m=yield n.create(d,u.replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,r().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(h,v,_,b,E,w)=>{let C=r(),A=t.clone().set({hour:C.get("hour"),minute:C.get("minute"),second:C.get("second")});return _&&A.add(parseInt(b,10),E),w?A.format(w.substring(1).trim()):A.format(o)}).replace(/{{\s*yesterday\s*}}/gi,t.clone().subtract(1,"day").format(o)).replace(/{{\s*tomorrow\s*}}/gi,t.clone().add(1,"d").format(o)));return e.foldManager.save(m,f),m}catch(m){console.error(`Failed to create file: '${d}'`,m),new Qt.Notice("Unable to create new file.")}})}function kx(t,e){var n;return(n=e[Xr(t,"day")])!=null?n:null}function Ex(){let{vault:t}=window.app,{folder:e}=gl(),n=t.getAbstractFileByPath(Qt.normalizePath(e));if(!n)throw new X_("Failed to find daily notes folder");let r={};return Qt.Vault.recurseChildren(n,i=>{if(i instanceof Qt.TFile){let o=Xs(i,"day");if(o){let a=Xr(o,"day");r[a]=i}}}),r}var Q_=class extends Error{};function Tx(){let{moment:t}=window,e=t.localeData()._week.dow,n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;e;)n.push(n.shift()),e--;return n}function Cx(t){return Tx().indexOf(t.toLowerCase())}function $_(t){return $(this,null,function*(){let{vault:e}=window.app,{template:n,format:r,folder:i}=vl(),[o,a]=yield Zs(n),u=t.format(r),f=yield bl(i,u);try{let c=yield e.create(f,o.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(d,m,h,v,_,b)=>{let E=window.moment(),w=t.clone().set({hour:E.get("hour"),minute:E.get("minute"),second:E.get("second")});return h&&w.add(parseInt(v,10),_),b?w.format(b.substring(1).trim()):w.format(r)}).replace(/{{\s*title\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(d,m,h)=>{let v=Cx(m);return t.weekday(v).format(h.trim())}));return window.app.foldManager.save(c,a),c}catch(c){console.error(`Failed to create file: '${f}'`,c),new Qt.Notice("Unable to create new file.")}})}function Sx(t,e){var n;return(n=e[Xr(t,"week")])!=null?n:null}function Dx(){let t={};if(!i1())return t;let{vault:e}=window.app,{folder:n}=vl(),r=e.getAbstractFileByPath(Qt.normalizePath(n));if(!r)throw new Q_("Failed to find weekly notes folder");return Qt.Vault.recurseChildren(r,i=>{if(i instanceof Qt.TFile){let o=Xs(i,"week");if(o){let a=Xr(o,"week");t[a]=i}}}),t}var e1=class extends Error{};function t1(t){return $(this,null,function*(){let{vault:e}=window.app,{template:n,format:r,folder:i}=_l(),[o,a]=yield Zs(n),u=t.format(r),f=yield bl(i,u);try{let c=yield e.create(f,o.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(d,m,h,v,_,b)=>{let E=window.moment(),w=t.clone().set({hour:E.get("hour"),minute:E.get("minute"),second:E.get("second")});return h&&w.add(parseInt(v,10),_),b?w.format(b.substring(1).trim()):w.format(r)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(c,a),c}catch(c){console.error(`Failed to create file: '${f}'`,c),new Qt.Notice("Unable to create new file.")}})}function Ox(t,e){var n;return(n=e[Xr(t,"month")])!=null?n:null}function Ax(){let t={};if(!o1())return t;let{vault:e}=window.app,{folder:n}=_l(),r=e.getAbstractFileByPath(Qt.normalizePath(n));if(!r)throw new e1("Failed to find monthly notes folder");return Qt.Vault.recurseChildren(r,i=>{if(i instanceof Qt.TFile){let o=Xs(i,"month");if(o){let a=Xr(o,"month");t[a]=i}}}),t}var n1=class extends Error{};function Mx(t){return $(this,null,function*(){let{vault:e}=window.app,{template:n,format:r,folder:i}=yl(),[o,a]=yield Zs(n),u=t.format(r),f=yield bl(i,u);try{let c=yield e.create(f,o.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(d,m,h,v,_,b)=>{let E=window.moment(),w=t.clone().set({hour:E.get("hour"),minute:E.get("minute"),second:E.get("second")});return h&&w.add(parseInt(v,10),_),b?w.format(b.substring(1).trim()):w.format(r)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(c,a),c}catch(c){console.error(`Failed to create file: '${f}'`,c),new Qt.Notice("Unable to create new file.")}})}function xx(t,e){var n;return(n=e[Xr(t,"quarter")])!=null?n:null}function Px(){let t={};if(!s1())return t;let{vault:e}=window.app,{folder:n}=yl(),r=e.getAbstractFileByPath(Qt.normalizePath(n));if(!r)throw new n1("Failed to find quarterly notes folder");return Qt.Vault.recurseChildren(r,i=>{if(i instanceof Qt.TFile){let o=Xs(i,"quarter");if(o){let a=Xr(o,"quarter");t[a]=i}}}),t}var r1=class extends Error{};function Nx(t){return $(this,null,function*(){let{vault:e}=window.app,{template:n,format:r,folder:i}=wl(),[o,a]=yield Zs(n),u=t.format(r),f=yield bl(i,u);try{let c=yield e.create(f,o.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(d,m,h,v,_,b)=>{let E=window.moment(),w=t.clone().set({hour:E.get("hour"),minute:E.get("minute"),second:E.get("second")});return h&&w.add(parseInt(v,10),_),b?w.format(b.substring(1).trim()):w.format(r)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(c,a),c}catch(c){console.error(`Failed to create file: '${f}'`,c),new Qt.Notice("Unable to create new file.")}})}function Rx(t,e){var n;return(n=e[Xr(t,"year")])!=null?n:null}function Ix(){let t={};if(!a1())return t;let{vault:e}=window.app,{folder:n}=wl(),r=e.getAbstractFileByPath(Qt.normalizePath(n));if(!r)throw new r1("Failed to find yearly notes folder");return Qt.Vault.recurseChildren(r,i=>{if(i instanceof Qt.TFile){let o=Xs(i,"year");if(o){let a=Xr(o,"year");t[a]=i}}}),t}function Lx(){var r,i;let{app:t}=window,e=t.internalPlugins.plugins["daily-notes"];if(e&&e.enabled)return!0;let n=t.plugins.getPlugin("periodic-notes");return n&&((i=(r=n.settings)==null?void 0:r.daily)==null?void 0:i.enabled)}function i1(){var n,r;let{app:t}=window;if(t.plugins.getPlugin("calendar"))return!0;let e=t.plugins.getPlugin("periodic-notes");return e&&((r=(n=e.settings)==null?void 0:n.weekly)==null?void 0:r.enabled)}function o1(){var n,r;let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&((r=(n=e.settings)==null?void 0:n.monthly)==null?void 0:r.enabled)}function s1(){var n,r;let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&((r=(n=e.settings)==null?void 0:n.quarterly)==null?void 0:r.enabled)}function a1(){var n,r;let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&((r=(n=e.settings)==null?void 0:n.yearly)==null?void 0:r.enabled)}function Fx(t){return{day:gl,week:vl,month:_l,quarter:yl,year:wl}[t]()}function Wx(t,e){return{day:J_,month:t1,week:$_}[t](e)}mt.DEFAULT_DAILY_NOTE_FORMAT=om;mt.DEFAULT_MONTHLY_NOTE_FORMAT=z_;mt.DEFAULT_QUARTERLY_NOTE_FORMAT=H_;mt.DEFAULT_WEEKLY_NOTE_FORMAT=sm;mt.DEFAULT_YEARLY_NOTE_FORMAT=V_;mt.appHasDailyNotesPluginLoaded=Lx;mt.appHasMonthlyNotesPluginLoaded=o1;mt.appHasQuarterlyNotesPluginLoaded=s1;mt.appHasWeeklyNotesPluginLoaded=i1;mt.appHasYearlyNotesPluginLoaded=a1;mt.createDailyNote=J_;mt.createMonthlyNote=t1;mt.createPeriodicNote=Wx;mt.createQuarterlyNote=Mx;mt.createWeeklyNote=$_;mt.createYearlyNote=Nx;mt.getAllDailyNotes=Ex;mt.getAllMonthlyNotes=Ax;mt.getAllQuarterlyNotes=Px;mt.getAllWeeklyNotes=Dx;mt.getAllYearlyNotes=Ix;mt.getDailyNote=kx;mt.getDailyNoteSettings=gl;mt.getDateFromFile=Xs;mt.getDateFromPath=bx;mt.getDateUID=Xr;mt.getMonthlyNote=Ox;mt.getMonthlyNoteSettings=_l;mt.getPeriodicNoteSettings=Fx;mt.getQuarterlyNote=xx;mt.getQuarterlyNoteSettings=yl;mt.getTemplateInfo=Zs;mt.getWeeklyNote=Sx;mt.getWeeklyNoteSettings=vl;mt.getYearlyNote=Rx;mt.getYearlyNoteSettings=wl});var di=Fi((Js,kl)=>{(function(){var t,e="4.17.21",n=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",o="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",u=500,f="__lodash_placeholder__",c=1,d=2,m=4,h=1,v=2,_=1,b=2,E=4,w=8,C=16,A=32,Y=64,M=128,P=256,L=512,S=30,F="...",ae=800,z=16,X=1,V=2,pe=3,O=1/0,Z=9007199254740991,te=17976931348623157e292,U=0/0,J=4294967295,se=J-1,j=J>>>1,K=[["ary",M],["bind",_],["bindKey",b],["curry",w],["curryRight",C],["flip",L],["partial",A],["partialRight",Y],["rearg",P]],Q="[object Arguments]",ge="[object Array]",ue="[object AsyncFunction]",_e="[object Boolean]",De="[object Date]",nt="[object DOMException]",ut="[object Error]",ye="[object Function]",Ee="[object GeneratorFunction]",pt="[object Map]",Tt="[object Number]",On="[object Null]",ft="[object Object]",Ze="[object Promise]",$n="[object Proxy]",ar="[object RegExp]",yn="[object Set]",wn="[object String]",Un="[object Symbol]",Vt="[object Undefined]",zn="[object WeakMap]",An="[object WeakSet]",bn="[object ArrayBuffer]",Hn="[object DataView]",er="[object Float32Array]",tr="[object Float64Array]",$i="[object Int8Array]",ai="[object Int16Array]",Fo="[object Int32Array]",Wo="[object Uint8Array]",re="[object Uint8ClampedArray]",xe="[object Uint16Array]",Ct="[object Uint32Array]",At=/\b__p \+= '';/g,lr=/\b(__p \+=) '' \+/g,Si=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cs=/&(?:amp|lt|gt|quot|#39);/g,Ss=/[&<>"']/g,ad=RegExp(Cs.source),ld=RegExp(Ss.source),ud=/<%-([\s\S]+?)%>/g,fd=/<%([\s\S]+?)%>/g,ou=/<%=([\s\S]+?)%>/g,cd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dd=/^\w*$/,pd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ya=/[\\^$.*+?()[\]{}|]/g,md=RegExp(Ya.source),Ba=/^\s+/,hd=/\s/,gd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vd=/\{\n\/\* \[wrapped with (.+)\] \*/,_d=/,? & /,yd=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wd=/[()=,{}\[\]\/\s]/,bd=/\\(\\)?/g,kd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,su=/\w*$/,Ed=/^[-+]0x[0-9a-f]+$/i,Td=/^0b[01]+$/i,Cd=/^\[object .+?Constructor\]$/,Sd=/^0o[0-7]+$/i,Dd=/^(?:0|[1-9]\d*)$/,Od=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ds=/($^)/,Ad=/['\n\r\u2028\u2029\\]/g,Os="\\ud800-\\udfff",Md="\\u0300-\\u036f",xd="\\ufe20-\\ufe2f",Pd="\\u20d0-\\u20ff",au=Md+xd+Pd,lu="\\u2700-\\u27bf",uu="a-z\\xdf-\\xf6\\xf8-\\xff",Nd="\\xac\\xb1\\xd7\\xf7",Rd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",fu="\\u2000-\\u206f",R=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",He="A-Z\\xc0-\\xd6\\xd8-\\xde",xt="\\ufe0e\\ufe0f",St=Nd+Rd+fu+R,Gr="['\u2019]",Ga="["+Os+"]",Yo="["+St+"]",li="["+au+"]",ja="\\d+",cu="["+lu+"]",As="["+uu+"]",Di="[^"+Os+St+ja+lu+uu+He+"]",Bo="\\ud83c[\\udffb-\\udfff]",DT="(?:"+li+"|"+Bo+")",Yh="[^"+Os+"]",Id="(?:\\ud83c[\\udde6-\\uddff]){2}",Ld="[\\ud800-\\udbff][\\udc00-\\udfff]",Ms="["+He+"]",Bh="\\u200d",Gh="(?:"+As+"|"+Di+")",OT="(?:"+Ms+"|"+Di+")",jh="(?:"+Gr+"(?:d|ll|m|re|s|t|ve))?",Uh="(?:"+Gr+"(?:D|LL|M|RE|S|T|VE))?",zh=DT+"?",Hh="["+xt+"]?",AT="(?:"+Bh+"(?:"+[Yh,Id,Ld].join("|")+")"+Hh+zh+")*",MT="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xT="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vh=Hh+zh+AT,PT="(?:"+[cu,Id,Ld].join("|")+")"+Vh,NT="(?:"+[Yh+li+"?",li,Id,Ld,Ga].join("|")+")",RT=RegExp(Gr,"g"),IT=RegExp(li,"g"),Fd=RegExp(Bo+"(?="+Bo+")|"+NT+Vh,"g"),LT=RegExp([Ms+"?"+As+"+"+jh+"(?="+[Yo,Ms,"$"].join("|")+")",OT+"+"+Uh+"(?="+[Yo,Ms+Gh,"$"].join("|")+")",Ms+"?"+Gh+"+"+jh,Ms+"+"+Uh,xT,MT,ja,PT].join("|"),"g"),FT=RegExp("["+Bh+Os+au+xt+"]"),WT=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,YT=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],BT=-1,qt={};qt[er]=qt[tr]=qt[$i]=qt[ai]=qt[Fo]=qt[Wo]=qt[re]=qt[xe]=qt[Ct]=!0,qt[Q]=qt[ge]=qt[bn]=qt[_e]=qt[Hn]=qt[De]=qt[ut]=qt[ye]=qt[pt]=qt[Tt]=qt[ft]=qt[ar]=qt[yn]=qt[wn]=qt[zn]=!1;var jt={};jt[Q]=jt[ge]=jt[bn]=jt[Hn]=jt[_e]=jt[De]=jt[er]=jt[tr]=jt[$i]=jt[ai]=jt[Fo]=jt[pt]=jt[Tt]=jt[ft]=jt[ar]=jt[yn]=jt[wn]=jt[Un]=jt[Wo]=jt[re]=jt[xe]=jt[Ct]=!0,jt[ut]=jt[ye]=jt[zn]=!1;var GT={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},jT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},UT={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},zT={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},HT=parseFloat,VT=parseInt,qh=typeof global=="object"&&global&&global.Object===Object&&global,qT=typeof self=="object"&&self&&self.Object===Object&&self,kn=qh||qT||Function("return this")(),Wd=typeof Js=="object"&&Js&&!Js.nodeType&&Js,Go=Wd&&typeof kl=="object"&&kl&&!kl.nodeType&&kl,Kh=Go&&Go.exports===Wd,Yd=Kh&&qh.process,Tr=function(){try{var H=Go&&Go.require&&Go.require("util").types;return H||Yd&&Yd.binding&&Yd.binding("util")}catch(le){}}(),Zh=Tr&&Tr.isArrayBuffer,Xh=Tr&&Tr.isDate,Jh=Tr&&Tr.isMap,Qh=Tr&&Tr.isRegExp,$h=Tr&&Tr.isSet,eg=Tr&&Tr.isTypedArray;function ur(H,le,oe){switch(oe.length){case 0:return H.call(le);case 1:return H.call(le,oe[0]);case 2:return H.call(le,oe[0],oe[1]);case 3:return H.call(le,oe[0],oe[1],oe[2])}return H.apply(le,oe)}function KT(H,le,oe,Te){for(var Xe=-1,Mt=H==null?0:H.length;++Xe<Mt;){var pn=H[Xe];le(Te,pn,oe(pn),H)}return Te}function Cr(H,le){for(var oe=-1,Te=H==null?0:H.length;++oe<Te&&le(H[oe],oe,H)!==!1;);return H}function ZT(H,le){for(var oe=H==null?0:H.length;oe--&&le(H[oe],oe,H)!==!1;);return H}function tg(H,le){for(var oe=-1,Te=H==null?0:H.length;++oe<Te;)if(!le(H[oe],oe,H))return!1;return!0}function eo(H,le){for(var oe=-1,Te=H==null?0:H.length,Xe=0,Mt=[];++oe<Te;){var pn=H[oe];le(pn,oe,H)&&(Mt[Xe++]=pn)}return Mt}function du(H,le){var oe=H==null?0:H.length;return!!oe&&xs(H,le,0)>-1}function Bd(H,le,oe){for(var Te=-1,Xe=H==null?0:H.length;++Te<Xe;)if(oe(le,H[Te]))return!0;return!1}function Kt(H,le){for(var oe=-1,Te=H==null?0:H.length,Xe=Array(Te);++oe<Te;)Xe[oe]=le(H[oe],oe,H);return Xe}function to(H,le){for(var oe=-1,Te=le.length,Xe=H.length;++oe<Te;)H[Xe+oe]=le[oe];return H}function Gd(H,le,oe,Te){var Xe=-1,Mt=H==null?0:H.length;for(Te&&Mt&&(oe=H[++Xe]);++Xe<Mt;)oe=le(oe,H[Xe],Xe,H);return oe}function XT(H,le,oe,Te){var Xe=H==null?0:H.length;for(Te&&Xe&&(oe=H[--Xe]);Xe--;)oe=le(oe,H[Xe],Xe,H);return oe}function jd(H,le){for(var oe=-1,Te=H==null?0:H.length;++oe<Te;)if(le(H[oe],oe,H))return!0;return!1}var JT=Ud("length");function QT(H){return H.split("")}function $T(H){return H.match(yd)||[]}function ng(H,le,oe){var Te;return oe(H,function(Xe,Mt,pn){if(le(Xe,Mt,pn))return Te=Mt,!1}),Te}function pu(H,le,oe,Te){for(var Xe=H.length,Mt=oe+(Te?1:-1);Te?Mt--:++Mt<Xe;)if(le(H[Mt],Mt,H))return Mt;return-1}function xs(H,le,oe){return le===le?cC(H,le,oe):pu(H,rg,oe)}function eC(H,le,oe,Te){for(var Xe=oe-1,Mt=H.length;++Xe<Mt;)if(Te(H[Xe],le))return Xe;return-1}function rg(H){return H!==H}function ig(H,le){var oe=H==null?0:H.length;return oe?Hd(H,le)/oe:U}function Ud(H){return function(le){return le==null?t:le[H]}}function zd(H){return function(le){return H==null?t:H[le]}}function og(H,le,oe,Te,Xe){return Xe(H,function(Mt,pn,Yt){oe=Te?(Te=!1,Mt):le(oe,Mt,pn,Yt)}),oe}function tC(H,le){var oe=H.length;for(H.sort(le);oe--;)H[oe]=H[oe].value;return H}function Hd(H,le){for(var oe,Te=-1,Xe=H.length;++Te<Xe;){var Mt=le(H[Te]);Mt!==t&&(oe=oe===t?Mt:oe+Mt)}return oe}function Vd(H,le){for(var oe=-1,Te=Array(H);++oe<H;)Te[oe]=le(oe);return Te}function nC(H,le){return Kt(le,function(oe){return[oe,H[oe]]})}function sg(H){return H&&H.slice(0,fg(H)+1).replace(Ba,"")}function fr(H){return function(le){return H(le)}}function qd(H,le){return Kt(le,function(oe){return H[oe]})}function Ua(H,le){return H.has(le)}function ag(H,le){for(var oe=-1,Te=H.length;++oe<Te&&xs(le,H[oe],0)>-1;);return oe}function lg(H,le){for(var oe=H.length;oe--&&xs(le,H[oe],0)>-1;);return oe}function rC(H,le){for(var oe=H.length,Te=0;oe--;)H[oe]===le&&++Te;return Te}var iC=zd(GT),oC=zd(jT);function sC(H){return"\\"+zT[H]}function aC(H,le){return H==null?t:H[le]}function Ps(H){return FT.test(H)}function lC(H){return WT.test(H)}function uC(H){for(var le,oe=[];!(le=H.next()).done;)oe.push(le.value);return oe}function Kd(H){var le=-1,oe=Array(H.size);return H.forEach(function(Te,Xe){oe[++le]=[Xe,Te]}),oe}function ug(H,le){return function(oe){return H(le(oe))}}function no(H,le){for(var oe=-1,Te=H.length,Xe=0,Mt=[];++oe<Te;){var pn=H[oe];(pn===le||pn===f)&&(H[oe]=f,Mt[Xe++]=oe)}return Mt}function mu(H){var le=-1,oe=Array(H.size);return H.forEach(function(Te){oe[++le]=Te}),oe}function fC(H){var le=-1,oe=Array(H.size);return H.forEach(function(Te){oe[++le]=[Te,Te]}),oe}function cC(H,le,oe){for(var Te=oe-1,Xe=H.length;++Te<Xe;)if(H[Te]===le)return Te;return-1}function dC(H,le,oe){for(var Te=oe+1;Te--;)if(H[Te]===le)return Te;return Te}function Ns(H){return Ps(H)?mC(H):JT(H)}function jr(H){return Ps(H)?hC(H):QT(H)}function fg(H){for(var le=H.length;le--&&hd.test(H.charAt(le)););return le}var pC=zd(UT);function mC(H){for(var le=Fd.lastIndex=0;Fd.test(H);)++le;return le}function hC(H){return H.match(Fd)||[]}function gC(H){return H.match(LT)||[]}var vC=function H(le){le=le==null?kn:ro.defaults(kn.Object(),le,ro.pick(kn,YT));var oe=le.Array,Te=le.Date,Xe=le.Error,Mt=le.Function,pn=le.Math,Yt=le.Object,Zd=le.RegExp,_C=le.String,Sr=le.TypeError,hu=oe.prototype,yC=Mt.prototype,Rs=Yt.prototype,gu=le["__core-js_shared__"],vu=yC.toString,It=Rs.hasOwnProperty,wC=0,cg=function(){var s=/[^.]+$/.exec(gu&&gu.keys&&gu.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),_u=Rs.toString,bC=vu.call(Yt),kC=kn._,EC=Zd("^"+vu.call(It).replace(Ya,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yu=Kh?le.Buffer:t,io=le.Symbol,wu=le.Uint8Array,dg=yu?yu.allocUnsafe:t,bu=ug(Yt.getPrototypeOf,Yt),pg=Yt.create,mg=Rs.propertyIsEnumerable,ku=hu.splice,hg=io?io.isConcatSpreadable:t,za=io?io.iterator:t,jo=io?io.toStringTag:t,Eu=function(){try{var s=qo(Yt,"defineProperty");return s({},"",{}),s}catch(l){}}(),TC=le.clearTimeout!==kn.clearTimeout&&le.clearTimeout,CC=Te&&Te.now!==kn.Date.now&&Te.now,SC=le.setTimeout!==kn.setTimeout&&le.setTimeout,Tu=pn.ceil,Cu=pn.floor,Xd=Yt.getOwnPropertySymbols,DC=yu?yu.isBuffer:t,gg=le.isFinite,OC=hu.join,AC=ug(Yt.keys,Yt),mn=pn.max,In=pn.min,MC=Te.now,xC=le.parseInt,vg=pn.random,PC=hu.reverse,Jd=qo(le,"DataView"),Ha=qo(le,"Map"),Qd=qo(le,"Promise"),Is=qo(le,"Set"),Va=qo(le,"WeakMap"),qa=qo(Yt,"create"),Su=Va&&new Va,Ls={},NC=Ko(Jd),RC=Ko(Ha),IC=Ko(Qd),LC=Ko(Is),FC=Ko(Va),Du=io?io.prototype:t,Ka=Du?Du.valueOf:t,_g=Du?Du.toString:t;function T(s){if($t(s)&&!Qe(s)&&!(s instanceof _t)){if(s instanceof Dr)return s;if(It.call(s,"__wrapped__"))return yv(s)}return new Dr(s)}var Fs=function(){function s(){}return function(l){if(!Xt(l))return{};if(pg)return pg(l);s.prototype=l;var p=new s;return s.prototype=t,p}}();function Ou(){}function Dr(s,l){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=t}T.templateSettings={escape:ud,evaluate:fd,interpolate:ou,variable:"",imports:{_:T}},T.prototype=Ou.prototype,T.prototype.constructor=T,Dr.prototype=Fs(Ou.prototype),Dr.prototype.constructor=Dr;function _t(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=J,this.__views__=[]}function WC(){var s=new _t(this.__wrapped__);return s.__actions__=nr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=nr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=nr(this.__views__),s}function YC(){if(this.__filtered__){var s=new _t(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function BC(){var s=this.__wrapped__.value(),l=this.__dir__,p=Qe(s),g=l<0,y=p?s.length:0,D=Q2(0,y,this.__views__),I=D.start,G=D.end,q=G-I,fe=g?G:I-1,de=this.__iteratees__,me=de.length,be=0,Oe=In(q,this.__takeCount__);if(!p||!g&&y==q&&Oe==q)return jg(s,this.__actions__);var Be=[];e:for(;q--&&be<Oe;){fe+=l;for(var at=-1,Ge=s[fe];++at<me;){var vt=de[at],bt=vt.iteratee,pr=vt.type,Kn=bt(Ge);if(pr==V)Ge=Kn;else if(!Kn){if(pr==X)continue e;break e}}Be[be++]=Ge}return Be}_t.prototype=Fs(Ou.prototype),_t.prototype.constructor=_t;function Uo(s){var l=-1,p=s==null?0:s.length;for(this.clear();++l<p;){var g=s[l];this.set(g[0],g[1])}}function GC(){this.__data__=qa?qa(null):{},this.size=0}function jC(s){var l=this.has(s)&&delete this.__data__[s];return this.size-=l?1:0,l}function UC(s){var l=this.__data__;if(qa){var p=l[s];return p===a?t:p}return It.call(l,s)?l[s]:t}function zC(s){var l=this.__data__;return qa?l[s]!==t:It.call(l,s)}function HC(s,l){var p=this.__data__;return this.size+=this.has(s)?0:1,p[s]=qa&&l===t?a:l,this}Uo.prototype.clear=GC,Uo.prototype.delete=jC,Uo.prototype.get=UC,Uo.prototype.has=zC,Uo.prototype.set=HC;function Oi(s){var l=-1,p=s==null?0:s.length;for(this.clear();++l<p;){var g=s[l];this.set(g[0],g[1])}}function VC(){this.__data__=[],this.size=0}function qC(s){var l=this.__data__,p=Au(l,s);if(p<0)return!1;var g=l.length-1;return p==g?l.pop():ku.call(l,p,1),--this.size,!0}function KC(s){var l=this.__data__,p=Au(l,s);return p<0?t:l[p][1]}function ZC(s){return Au(this.__data__,s)>-1}function XC(s,l){var p=this.__data__,g=Au(p,s);return g<0?(++this.size,p.push([s,l])):p[g][1]=l,this}Oi.prototype.clear=VC,Oi.prototype.delete=qC,Oi.prototype.get=KC,Oi.prototype.has=ZC,Oi.prototype.set=XC;function Ai(s){var l=-1,p=s==null?0:s.length;for(this.clear();++l<p;){var g=s[l];this.set(g[0],g[1])}}function JC(){this.size=0,this.__data__={hash:new Uo,map:new(Ha||Oi),string:new Uo}}function QC(s){var l=Gu(this,s).delete(s);return this.size-=l?1:0,l}function $C(s){return Gu(this,s).get(s)}function e2(s){return Gu(this,s).has(s)}function t2(s,l){var p=Gu(this,s),g=p.size;return p.set(s,l),this.size+=p.size==g?0:1,this}Ai.prototype.clear=JC,Ai.prototype.delete=QC,Ai.prototype.get=$C,Ai.prototype.has=e2,Ai.prototype.set=t2;function zo(s){var l=-1,p=s==null?0:s.length;for(this.__data__=new Ai;++l<p;)this.add(s[l])}function n2(s){return this.__data__.set(s,a),this}function r2(s){return this.__data__.has(s)}zo.prototype.add=zo.prototype.push=n2,zo.prototype.has=r2;function Ur(s){var l=this.__data__=new Oi(s);this.size=l.size}function i2(){this.__data__=new Oi,this.size=0}function o2(s){var l=this.__data__,p=l.delete(s);return this.size=l.size,p}function s2(s){return this.__data__.get(s)}function a2(s){return this.__data__.has(s)}function l2(s,l){var p=this.__data__;if(p instanceof Oi){var g=p.__data__;if(!Ha||g.length<n-1)return g.push([s,l]),this.size=++p.size,this;p=this.__data__=new Ai(g)}return p.set(s,l),this.size=p.size,this}Ur.prototype.clear=i2,Ur.prototype.delete=o2,Ur.prototype.get=s2,Ur.prototype.has=a2,Ur.prototype.set=l2;function yg(s,l){var p=Qe(s),g=!p&&Zo(s),y=!p&&!g&&uo(s),D=!p&&!g&&!y&&Gs(s),I=p||g||y||D,G=I?Vd(s.length,_C):[],q=G.length;for(var fe in s)(l||It.call(s,fe))&&!(I&&(fe=="length"||y&&(fe=="offset"||fe=="parent")||D&&(fe=="buffer"||fe=="byteLength"||fe=="byteOffset")||Ni(fe,q)))&&G.push(fe);return G}function wg(s){var l=s.length;return l?s[up(0,l-1)]:t}function u2(s,l){return ju(nr(s),Ho(l,0,s.length))}function f2(s){return ju(nr(s))}function $d(s,l,p){(p!==t&&!zr(s[l],p)||p===t&&!(l in s))&&Mi(s,l,p)}function Za(s,l,p){var g=s[l];(!(It.call(s,l)&&zr(g,p))||p===t&&!(l in s))&&Mi(s,l,p)}function Au(s,l){for(var p=s.length;p--;)if(zr(s[p][0],l))return p;return-1}function c2(s,l,p,g){return oo(s,function(y,D,I){l(g,y,p(y),I)}),g}function bg(s,l){return s&&fi(l,En(l),s)}function d2(s,l){return s&&fi(l,ir(l),s)}function Mi(s,l,p){l=="__proto__"&&Eu?Eu(s,l,{configurable:!0,enumerable:!0,value:p,writable:!0}):s[l]=p}function ep(s,l){for(var p=-1,g=l.length,y=oe(g),D=s==null;++p<g;)y[p]=D?t:Rp(s,l[p]);return y}function Ho(s,l,p){return s===s&&(p!==t&&(s=s<=p?s:p),l!==t&&(s=s>=l?s:l)),s}function Or(s,l,p,g,y,D){var I,G=l&c,q=l&d,fe=l&m;if(p&&(I=y?p(s,g,y,D):p(s)),I!==t)return I;if(!Xt(s))return s;var de=Qe(s);if(de){if(I=eS(s),!G)return nr(s,I)}else{var me=Ln(s),be=me==ye||me==Ee;if(uo(s))return Hg(s,G);if(me==ft||me==Q||be&&!y){if(I=q||be?{}:fv(s),!G)return q?U2(s,d2(I,s)):j2(s,bg(I,s))}else{if(!jt[me])return y?s:{};I=tS(s,me,G)}}D||(D=new Ur);var Oe=D.get(s);if(Oe)return Oe;D.set(s,I),Yv(s)?s.forEach(function(Ge){I.add(Or(Ge,l,p,Ge,s,D))}):Fv(s)&&s.forEach(function(Ge,vt){I.set(vt,Or(Ge,l,p,vt,s,D))});var Be=fe?q?wp:yp:q?ir:En,at=de?t:Be(s);return Cr(at||s,function(Ge,vt){at&&(vt=Ge,Ge=s[vt]),Za(I,vt,Or(Ge,l,p,vt,s,D))}),I}function p2(s){var l=En(s);return function(p){return kg(p,s,l)}}function kg(s,l,p){var g=p.length;if(s==null)return!g;for(s=Yt(s);g--;){var y=p[g],D=l[y],I=s[y];if(I===t&&!(y in s)||!D(I))return!1}return!0}function Eg(s,l,p){if(typeof s!="function")throw new Sr(i);return rl(function(){s.apply(t,p)},l)}function Xa(s,l,p,g){var y=-1,D=du,I=!0,G=s.length,q=[],fe=l.length;if(!G)return q;p&&(l=Kt(l,fr(p))),g?(D=Bd,I=!1):l.length>=n&&(D=Ua,I=!1,l=new zo(l));e:for(;++y<G;){var de=s[y],me=p==null?de:p(de);if(de=g||de!==0?de:0,I&&me===me){for(var be=fe;be--;)if(l[be]===me)continue e;q.push(de)}else D(l,me,g)||q.push(de)}return q}var oo=Xg(ui),Tg=Xg(np,!0);function m2(s,l){var p=!0;return oo(s,function(g,y,D){return p=!!l(g,y,D),p}),p}function Mu(s,l,p){for(var g=-1,y=s.length;++g<y;){var D=s[g],I=l(D);if(I!=null&&(G===t?I===I&&!dr(I):p(I,G)))var G=I,q=D}return q}function h2(s,l,p,g){var y=s.length;for(p=ot(p),p<0&&(p=-p>y?0:y+p),g=g===t||g>y?y:ot(g),g<0&&(g+=y),g=p>g?0:Gv(g);p<g;)s[p++]=l;return s}function Cg(s,l){var p=[];return oo(s,function(g,y,D){l(g,y,D)&&p.push(g)}),p}function Mn(s,l,p,g,y){var D=-1,I=s.length;for(p||(p=rS),y||(y=[]);++D<I;){var G=s[D];l>0&&p(G)?l>1?Mn(G,l-1,p,g,y):to(y,G):g||(y[y.length]=G)}return y}var tp=Jg(),Sg=Jg(!0);function ui(s,l){return s&&tp(s,l,En)}function np(s,l){return s&&Sg(s,l,En)}function xu(s,l){return eo(l,function(p){return Ri(s[p])})}function Vo(s,l){l=ao(l,s);for(var p=0,g=l.length;s!=null&&p<g;)s=s[ci(l[p++])];return p&&p==g?s:t}function Dg(s,l,p){var g=l(s);return Qe(s)?g:to(g,p(s))}function Vn(s){return s==null?s===t?Vt:On:jo&&jo in Yt(s)?J2(s):fS(s)}function rp(s,l){return s>l}function g2(s,l){return s!=null&&It.call(s,l)}function v2(s,l){return s!=null&&l in Yt(s)}function _2(s,l,p){return s>=In(l,p)&&s<mn(l,p)}function ip(s,l,p){for(var g=p?Bd:du,y=s[0].length,D=s.length,I=D,G=oe(D),q=1/0,fe=[];I--;){var de=s[I];I&&l&&(de=Kt(de,fr(l))),q=In(de.length,q),G[I]=!p&&(l||y>=120&&de.length>=120)?new zo(I&&de):t}de=s[0];var me=-1,be=G[0];e:for(;++me<y&&fe.length<q;){var Oe=de[me],Be=l?l(Oe):Oe;if(Oe=p||Oe!==0?Oe:0,!(be?Ua(be,Be):g(fe,Be,p))){for(I=D;--I;){var at=G[I];if(!(at?Ua(at,Be):g(s[I],Be,p)))continue e}be&&be.push(Be),fe.push(Oe)}}return fe}function y2(s,l,p,g){return ui(s,function(y,D,I){l(g,p(y),D,I)}),g}function Ja(s,l,p){l=ao(l,s),s=mv(s,l);var g=s==null?s:s[ci(Mr(l))];return g==null?t:ur(g,s,p)}function Og(s){return $t(s)&&Vn(s)==Q}function w2(s){return $t(s)&&Vn(s)==bn}function b2(s){return $t(s)&&Vn(s)==De}function Qa(s,l,p,g,y){return s===l?!0:s==null||l==null||!$t(s)&&!$t(l)?s!==s&&l!==l:k2(s,l,p,g,Qa,y)}function k2(s,l,p,g,y,D){var I=Qe(s),G=Qe(l),q=I?ge:Ln(s),fe=G?ge:Ln(l);q=q==Q?ft:q,fe=fe==Q?ft:fe;var de=q==ft,me=fe==ft,be=q==fe;if(be&&uo(s)){if(!uo(l))return!1;I=!0,de=!1}if(be&&!de)return D||(D=new Ur),I||Gs(s)?av(s,l,p,g,y,D):Z2(s,l,q,p,g,y,D);if(!(p&h)){var Oe=de&&It.call(s,"__wrapped__"),Be=me&&It.call(l,"__wrapped__");if(Oe||Be){var at=Oe?s.value():s,Ge=Be?l.value():l;return D||(D=new Ur),y(at,Ge,p,g,D)}}return be?(D||(D=new Ur),X2(s,l,p,g,y,D)):!1}function E2(s){return $t(s)&&Ln(s)==pt}function op(s,l,p,g){var y=p.length,D=y,I=!g;if(s==null)return!D;for(s=Yt(s);y--;){var G=p[y];if(I&&G[2]?G[1]!==s[G[0]]:!(G[0]in s))return!1}for(;++y<D;){G=p[y];var q=G[0],fe=s[q],de=G[1];if(I&&G[2]){if(fe===t&&!(q in s))return!1}else{var me=new Ur;if(g)var be=g(fe,de,q,s,l,me);if(!(be===t?Qa(de,fe,h|v,g,me):be))return!1}}return!0}function Ag(s){if(!Xt(s)||oS(s))return!1;var l=Ri(s)?EC:Cd;return l.test(Ko(s))}function T2(s){return $t(s)&&Vn(s)==ar}function C2(s){return $t(s)&&Ln(s)==yn}function S2(s){return $t(s)&&Ku(s.length)&&!!qt[Vn(s)]}function Mg(s){return typeof s=="function"?s:s==null?or:typeof s=="object"?Qe(s)?Ng(s[0],s[1]):Pg(s):Qv(s)}function sp(s){if(!nl(s))return AC(s);var l=[];for(var p in Yt(s))It.call(s,p)&&p!="constructor"&&l.push(p);return l}function D2(s){if(!Xt(s))return uS(s);var l=nl(s),p=[];for(var g in s)g=="constructor"&&(l||!It.call(s,g))||p.push(g);return p}function ap(s,l){return s<l}function xg(s,l){var p=-1,g=rr(s)?oe(s.length):[];return oo(s,function(y,D,I){g[++p]=l(y,D,I)}),g}function Pg(s){var l=kp(s);return l.length==1&&l[0][2]?dv(l[0][0],l[0][1]):function(p){return p===s||op(p,s,l)}}function Ng(s,l){return Tp(s)&&cv(l)?dv(ci(s),l):function(p){var g=Rp(p,s);return g===t&&g===l?Ip(p,s):Qa(l,g,h|v)}}function Pu(s,l,p,g,y){s!==l&&tp(l,function(D,I){if(y||(y=new Ur),Xt(D))O2(s,l,I,p,Pu,g,y);else{var G=g?g(Sp(s,I),D,I+"",s,l,y):t;G===t&&(G=D),$d(s,I,G)}},ir)}function O2(s,l,p,g,y,D,I){var G=Sp(s,p),q=Sp(l,p),fe=I.get(q);if(fe){$d(s,p,fe);return}var de=D?D(G,q,p+"",s,l,I):t,me=de===t;if(me){var be=Qe(q),Oe=!be&&uo(q),Be=!be&&!Oe&&Gs(q);de=q,be||Oe||Be?Qe(G)?de=G:on(G)?de=nr(G):Oe?(me=!1,de=Hg(q,!0)):Be?(me=!1,de=Vg(q,!0)):de=[]:il(q)||Zo(q)?(de=G,Zo(G)?de=jv(G):(!Xt(G)||Ri(G))&&(de=fv(q))):me=!1}me&&(I.set(q,de),y(de,q,g,D,I),I.delete(q)),$d(s,p,de)}function Rg(s,l){var p=s.length;if(!!p)return l+=l<0?p:0,Ni(l,p)?s[l]:t}function Ig(s,l,p){l.length?l=Kt(l,function(D){return Qe(D)?function(I){return Vo(I,D.length===1?D[0]:D)}:D}):l=[or];var g=-1;l=Kt(l,fr(Le()));var y=xg(s,function(D,I,G){var q=Kt(l,function(fe){return fe(D)});return{criteria:q,index:++g,value:D}});return tC(y,function(D,I){return G2(D,I,p)})}function A2(s,l){return Lg(s,l,function(p,g){return Ip(s,g)})}function Lg(s,l,p){for(var g=-1,y=l.length,D={};++g<y;){var I=l[g],G=Vo(s,I);p(G,I)&&$a(D,ao(I,s),G)}return D}function M2(s){return function(l){return Vo(l,s)}}function lp(s,l,p,g){var y=g?eC:xs,D=-1,I=l.length,G=s;for(s===l&&(l=nr(l)),p&&(G=Kt(s,fr(p)));++D<I;)for(var q=0,fe=l[D],de=p?p(fe):fe;(q=y(G,de,q,g))>-1;)G!==s&&ku.call(G,q,1),ku.call(s,q,1);return s}function Fg(s,l){for(var p=s?l.length:0,g=p-1;p--;){var y=l[p];if(p==g||y!==D){var D=y;Ni(y)?ku.call(s,y,1):dp(s,y)}}return s}function up(s,l){return s+Cu(vg()*(l-s+1))}function x2(s,l,p,g){for(var y=-1,D=mn(Tu((l-s)/(p||1)),0),I=oe(D);D--;)I[g?D:++y]=s,s+=p;return I}function fp(s,l){var p="";if(!s||l<1||l>Z)return p;do l%2&&(p+=s),l=Cu(l/2),l&&(s+=s);while(l);return p}function ct(s,l){return Dp(pv(s,l,or),s+"")}function P2(s){return wg(js(s))}function N2(s,l){var p=js(s);return ju(p,Ho(l,0,p.length))}function $a(s,l,p,g){if(!Xt(s))return s;l=ao(l,s);for(var y=-1,D=l.length,I=D-1,G=s;G!=null&&++y<D;){var q=ci(l[y]),fe=p;if(q==="__proto__"||q==="constructor"||q==="prototype")return s;if(y!=I){var de=G[q];fe=g?g(de,q,G):t,fe===t&&(fe=Xt(de)?de:Ni(l[y+1])?[]:{})}Za(G,q,fe),G=G[q]}return s}var Wg=Su?function(s,l){return Su.set(s,l),s}:or,R2=Eu?function(s,l){return Eu(s,"toString",{configurable:!0,enumerable:!1,value:Fp(l),writable:!0})}:or;function I2(s){return ju(js(s))}function Ar(s,l,p){var g=-1,y=s.length;l<0&&(l=-l>y?0:y+l),p=p>y?y:p,p<0&&(p+=y),y=l>p?0:p-l>>>0,l>>>=0;for(var D=oe(y);++g<y;)D[g]=s[g+l];return D}function L2(s,l){var p;return oo(s,function(g,y,D){return p=l(g,y,D),!p}),!!p}function Nu(s,l,p){var g=0,y=s==null?g:s.length;if(typeof l=="number"&&l===l&&y<=j){for(;g<y;){var D=g+y>>>1,I=s[D];I!==null&&!dr(I)&&(p?I<=l:I<l)?g=D+1:y=D}return y}return cp(s,l,or,p)}function cp(s,l,p,g){var y=0,D=s==null?0:s.length;if(D===0)return 0;l=p(l);for(var I=l!==l,G=l===null,q=dr(l),fe=l===t;y<D;){var de=Cu((y+D)/2),me=p(s[de]),be=me!==t,Oe=me===null,Be=me===me,at=dr(me);if(I)var Ge=g||Be;else fe?Ge=Be&&(g||be):G?Ge=Be&&be&&(g||!Oe):q?Ge=Be&&be&&!Oe&&(g||!at):Oe||at?Ge=!1:Ge=g?me<=l:me<l;Ge?y=de+1:D=de}return In(D,se)}function Yg(s,l){for(var p=-1,g=s.length,y=0,D=[];++p<g;){var I=s[p],G=l?l(I):I;if(!p||!zr(G,q)){var q=G;D[y++]=I===0?0:I}}return D}function Bg(s){return typeof s=="number"?s:dr(s)?U:+s}function cr(s){if(typeof s=="string")return s;if(Qe(s))return Kt(s,cr)+"";if(dr(s))return _g?_g.call(s):"";var l=s+"";return l=="0"&&1/s==-O?"-0":l}function so(s,l,p){var g=-1,y=du,D=s.length,I=!0,G=[],q=G;if(p)I=!1,y=Bd;else if(D>=n){var fe=l?null:q2(s);if(fe)return mu(fe);I=!1,y=Ua,q=new zo}else q=l?[]:G;e:for(;++g<D;){var de=s[g],me=l?l(de):de;if(de=p||de!==0?de:0,I&&me===me){for(var be=q.length;be--;)if(q[be]===me)continue e;l&&q.push(me),G.push(de)}else y(q,me,p)||(q!==G&&q.push(me),G.push(de))}return G}function dp(s,l){return l=ao(l,s),s=mv(s,l),s==null||delete s[ci(Mr(l))]}function Gg(s,l,p,g){return $a(s,l,p(Vo(s,l)),g)}function Ru(s,l,p,g){for(var y=s.length,D=g?y:-1;(g?D--:++D<y)&&l(s[D],D,s););return p?Ar(s,g?0:D,g?D+1:y):Ar(s,g?D+1:0,g?y:D)}function jg(s,l){var p=s;return p instanceof _t&&(p=p.value()),Gd(l,function(g,y){return y.func.apply(y.thisArg,to([g],y.args))},p)}function pp(s,l,p){var g=s.length;if(g<2)return g?so(s[0]):[];for(var y=-1,D=oe(g);++y<g;)for(var I=s[y],G=-1;++G<g;)G!=y&&(D[y]=Xa(D[y]||I,s[G],l,p));return so(Mn(D,1),l,p)}function Ug(s,l,p){for(var g=-1,y=s.length,D=l.length,I={};++g<y;){var G=g<D?l[g]:t;p(I,s[g],G)}return I}function mp(s){return on(s)?s:[]}function hp(s){return typeof s=="function"?s:or}function ao(s,l){return Qe(s)?s:Tp(s,l)?[s]:_v(Pt(s))}var F2=ct;function lo(s,l,p){var g=s.length;return p=p===t?g:p,!l&&p>=g?s:Ar(s,l,p)}var zg=TC||function(s){return kn.clearTimeout(s)};function Hg(s,l){if(l)return s.slice();var p=s.length,g=dg?dg(p):new s.constructor(p);return s.copy(g),g}function gp(s){var l=new s.constructor(s.byteLength);return new wu(l).set(new wu(s)),l}function W2(s,l){var p=l?gp(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.byteLength)}function Y2(s){var l=new s.constructor(s.source,su.exec(s));return l.lastIndex=s.lastIndex,l}function B2(s){return Ka?Yt(Ka.call(s)):{}}function Vg(s,l){var p=l?gp(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.length)}function qg(s,l){if(s!==l){var p=s!==t,g=s===null,y=s===s,D=dr(s),I=l!==t,G=l===null,q=l===l,fe=dr(l);if(!G&&!fe&&!D&&s>l||D&&I&&q&&!G&&!fe||g&&I&&q||!p&&q||!y)return 1;if(!g&&!D&&!fe&&s<l||fe&&p&&y&&!g&&!D||G&&p&&y||!I&&y||!q)return-1}return 0}function G2(s,l,p){for(var g=-1,y=s.criteria,D=l.criteria,I=y.length,G=p.length;++g<I;){var q=qg(y[g],D[g]);if(q){if(g>=G)return q;var fe=p[g];return q*(fe=="desc"?-1:1)}}return s.index-l.index}function Kg(s,l,p,g){for(var y=-1,D=s.length,I=p.length,G=-1,q=l.length,fe=mn(D-I,0),de=oe(q+fe),me=!g;++G<q;)de[G]=l[G];for(;++y<I;)(me||y<D)&&(de[p[y]]=s[y]);for(;fe--;)de[G++]=s[y++];return de}function Zg(s,l,p,g){for(var y=-1,D=s.length,I=-1,G=p.length,q=-1,fe=l.length,de=mn(D-G,0),me=oe(de+fe),be=!g;++y<de;)me[y]=s[y];for(var Oe=y;++q<fe;)me[Oe+q]=l[q];for(;++I<G;)(be||y<D)&&(me[Oe+p[I]]=s[y++]);return me}function nr(s,l){var p=-1,g=s.length;for(l||(l=oe(g));++p<g;)l[p]=s[p];return l}function fi(s,l,p,g){var y=!p;p||(p={});for(var D=-1,I=l.length;++D<I;){var G=l[D],q=g?g(p[G],s[G],G,p,s):t;q===t&&(q=s[G]),y?Mi(p,G,q):Za(p,G,q)}return p}function j2(s,l){return fi(s,Ep(s),l)}function U2(s,l){return fi(s,lv(s),l)}function Iu(s,l){return function(p,g){var y=Qe(p)?KT:c2,D=l?l():{};return y(p,s,Le(g,2),D)}}function Ws(s){return ct(function(l,p){var g=-1,y=p.length,D=y>1?p[y-1]:t,I=y>2?p[2]:t;for(D=s.length>3&&typeof D=="function"?(y--,D):t,I&&qn(p[0],p[1],I)&&(D=y<3?t:D,y=1),l=Yt(l);++g<y;){var G=p[g];G&&s(l,G,g,D)}return l})}function Xg(s,l){return function(p,g){if(p==null)return p;if(!rr(p))return s(p,g);for(var y=p.length,D=l?y:-1,I=Yt(p);(l?D--:++D<y)&&g(I[D],D,I)!==!1;);return p}}function Jg(s){return function(l,p,g){for(var y=-1,D=Yt(l),I=g(l),G=I.length;G--;){var q=I[s?G:++y];if(p(D[q],q,D)===!1)break}return l}}function z2(s,l,p){var g=l&_,y=tl(s);function D(){var I=this&&this!==kn&&this instanceof D?y:s;return I.apply(g?p:this,arguments)}return D}function Qg(s){return function(l){l=Pt(l);var p=Ps(l)?jr(l):t,g=p?p[0]:l.charAt(0),y=p?lo(p,1).join(""):l.slice(1);return g[s]()+y}}function Ys(s){return function(l){return Gd(Xv(Zv(l).replace(RT,"")),s,"")}}function tl(s){return function(){var l=arguments;switch(l.length){case 0:return new s;case 1:return new s(l[0]);case 2:return new s(l[0],l[1]);case 3:return new s(l[0],l[1],l[2]);case 4:return new s(l[0],l[1],l[2],l[3]);case 5:return new s(l[0],l[1],l[2],l[3],l[4]);case 6:return new s(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new s(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var p=Fs(s.prototype),g=s.apply(p,l);return Xt(g)?g:p}}function H2(s,l,p){var g=tl(s);function y(){for(var D=arguments.length,I=oe(D),G=D,q=Bs(y);G--;)I[G]=arguments[G];var fe=D<3&&I[0]!==q&&I[D-1]!==q?[]:no(I,q);if(D-=fe.length,D<p)return rv(s,l,Lu,y.placeholder,t,I,fe,t,t,p-D);var de=this&&this!==kn&&this instanceof y?g:s;return ur(de,this,I)}return y}function $g(s){return function(l,p,g){var y=Yt(l);if(!rr(l)){var D=Le(p,3);l=En(l),p=function(G){return D(y[G],G,y)}}var I=s(l,p,g);return I>-1?y[D?l[I]:I]:t}}function ev(s){return Pi(function(l){var p=l.length,g=p,y=Dr.prototype.thru;for(s&&l.reverse();g--;){var D=l[g];if(typeof D!="function")throw new Sr(i);if(y&&!I&&Bu(D)=="wrapper")var I=new Dr([],!0)}for(g=I?g:p;++g<p;){D=l[g];var G=Bu(D),q=G=="wrapper"?bp(D):t;q&&Cp(q[0])&&q[1]==(M|w|A|P)&&!q[4].length&&q[9]==1?I=I[Bu(q[0])].apply(I,q[3]):I=D.length==1&&Cp(D)?I[G]():I.thru(D)}return function(){var fe=arguments,de=fe[0];if(I&&fe.length==1&&Qe(de))return I.plant(de).value();for(var me=0,be=p?l[me].apply(this,fe):de;++me<p;)be=l[me].call(this,be);return be}})}function Lu(s,l,p,g,y,D,I,G,q,fe){var de=l&M,me=l&_,be=l&b,Oe=l&(w|C),Be=l&L,at=be?t:tl(s);function Ge(){for(var vt=arguments.length,bt=oe(vt),pr=vt;pr--;)bt[pr]=arguments[pr];if(Oe)var Kn=Bs(Ge),mr=rC(bt,Kn);if(g&&(bt=Kg(bt,g,y,Oe)),D&&(bt=Zg(bt,D,I,Oe)),vt-=mr,Oe&&vt<fe){var sn=no(bt,Kn);return rv(s,l,Lu,Ge.placeholder,p,bt,sn,G,q,fe-vt)}var Hr=me?p:this,Li=be?Hr[s]:s;return vt=bt.length,G?bt=cS(bt,G):Be&&vt>1&&bt.reverse(),de&&q<vt&&(bt.length=q),this&&this!==kn&&this instanceof Ge&&(Li=at||tl(Li)),Li.apply(Hr,bt)}return Ge}function tv(s,l){return function(p,g){return y2(p,s,l(g),{})}}function Fu(s,l){return function(p,g){var y;if(p===t&&g===t)return l;if(p!==t&&(y=p),g!==t){if(y===t)return g;typeof p=="string"||typeof g=="string"?(p=cr(p),g=cr(g)):(p=Bg(p),g=Bg(g)),y=s(p,g)}return y}}function vp(s){return Pi(function(l){return l=Kt(l,fr(Le())),ct(function(p){var g=this;return s(l,function(y){return ur(y,g,p)})})})}function Wu(s,l){l=l===t?" ":cr(l);var p=l.length;if(p<2)return p?fp(l,s):l;var g=fp(l,Tu(s/Ns(l)));return Ps(l)?lo(jr(g),0,s).join(""):g.slice(0,s)}function V2(s,l,p,g){var y=l&_,D=tl(s);function I(){for(var G=-1,q=arguments.length,fe=-1,de=g.length,me=oe(de+q),be=this&&this!==kn&&this instanceof I?D:s;++fe<de;)me[fe]=g[fe];for(;q--;)me[fe++]=arguments[++G];return ur(be,y?p:this,me)}return I}function nv(s){return function(l,p,g){return g&&typeof g!="number"&&qn(l,p,g)&&(p=g=t),l=Ii(l),p===t?(p=l,l=0):p=Ii(p),g=g===t?l<p?1:-1:Ii(g),x2(l,p,g,s)}}function Yu(s){return function(l,p){return typeof l=="string"&&typeof p=="string"||(l=xr(l),p=xr(p)),s(l,p)}}function rv(s,l,p,g,y,D,I,G,q,fe){var de=l&w,me=de?I:t,be=de?t:I,Oe=de?D:t,Be=de?t:D;l|=de?A:Y,l&=~(de?Y:A),l&E||(l&=~(_|b));var at=[s,l,y,Oe,me,Be,be,G,q,fe],Ge=p.apply(t,at);return Cp(s)&&hv(Ge,at),Ge.placeholder=g,gv(Ge,s,l)}function _p(s){var l=pn[s];return function(p,g){if(p=xr(p),g=g==null?0:In(ot(g),292),g&&gg(p)){var y=(Pt(p)+"e").split("e"),D=l(y[0]+"e"+(+y[1]+g));return y=(Pt(D)+"e").split("e"),+(y[0]+"e"+(+y[1]-g))}return l(p)}}var q2=Is&&1/mu(new Is([,-0]))[1]==O?function(s){return new Is(s)}:Bp;function iv(s){return function(l){var p=Ln(l);return p==pt?Kd(l):p==yn?fC(l):nC(l,s(l))}}function xi(s,l,p,g,y,D,I,G){var q=l&b;if(!q&&typeof s!="function")throw new Sr(i);var fe=g?g.length:0;if(fe||(l&=~(A|Y),g=y=t),I=I===t?I:mn(ot(I),0),G=G===t?G:ot(G),fe-=y?y.length:0,l&Y){var de=g,me=y;g=y=t}var be=q?t:bp(s),Oe=[s,l,p,g,y,de,me,D,I,G];if(be&&lS(Oe,be),s=Oe[0],l=Oe[1],p=Oe[2],g=Oe[3],y=Oe[4],G=Oe[9]=Oe[9]===t?q?0:s.length:mn(Oe[9]-fe,0),!G&&l&(w|C)&&(l&=~(w|C)),!l||l==_)var Be=z2(s,l,p);else l==w||l==C?Be=H2(s,l,G):(l==A||l==(_|A))&&!y.length?Be=V2(s,l,p,g):Be=Lu.apply(t,Oe);var at=be?Wg:hv;return gv(at(Be,Oe),s,l)}function ov(s,l,p,g){return s===t||zr(s,Rs[p])&&!It.call(g,p)?l:s}function sv(s,l,p,g,y,D){return Xt(s)&&Xt(l)&&(D.set(l,s),Pu(s,l,t,sv,D),D.delete(l)),s}function K2(s){return il(s)?t:s}function av(s,l,p,g,y,D){var I=p&h,G=s.length,q=l.length;if(G!=q&&!(I&&q>G))return!1;var fe=D.get(s),de=D.get(l);if(fe&&de)return fe==l&&de==s;var me=-1,be=!0,Oe=p&v?new zo:t;for(D.set(s,l),D.set(l,s);++me<G;){var Be=s[me],at=l[me];if(g)var Ge=I?g(at,Be,me,l,s,D):g(Be,at,me,s,l,D);if(Ge!==t){if(Ge)continue;be=!1;break}if(Oe){if(!jd(l,function(vt,bt){if(!Ua(Oe,bt)&&(Be===vt||y(Be,vt,p,g,D)))return Oe.push(bt)})){be=!1;break}}else if(!(Be===at||y(Be,at,p,g,D))){be=!1;break}}return D.delete(s),D.delete(l),be}function Z2(s,l,p,g,y,D,I){switch(p){case Hn:if(s.byteLength!=l.byteLength||s.byteOffset!=l.byteOffset)return!1;s=s.buffer,l=l.buffer;case bn:return!(s.byteLength!=l.byteLength||!D(new wu(s),new wu(l)));case _e:case De:case Tt:return zr(+s,+l);case ut:return s.name==l.name&&s.message==l.message;case ar:case wn:return s==l+"";case pt:var G=Kd;case yn:var q=g&h;if(G||(G=mu),s.size!=l.size&&!q)return!1;var fe=I.get(s);if(fe)return fe==l;g|=v,I.set(s,l);var de=av(G(s),G(l),g,y,D,I);return I.delete(s),de;case Un:if(Ka)return Ka.call(s)==Ka.call(l)}return!1}function X2(s,l,p,g,y,D){var I=p&h,G=yp(s),q=G.length,fe=yp(l),de=fe.length;if(q!=de&&!I)return!1;for(var me=q;me--;){var be=G[me];if(!(I?be in l:It.call(l,be)))return!1}var Oe=D.get(s),Be=D.get(l);if(Oe&&Be)return Oe==l&&Be==s;var at=!0;D.set(s,l),D.set(l,s);for(var Ge=I;++me<q;){be=G[me];var vt=s[be],bt=l[be];if(g)var pr=I?g(bt,vt,be,l,s,D):g(vt,bt,be,s,l,D);if(!(pr===t?vt===bt||y(vt,bt,p,g,D):pr)){at=!1;break}Ge||(Ge=be=="constructor")}if(at&&!Ge){var Kn=s.constructor,mr=l.constructor;Kn!=mr&&"constructor"in s&&"constructor"in l&&!(typeof Kn=="function"&&Kn instanceof Kn&&typeof mr=="function"&&mr instanceof mr)&&(at=!1)}return D.delete(s),D.delete(l),at}function Pi(s){return Dp(pv(s,t,kv),s+"")}function yp(s){return Dg(s,En,Ep)}function wp(s){return Dg(s,ir,lv)}var bp=Su?function(s){return Su.get(s)}:Bp;function Bu(s){for(var l=s.name+"",p=Ls[l],g=It.call(Ls,l)?p.length:0;g--;){var y=p[g],D=y.func;if(D==null||D==s)return y.name}return l}function Bs(s){var l=It.call(T,"placeholder")?T:s;return l.placeholder}function Le(){var s=T.iteratee||Wp;return s=s===Wp?Mg:s,arguments.length?s(arguments[0],arguments[1]):s}function Gu(s,l){var p=s.__data__;return iS(l)?p[typeof l=="string"?"string":"hash"]:p.map}function kp(s){for(var l=En(s),p=l.length;p--;){var g=l[p],y=s[g];l[p]=[g,y,cv(y)]}return l}function qo(s,l){var p=aC(s,l);return Ag(p)?p:t}function J2(s){var l=It.call(s,jo),p=s[jo];try{s[jo]=t;var g=!0}catch(D){}var y=_u.call(s);return g&&(l?s[jo]=p:delete s[jo]),y}var Ep=Xd?function(s){return s==null?[]:(s=Yt(s),eo(Xd(s),function(l){return mg.call(s,l)}))}:Gp,lv=Xd?function(s){for(var l=[];s;)to(l,Ep(s)),s=bu(s);return l}:Gp,Ln=Vn;(Jd&&Ln(new Jd(new ArrayBuffer(1)))!=Hn||Ha&&Ln(new Ha)!=pt||Qd&&Ln(Qd.resolve())!=Ze||Is&&Ln(new Is)!=yn||Va&&Ln(new Va)!=zn)&&(Ln=function(s){var l=Vn(s),p=l==ft?s.constructor:t,g=p?Ko(p):"";if(g)switch(g){case NC:return Hn;case RC:return pt;case IC:return Ze;case LC:return yn;case FC:return zn}return l});function Q2(s,l,p){for(var g=-1,y=p.length;++g<y;){var D=p[g],I=D.size;switch(D.type){case"drop":s+=I;break;case"dropRight":l-=I;break;case"take":l=In(l,s+I);break;case"takeRight":s=mn(s,l-I);break}}return{start:s,end:l}}function $2(s){var l=s.match(vd);return l?l[1].split(_d):[]}function uv(s,l,p){l=ao(l,s);for(var g=-1,y=l.length,D=!1;++g<y;){var I=ci(l[g]);if(!(D=s!=null&&p(s,I)))break;s=s[I]}return D||++g!=y?D:(y=s==null?0:s.length,!!y&&Ku(y)&&Ni(I,y)&&(Qe(s)||Zo(s)))}function eS(s){var l=s.length,p=new s.constructor(l);return l&&typeof s[0]=="string"&&It.call(s,"index")&&(p.index=s.index,p.input=s.input),p}function fv(s){return typeof s.constructor=="function"&&!nl(s)?Fs(bu(s)):{}}function tS(s,l,p){var g=s.constructor;switch(l){case bn:return gp(s);case _e:case De:return new g(+s);case Hn:return W2(s,p);case er:case tr:case $i:case ai:case Fo:case Wo:case re:case xe:case Ct:return Vg(s,p);case pt:return new g;case Tt:case wn:return new g(s);case ar:return Y2(s);case yn:return new g;case Un:return B2(s)}}function nS(s,l){var p=l.length;if(!p)return s;var g=p-1;return l[g]=(p>1?"& ":"")+l[g],l=l.join(p>2?", ":" "),s.replace(gd,`{
/* [wrapped with `+l+`] */
`)}function rS(s){return Qe(s)||Zo(s)||!!(hg&&s&&s[hg])}function Ni(s,l){var p=typeof s;return l=l==null?Z:l,!!l&&(p=="number"||p!="symbol"&&Dd.test(s))&&s>-1&&s%1==0&&s<l}function qn(s,l,p){if(!Xt(p))return!1;var g=typeof l;return(g=="number"?rr(p)&&Ni(l,p.length):g=="string"&&l in p)?zr(p[l],s):!1}function Tp(s,l){if(Qe(s))return!1;var p=typeof s;return p=="number"||p=="symbol"||p=="boolean"||s==null||dr(s)?!0:dd.test(s)||!cd.test(s)||l!=null&&s in Yt(l)}function iS(s){var l=typeof s;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?s!=="__proto__":s===null}function Cp(s){var l=Bu(s),p=T[l];if(typeof p!="function"||!(l in _t.prototype))return!1;if(s===p)return!0;var g=bp(p);return!!g&&s===g[0]}function oS(s){return!!cg&&cg in s}var sS=gu?Ri:jp;function nl(s){var l=s&&s.constructor,p=typeof l=="function"&&l.prototype||Rs;return s===p}function cv(s){return s===s&&!Xt(s)}function dv(s,l){return function(p){return p==null?!1:p[s]===l&&(l!==t||s in Yt(p))}}function aS(s){var l=Vu(s,function(g){return p.size===u&&p.clear(),g}),p=l.cache;return l}function lS(s,l){var p=s[1],g=l[1],y=p|g,D=y<(_|b|M),I=g==M&&p==w||g==M&&p==P&&s[7].length<=l[8]||g==(M|P)&&l[7].length<=l[8]&&p==w;if(!(D||I))return s;g&_&&(s[2]=l[2],y|=p&_?0:E);var G=l[3];if(G){var q=s[3];s[3]=q?Kg(q,G,l[4]):G,s[4]=q?no(s[3],f):l[4]}return G=l[5],G&&(q=s[5],s[5]=q?Zg(q,G,l[6]):G,s[6]=q?no(s[5],f):l[6]),G=l[7],G&&(s[7]=G),g&M&&(s[8]=s[8]==null?l[8]:In(s[8],l[8])),s[9]==null&&(s[9]=l[9]),s[0]=l[0],s[1]=y,s}function uS(s){var l=[];if(s!=null)for(var p in Yt(s))l.push(p);return l}function fS(s){return _u.call(s)}function pv(s,l,p){return l=mn(l===t?s.length-1:l,0),function(){for(var g=arguments,y=-1,D=mn(g.length-l,0),I=oe(D);++y<D;)I[y]=g[l+y];y=-1;for(var G=oe(l+1);++y<l;)G[y]=g[y];return G[l]=p(I),ur(s,this,G)}}function mv(s,l){return l.length<2?s:Vo(s,Ar(l,0,-1))}function cS(s,l){for(var p=s.length,g=In(l.length,p),y=nr(s);g--;){var D=l[g];s[g]=Ni(D,p)?y[D]:t}return s}function Sp(s,l){if(!(l==="constructor"&&typeof s[l]=="function")&&l!="__proto__")return s[l]}var hv=vv(Wg),rl=SC||function(s,l){return kn.setTimeout(s,l)},Dp=vv(R2);function gv(s,l,p){var g=l+"";return Dp(s,nS(g,dS($2(g),p)))}function vv(s){var l=0,p=0;return function(){var g=MC(),y=z-(g-p);if(p=g,y>0){if(++l>=ae)return arguments[0]}else l=0;return s.apply(t,arguments)}}function ju(s,l){var p=-1,g=s.length,y=g-1;for(l=l===t?g:l;++p<l;){var D=up(p,y),I=s[D];s[D]=s[p],s[p]=I}return s.length=l,s}var _v=aS(function(s){var l=[];return s.charCodeAt(0)===46&&l.push(""),s.replace(pd,function(p,g,y,D){l.push(y?D.replace(bd,"$1"):g||p)}),l});function ci(s){if(typeof s=="string"||dr(s))return s;var l=s+"";return l=="0"&&1/s==-O?"-0":l}function Ko(s){if(s!=null){try{return vu.call(s)}catch(l){}try{return s+""}catch(l){}}return""}function dS(s,l){return Cr(K,function(p){var g="_."+p[0];l&p[1]&&!du(s,g)&&s.push(g)}),s.sort()}function yv(s){if(s instanceof _t)return s.clone();var l=new Dr(s.__wrapped__,s.__chain__);return l.__actions__=nr(s.__actions__),l.__index__=s.__index__,l.__values__=s.__values__,l}function pS(s,l,p){(p?qn(s,l,p):l===t)?l=1:l=mn(ot(l),0);var g=s==null?0:s.length;if(!g||l<1)return[];for(var y=0,D=0,I=oe(Tu(g/l));y<g;)I[D++]=Ar(s,y,y+=l);return I}function mS(s){for(var l=-1,p=s==null?0:s.length,g=0,y=[];++l<p;){var D=s[l];D&&(y[g++]=D)}return y}function hS(){var s=arguments.length;if(!s)return[];for(var l=oe(s-1),p=arguments[0],g=s;g--;)l[g-1]=arguments[g];return to(Qe(p)?nr(p):[p],Mn(l,1))}var gS=ct(function(s,l){return on(s)?Xa(s,Mn(l,1,on,!0)):[]}),vS=ct(function(s,l){var p=Mr(l);return on(p)&&(p=t),on(s)?Xa(s,Mn(l,1,on,!0),Le(p,2)):[]}),_S=ct(function(s,l){var p=Mr(l);return on(p)&&(p=t),on(s)?Xa(s,Mn(l,1,on,!0),t,p):[]});function yS(s,l,p){var g=s==null?0:s.length;return g?(l=p||l===t?1:ot(l),Ar(s,l<0?0:l,g)):[]}function wS(s,l,p){var g=s==null?0:s.length;return g?(l=p||l===t?1:ot(l),l=g-l,Ar(s,0,l<0?0:l)):[]}function bS(s,l){return s&&s.length?Ru(s,Le(l,3),!0,!0):[]}function kS(s,l){return s&&s.length?Ru(s,Le(l,3),!0):[]}function ES(s,l,p,g){var y=s==null?0:s.length;return y?(p&&typeof p!="number"&&qn(s,l,p)&&(p=0,g=y),h2(s,l,p,g)):[]}function wv(s,l,p){var g=s==null?0:s.length;if(!g)return-1;var y=p==null?0:ot(p);return y<0&&(y=mn(g+y,0)),pu(s,Le(l,3),y)}function bv(s,l,p){var g=s==null?0:s.length;if(!g)return-1;var y=g-1;return p!==t&&(y=ot(p),y=p<0?mn(g+y,0):In(y,g-1)),pu(s,Le(l,3),y,!0)}function kv(s){var l=s==null?0:s.length;return l?Mn(s,1):[]}function TS(s){var l=s==null?0:s.length;return l?Mn(s,O):[]}function CS(s,l){var p=s==null?0:s.length;return p?(l=l===t?1:ot(l),Mn(s,l)):[]}function SS(s){for(var l=-1,p=s==null?0:s.length,g={};++l<p;){var y=s[l];g[y[0]]=y[1]}return g}function Ev(s){return s&&s.length?s[0]:t}function DS(s,l,p){var g=s==null?0:s.length;if(!g)return-1;var y=p==null?0:ot(p);return y<0&&(y=mn(g+y,0)),xs(s,l,y)}function OS(s){var l=s==null?0:s.length;return l?Ar(s,0,-1):[]}var AS=ct(function(s){var l=Kt(s,mp);return l.length&&l[0]===s[0]?ip(l):[]}),MS=ct(function(s){var l=Mr(s),p=Kt(s,mp);return l===Mr(p)?l=t:p.pop(),p.length&&p[0]===s[0]?ip(p,Le(l,2)):[]}),xS=ct(function(s){var l=Mr(s),p=Kt(s,mp);return l=typeof l=="function"?l:t,l&&p.pop(),p.length&&p[0]===s[0]?ip(p,t,l):[]});function PS(s,l){return s==null?"":OC.call(s,l)}function Mr(s){var l=s==null?0:s.length;return l?s[l-1]:t}function NS(s,l,p){var g=s==null?0:s.length;if(!g)return-1;var y=g;return p!==t&&(y=ot(p),y=y<0?mn(g+y,0):In(y,g-1)),l===l?dC(s,l,y):pu(s,rg,y,!0)}function RS(s,l){return s&&s.length?Rg(s,ot(l)):t}var IS=ct(Tv);function Tv(s,l){return s&&s.length&&l&&l.length?lp(s,l):s}function LS(s,l,p){return s&&s.length&&l&&l.length?lp(s,l,Le(p,2)):s}function FS(s,l,p){return s&&s.length&&l&&l.length?lp(s,l,t,p):s}var WS=Pi(function(s,l){var p=s==null?0:s.length,g=ep(s,l);return Fg(s,Kt(l,function(y){return Ni(y,p)?+y:y}).sort(qg)),g});function YS(s,l){var p=[];if(!(s&&s.length))return p;var g=-1,y=[],D=s.length;for(l=Le(l,3);++g<D;){var I=s[g];l(I,g,s)&&(p.push(I),y.push(g))}return Fg(s,y),p}function Op(s){return s==null?s:PC.call(s)}function BS(s,l,p){var g=s==null?0:s.length;return g?(p&&typeof p!="number"&&qn(s,l,p)?(l=0,p=g):(l=l==null?0:ot(l),p=p===t?g:ot(p)),Ar(s,l,p)):[]}function GS(s,l){return Nu(s,l)}function jS(s,l,p){return cp(s,l,Le(p,2))}function US(s,l){var p=s==null?0:s.length;if(p){var g=Nu(s,l);if(g<p&&zr(s[g],l))return g}return-1}function zS(s,l){return Nu(s,l,!0)}function HS(s,l,p){return cp(s,l,Le(p,2),!0)}function VS(s,l){var p=s==null?0:s.length;if(p){var g=Nu(s,l,!0)-1;if(zr(s[g],l))return g}return-1}function qS(s){return s&&s.length?Yg(s):[]}function KS(s,l){return s&&s.length?Yg(s,Le(l,2)):[]}function ZS(s){var l=s==null?0:s.length;return l?Ar(s,1,l):[]}function XS(s,l,p){return s&&s.length?(l=p||l===t?1:ot(l),Ar(s,0,l<0?0:l)):[]}function JS(s,l,p){var g=s==null?0:s.length;return g?(l=p||l===t?1:ot(l),l=g-l,Ar(s,l<0?0:l,g)):[]}function QS(s,l){return s&&s.length?Ru(s,Le(l,3),!1,!0):[]}function $S(s,l){return s&&s.length?Ru(s,Le(l,3)):[]}var eD=ct(function(s){return so(Mn(s,1,on,!0))}),tD=ct(function(s){var l=Mr(s);return on(l)&&(l=t),so(Mn(s,1,on,!0),Le(l,2))}),nD=ct(function(s){var l=Mr(s);return l=typeof l=="function"?l:t,so(Mn(s,1,on,!0),t,l)});function rD(s){return s&&s.length?so(s):[]}function iD(s,l){return s&&s.length?so(s,Le(l,2)):[]}function oD(s,l){return l=typeof l=="function"?l:t,s&&s.length?so(s,t,l):[]}function Ap(s){if(!(s&&s.length))return[];var l=0;return s=eo(s,function(p){if(on(p))return l=mn(p.length,l),!0}),Vd(l,function(p){return Kt(s,Ud(p))})}function Cv(s,l){if(!(s&&s.length))return[];var p=Ap(s);return l==null?p:Kt(p,function(g){return ur(l,t,g)})}var sD=ct(function(s,l){return on(s)?Xa(s,l):[]}),aD=ct(function(s){return pp(eo(s,on))}),lD=ct(function(s){var l=Mr(s);return on(l)&&(l=t),pp(eo(s,on),Le(l,2))}),uD=ct(function(s){var l=Mr(s);return l=typeof l=="function"?l:t,pp(eo(s,on),t,l)}),fD=ct(Ap);function cD(s,l){return Ug(s||[],l||[],Za)}function dD(s,l){return Ug(s||[],l||[],$a)}var pD=ct(function(s){var l=s.length,p=l>1?s[l-1]:t;return p=typeof p=="function"?(s.pop(),p):t,Cv(s,p)});function Sv(s){var l=T(s);return l.__chain__=!0,l}function mD(s,l){return l(s),s}function Uu(s,l){return l(s)}var hD=Pi(function(s){var l=s.length,p=l?s[0]:0,g=this.__wrapped__,y=function(D){return ep(D,s)};return l>1||this.__actions__.length||!(g instanceof _t)||!Ni(p)?this.thru(y):(g=g.slice(p,+p+(l?1:0)),g.__actions__.push({func:Uu,args:[y],thisArg:t}),new Dr(g,this.__chain__).thru(function(D){return l&&!D.length&&D.push(t),D}))});function gD(){return Sv(this)}function vD(){return new Dr(this.value(),this.__chain__)}function _D(){this.__values__===t&&(this.__values__=Bv(this.value()));var s=this.__index__>=this.__values__.length,l=s?t:this.__values__[this.__index__++];return{done:s,value:l}}function yD(){return this}function wD(s){for(var l,p=this;p instanceof Ou;){var g=yv(p);g.__index__=0,g.__values__=t,l?y.__wrapped__=g:l=g;var y=g;p=p.__wrapped__}return y.__wrapped__=s,l}function bD(){var s=this.__wrapped__;if(s instanceof _t){var l=s;return this.__actions__.length&&(l=new _t(this)),l=l.reverse(),l.__actions__.push({func:Uu,args:[Op],thisArg:t}),new Dr(l,this.__chain__)}return this.thru(Op)}function kD(){return jg(this.__wrapped__,this.__actions__)}var ED=Iu(function(s,l,p){It.call(s,p)?++s[p]:Mi(s,p,1)});function TD(s,l,p){var g=Qe(s)?tg:m2;return p&&qn(s,l,p)&&(l=t),g(s,Le(l,3))}function CD(s,l){var p=Qe(s)?eo:Cg;return p(s,Le(l,3))}var SD=$g(wv),DD=$g(bv);function OD(s,l){return Mn(zu(s,l),1)}function AD(s,l){return Mn(zu(s,l),O)}function MD(s,l,p){return p=p===t?1:ot(p),Mn(zu(s,l),p)}function Dv(s,l){var p=Qe(s)?Cr:oo;return p(s,Le(l,3))}function Ov(s,l){var p=Qe(s)?ZT:Tg;return p(s,Le(l,3))}var xD=Iu(function(s,l,p){It.call(s,p)?s[p].push(l):Mi(s,p,[l])});function PD(s,l,p,g){s=rr(s)?s:js(s),p=p&&!g?ot(p):0;var y=s.length;return p<0&&(p=mn(y+p,0)),Zu(s)?p<=y&&s.indexOf(l,p)>-1:!!y&&xs(s,l,p)>-1}var ND=ct(function(s,l,p){var g=-1,y=typeof l=="function",D=rr(s)?oe(s.length):[];return oo(s,function(I){D[++g]=y?ur(l,I,p):Ja(I,l,p)}),D}),RD=Iu(function(s,l,p){Mi(s,p,l)});function zu(s,l){var p=Qe(s)?Kt:xg;return p(s,Le(l,3))}function ID(s,l,p,g){return s==null?[]:(Qe(l)||(l=l==null?[]:[l]),p=g?t:p,Qe(p)||(p=p==null?[]:[p]),Ig(s,l,p))}var LD=Iu(function(s,l,p){s[p?0:1].push(l)},function(){return[[],[]]});function FD(s,l,p){var g=Qe(s)?Gd:og,y=arguments.length<3;return g(s,Le(l,4),p,y,oo)}function WD(s,l,p){var g=Qe(s)?XT:og,y=arguments.length<3;return g(s,Le(l,4),p,y,Tg)}function YD(s,l){var p=Qe(s)?eo:Cg;return p(s,qu(Le(l,3)))}function BD(s){var l=Qe(s)?wg:P2;return l(s)}function GD(s,l,p){(p?qn(s,l,p):l===t)?l=1:l=ot(l);var g=Qe(s)?u2:N2;return g(s,l)}function jD(s){var l=Qe(s)?f2:I2;return l(s)}function UD(s){if(s==null)return 0;if(rr(s))return Zu(s)?Ns(s):s.length;var l=Ln(s);return l==pt||l==yn?s.size:sp(s).length}function zD(s,l,p){var g=Qe(s)?jd:L2;return p&&qn(s,l,p)&&(l=t),g(s,Le(l,3))}var HD=ct(function(s,l){if(s==null)return[];var p=l.length;return p>1&&qn(s,l[0],l[1])?l=[]:p>2&&qn(l[0],l[1],l[2])&&(l=[l[0]]),Ig(s,Mn(l,1),[])}),Hu=CC||function(){return kn.Date.now()};function VD(s,l){if(typeof l!="function")throw new Sr(i);return s=ot(s),function(){if(--s<1)return l.apply(this,arguments)}}function Av(s,l,p){return l=p?t:l,l=s&&l==null?s.length:l,xi(s,M,t,t,t,t,l)}function Mv(s,l){var p;if(typeof l!="function")throw new Sr(i);return s=ot(s),function(){return--s>0&&(p=l.apply(this,arguments)),s<=1&&(l=t),p}}var Mp=ct(function(s,l,p){var g=_;if(p.length){var y=no(p,Bs(Mp));g|=A}return xi(s,g,l,p,y)}),xv=ct(function(s,l,p){var g=_|b;if(p.length){var y=no(p,Bs(xv));g|=A}return xi(l,g,s,p,y)});function Pv(s,l,p){l=p?t:l;var g=xi(s,w,t,t,t,t,t,l);return g.placeholder=Pv.placeholder,g}function Nv(s,l,p){l=p?t:l;var g=xi(s,C,t,t,t,t,t,l);return g.placeholder=Nv.placeholder,g}function Rv(s,l,p){var g,y,D,I,G,q,fe=0,de=!1,me=!1,be=!0;if(typeof s!="function")throw new Sr(i);l=xr(l)||0,Xt(p)&&(de=!!p.leading,me="maxWait"in p,D=me?mn(xr(p.maxWait)||0,l):D,be="trailing"in p?!!p.trailing:be);function Oe(sn){var Hr=g,Li=y;return g=y=t,fe=sn,I=s.apply(Li,Hr),I}function Be(sn){return fe=sn,G=rl(vt,l),de?Oe(sn):I}function at(sn){var Hr=sn-q,Li=sn-fe,$v=l-Hr;return me?In($v,D-Li):$v}function Ge(sn){var Hr=sn-q,Li=sn-fe;return q===t||Hr>=l||Hr<0||me&&Li>=D}function vt(){var sn=Hu();if(Ge(sn))return bt(sn);G=rl(vt,at(sn))}function bt(sn){return G=t,be&&g?Oe(sn):(g=y=t,I)}function pr(){G!==t&&zg(G),fe=0,g=q=y=G=t}function Kn(){return G===t?I:bt(Hu())}function mr(){var sn=Hu(),Hr=Ge(sn);if(g=arguments,y=this,q=sn,Hr){if(G===t)return Be(q);if(me)return zg(G),G=rl(vt,l),Oe(q)}return G===t&&(G=rl(vt,l)),I}return mr.cancel=pr,mr.flush=Kn,mr}var qD=ct(function(s,l){return Eg(s,1,l)}),KD=ct(function(s,l,p){return Eg(s,xr(l)||0,p)});function ZD(s){return xi(s,L)}function Vu(s,l){if(typeof s!="function"||l!=null&&typeof l!="function")throw new Sr(i);var p=function(){var g=arguments,y=l?l.apply(this,g):g[0],D=p.cache;if(D.has(y))return D.get(y);var I=s.apply(this,g);return p.cache=D.set(y,I)||D,I};return p.cache=new(Vu.Cache||Ai),p}Vu.Cache=Ai;function qu(s){if(typeof s!="function")throw new Sr(i);return function(){var l=arguments;switch(l.length){case 0:return!s.call(this);case 1:return!s.call(this,l[0]);case 2:return!s.call(this,l[0],l[1]);case 3:return!s.call(this,l[0],l[1],l[2])}return!s.apply(this,l)}}function XD(s){return Mv(2,s)}var JD=F2(function(s,l){l=l.length==1&&Qe(l[0])?Kt(l[0],fr(Le())):Kt(Mn(l,1),fr(Le()));var p=l.length;return ct(function(g){for(var y=-1,D=In(g.length,p);++y<D;)g[y]=l[y].call(this,g[y]);return ur(s,this,g)})}),xp=ct(function(s,l){var p=no(l,Bs(xp));return xi(s,A,t,l,p)}),Iv=ct(function(s,l){var p=no(l,Bs(Iv));return xi(s,Y,t,l,p)}),QD=Pi(function(s,l){return xi(s,P,t,t,t,l)});function $D(s,l){if(typeof s!="function")throw new Sr(i);return l=l===t?l:ot(l),ct(s,l)}function eO(s,l){if(typeof s!="function")throw new Sr(i);return l=l==null?0:mn(ot(l),0),ct(function(p){var g=p[l],y=lo(p,0,l);return g&&to(y,g),ur(s,this,y)})}function tO(s,l,p){var g=!0,y=!0;if(typeof s!="function")throw new Sr(i);return Xt(p)&&(g="leading"in p?!!p.leading:g,y="trailing"in p?!!p.trailing:y),Rv(s,l,{leading:g,maxWait:l,trailing:y})}function nO(s){return Av(s,1)}function rO(s,l){return xp(hp(l),s)}function iO(){if(!arguments.length)return[];var s=arguments[0];return Qe(s)?s:[s]}function oO(s){return Or(s,m)}function sO(s,l){return l=typeof l=="function"?l:t,Or(s,m,l)}function aO(s){return Or(s,c|m)}function lO(s,l){return l=typeof l=="function"?l:t,Or(s,c|m,l)}function uO(s,l){return l==null||kg(s,l,En(l))}function zr(s,l){return s===l||s!==s&&l!==l}var fO=Yu(rp),cO=Yu(function(s,l){return s>=l}),Zo=Og(function(){return arguments}())?Og:function(s){return $t(s)&&It.call(s,"callee")&&!mg.call(s,"callee")},Qe=oe.isArray,dO=Zh?fr(Zh):w2;function rr(s){return s!=null&&Ku(s.length)&&!Ri(s)}function on(s){return $t(s)&&rr(s)}function pO(s){return s===!0||s===!1||$t(s)&&Vn(s)==_e}var uo=DC||jp,mO=Xh?fr(Xh):b2;function hO(s){return $t(s)&&s.nodeType===1&&!il(s)}function gO(s){if(s==null)return!0;if(rr(s)&&(Qe(s)||typeof s=="string"||typeof s.splice=="function"||uo(s)||Gs(s)||Zo(s)))return!s.length;var l=Ln(s);if(l==pt||l==yn)return!s.size;if(nl(s))return!sp(s).length;for(var p in s)if(It.call(s,p))return!1;return!0}function vO(s,l){return Qa(s,l)}function _O(s,l,p){p=typeof p=="function"?p:t;var g=p?p(s,l):t;return g===t?Qa(s,l,t,p):!!g}function Pp(s){if(!$t(s))return!1;var l=Vn(s);return l==ut||l==nt||typeof s.message=="string"&&typeof s.name=="string"&&!il(s)}function yO(s){return typeof s=="number"&&gg(s)}function Ri(s){if(!Xt(s))return!1;var l=Vn(s);return l==ye||l==Ee||l==ue||l==$n}function Lv(s){return typeof s=="number"&&s==ot(s)}function Ku(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Z}function Xt(s){var l=typeof s;return s!=null&&(l=="object"||l=="function")}function $t(s){return s!=null&&typeof s=="object"}var Fv=Jh?fr(Jh):E2;function wO(s,l){return s===l||op(s,l,kp(l))}function bO(s,l,p){return p=typeof p=="function"?p:t,op(s,l,kp(l),p)}function kO(s){return Wv(s)&&s!=+s}function EO(s){if(sS(s))throw new Xe(r);return Ag(s)}function TO(s){return s===null}function CO(s){return s==null}function Wv(s){return typeof s=="number"||$t(s)&&Vn(s)==Tt}function il(s){if(!$t(s)||Vn(s)!=ft)return!1;var l=bu(s);if(l===null)return!0;var p=It.call(l,"constructor")&&l.constructor;return typeof p=="function"&&p instanceof p&&vu.call(p)==bC}var Np=Qh?fr(Qh):T2;function SO(s){return Lv(s)&&s>=-Z&&s<=Z}var Yv=$h?fr($h):C2;function Zu(s){return typeof s=="string"||!Qe(s)&&$t(s)&&Vn(s)==wn}function dr(s){return typeof s=="symbol"||$t(s)&&Vn(s)==Un}var Gs=eg?fr(eg):S2;function DO(s){return s===t}function OO(s){return $t(s)&&Ln(s)==zn}function AO(s){return $t(s)&&Vn(s)==An}var MO=Yu(ap),xO=Yu(function(s,l){return s<=l});function Bv(s){if(!s)return[];if(rr(s))return Zu(s)?jr(s):nr(s);if(za&&s[za])return uC(s[za]());var l=Ln(s),p=l==pt?Kd:l==yn?mu:js;return p(s)}function Ii(s){if(!s)return s===0?s:0;if(s=xr(s),s===O||s===-O){var l=s<0?-1:1;return l*te}return s===s?s:0}function ot(s){var l=Ii(s),p=l%1;return l===l?p?l-p:l:0}function Gv(s){return s?Ho(ot(s),0,J):0}function xr(s){if(typeof s=="number")return s;if(dr(s))return U;if(Xt(s)){var l=typeof s.valueOf=="function"?s.valueOf():s;s=Xt(l)?l+"":l}if(typeof s!="string")return s===0?s:+s;s=sg(s);var p=Td.test(s);return p||Sd.test(s)?VT(s.slice(2),p?2:8):Ed.test(s)?U:+s}function jv(s){return fi(s,ir(s))}function PO(s){return s?Ho(ot(s),-Z,Z):s===0?s:0}function Pt(s){return s==null?"":cr(s)}var NO=Ws(function(s,l){if(nl(l)||rr(l)){fi(l,En(l),s);return}for(var p in l)It.call(l,p)&&Za(s,p,l[p])}),Uv=Ws(function(s,l){fi(l,ir(l),s)}),Xu=Ws(function(s,l,p,g){fi(l,ir(l),s,g)}),RO=Ws(function(s,l,p,g){fi(l,En(l),s,g)}),IO=Pi(ep);function LO(s,l){var p=Fs(s);return l==null?p:bg(p,l)}var FO=ct(function(s,l){s=Yt(s);var p=-1,g=l.length,y=g>2?l[2]:t;for(y&&qn(l[0],l[1],y)&&(g=1);++p<g;)for(var D=l[p],I=ir(D),G=-1,q=I.length;++G<q;){var fe=I[G],de=s[fe];(de===t||zr(de,Rs[fe])&&!It.call(s,fe))&&(s[fe]=D[fe])}return s}),WO=ct(function(s){return s.push(t,sv),ur(zv,t,s)});function YO(s,l){return ng(s,Le(l,3),ui)}function BO(s,l){return ng(s,Le(l,3),np)}function GO(s,l){return s==null?s:tp(s,Le(l,3),ir)}function jO(s,l){return s==null?s:Sg(s,Le(l,3),ir)}function UO(s,l){return s&&ui(s,Le(l,3))}function zO(s,l){return s&&np(s,Le(l,3))}function HO(s){return s==null?[]:xu(s,En(s))}function VO(s){return s==null?[]:xu(s,ir(s))}function Rp(s,l,p){var g=s==null?t:Vo(s,l);return g===t?p:g}function qO(s,l){return s!=null&&uv(s,l,g2)}function Ip(s,l){return s!=null&&uv(s,l,v2)}var KO=tv(function(s,l,p){l!=null&&typeof l.toString!="function"&&(l=_u.call(l)),s[l]=p},Fp(or)),ZO=tv(function(s,l,p){l!=null&&typeof l.toString!="function"&&(l=_u.call(l)),It.call(s,l)?s[l].push(p):s[l]=[p]},Le),XO=ct(Ja);function En(s){return rr(s)?yg(s):sp(s)}function ir(s){return rr(s)?yg(s,!0):D2(s)}function JO(s,l){var p={};return l=Le(l,3),ui(s,function(g,y,D){Mi(p,l(g,y,D),g)}),p}function QO(s,l){var p={};return l=Le(l,3),ui(s,function(g,y,D){Mi(p,y,l(g,y,D))}),p}var $O=Ws(function(s,l,p){Pu(s,l,p)}),zv=Ws(function(s,l,p,g){Pu(s,l,p,g)}),eA=Pi(function(s,l){var p={};if(s==null)return p;var g=!1;l=Kt(l,function(D){return D=ao(D,s),g||(g=D.length>1),D}),fi(s,wp(s),p),g&&(p=Or(p,c|d|m,K2));for(var y=l.length;y--;)dp(p,l[y]);return p});function tA(s,l){return Hv(s,qu(Le(l)))}var nA=Pi(function(s,l){return s==null?{}:A2(s,l)});function Hv(s,l){if(s==null)return{};var p=Kt(wp(s),function(g){return[g]});return l=Le(l),Lg(s,p,function(g,y){return l(g,y[0])})}function rA(s,l,p){l=ao(l,s);var g=-1,y=l.length;for(y||(y=1,s=t);++g<y;){var D=s==null?t:s[ci(l[g])];D===t&&(g=y,D=p),s=Ri(D)?D.call(s):D}return s}function iA(s,l,p){return s==null?s:$a(s,l,p)}function oA(s,l,p,g){return g=typeof g=="function"?g:t,s==null?s:$a(s,l,p,g)}var Vv=iv(En),qv=iv(ir);function sA(s,l,p){var g=Qe(s),y=g||uo(s)||Gs(s);if(l=Le(l,4),p==null){var D=s&&s.constructor;y?p=g?new D:[]:Xt(s)?p=Ri(D)?Fs(bu(s)):{}:p={}}return(y?Cr:ui)(s,function(I,G,q){return l(p,I,G,q)}),p}function aA(s,l){return s==null?!0:dp(s,l)}function lA(s,l,p){return s==null?s:Gg(s,l,hp(p))}function uA(s,l,p,g){return g=typeof g=="function"?g:t,s==null?s:Gg(s,l,hp(p),g)}function js(s){return s==null?[]:qd(s,En(s))}function fA(s){return s==null?[]:qd(s,ir(s))}function cA(s,l,p){return p===t&&(p=l,l=t),p!==t&&(p=xr(p),p=p===p?p:0),l!==t&&(l=xr(l),l=l===l?l:0),Ho(xr(s),l,p)}function dA(s,l,p){return l=Ii(l),p===t?(p=l,l=0):p=Ii(p),s=xr(s),_2(s,l,p)}function pA(s,l,p){if(p&&typeof p!="boolean"&&qn(s,l,p)&&(l=p=t),p===t&&(typeof l=="boolean"?(p=l,l=t):typeof s=="boolean"&&(p=s,s=t)),s===t&&l===t?(s=0,l=1):(s=Ii(s),l===t?(l=s,s=0):l=Ii(l)),s>l){var g=s;s=l,l=g}if(p||s%1||l%1){var y=vg();return In(s+y*(l-s+HT("1e-"+((y+"").length-1))),l)}return up(s,l)}var mA=Ys(function(s,l,p){return l=l.toLowerCase(),s+(p?Kv(l):l)});function Kv(s){return Lp(Pt(s).toLowerCase())}function Zv(s){return s=Pt(s),s&&s.replace(Od,iC).replace(IT,"")}function hA(s,l,p){s=Pt(s),l=cr(l);var g=s.length;p=p===t?g:Ho(ot(p),0,g);var y=p;return p-=l.length,p>=0&&s.slice(p,y)==l}function gA(s){return s=Pt(s),s&&ld.test(s)?s.replace(Ss,oC):s}function vA(s){return s=Pt(s),s&&md.test(s)?s.replace(Ya,"\\$&"):s}var _A=Ys(function(s,l,p){return s+(p?"-":"")+l.toLowerCase()}),yA=Ys(function(s,l,p){return s+(p?" ":"")+l.toLowerCase()}),wA=Qg("toLowerCase");function bA(s,l,p){s=Pt(s),l=ot(l);var g=l?Ns(s):0;if(!l||g>=l)return s;var y=(l-g)/2;return Wu(Cu(y),p)+s+Wu(Tu(y),p)}function kA(s,l,p){s=Pt(s),l=ot(l);var g=l?Ns(s):0;return l&&g<l?s+Wu(l-g,p):s}function EA(s,l,p){s=Pt(s),l=ot(l);var g=l?Ns(s):0;return l&&g<l?Wu(l-g,p)+s:s}function TA(s,l,p){return p||l==null?l=0:l&&(l=+l),xC(Pt(s).replace(Ba,""),l||0)}function CA(s,l,p){return(p?qn(s,l,p):l===t)?l=1:l=ot(l),fp(Pt(s),l)}function SA(){var s=arguments,l=Pt(s[0]);return s.length<3?l:l.replace(s[1],s[2])}var DA=Ys(function(s,l,p){return s+(p?"_":"")+l.toLowerCase()});function OA(s,l,p){return p&&typeof p!="number"&&qn(s,l,p)&&(l=p=t),p=p===t?J:p>>>0,p?(s=Pt(s),s&&(typeof l=="string"||l!=null&&!Np(l))&&(l=cr(l),!l&&Ps(s))?lo(jr(s),0,p):s.split(l,p)):[]}var AA=Ys(function(s,l,p){return s+(p?" ":"")+Lp(l)});function MA(s,l,p){return s=Pt(s),p=p==null?0:Ho(ot(p),0,s.length),l=cr(l),s.slice(p,p+l.length)==l}function xA(s,l,p){var g=T.templateSettings;p&&qn(s,l,p)&&(l=t),s=Pt(s),l=Xu({},l,g,ov);var y=Xu({},l.imports,g.imports,ov),D=En(y),I=qd(y,D),G,q,fe=0,de=l.interpolate||Ds,me="__p += '",be=Zd((l.escape||Ds).source+"|"+de.source+"|"+(de===ou?kd:Ds).source+"|"+(l.evaluate||Ds).source+"|$","g"),Oe="//# sourceURL="+(It.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++BT+"]")+`
`;s.replace(be,function(Ge,vt,bt,pr,Kn,mr){return bt||(bt=pr),me+=s.slice(fe,mr).replace(Ad,sC),vt&&(G=!0,me+=`' +
__e(`+vt+`) +
'`),Kn&&(q=!0,me+=`';
`+Kn+`;
__p += '`),bt&&(me+=`' +
((__t = (`+bt+`)) == null ? '' : __t) +
'`),fe=mr+Ge.length,Ge}),me+=`';
`;var Be=It.call(l,"variable")&&l.variable;if(!Be)me=`with (obj) {
`+me+`
}
`;else if(wd.test(Be))throw new Xe(o);me=(q?me.replace(At,""):me).replace(lr,"$1").replace(Si,"$1;"),me="function("+(Be||"obj")+`) {
`+(Be?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(G?", __e = _.escape":"")+(q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+me+`return __p
}`;var at=Jv(function(){return Mt(D,Oe+"return "+me).apply(t,I)});if(at.source=me,Pp(at))throw at;return at}function PA(s){return Pt(s).toLowerCase()}function NA(s){return Pt(s).toUpperCase()}function RA(s,l,p){if(s=Pt(s),s&&(p||l===t))return sg(s);if(!s||!(l=cr(l)))return s;var g=jr(s),y=jr(l),D=ag(g,y),I=lg(g,y)+1;return lo(g,D,I).join("")}function IA(s,l,p){if(s=Pt(s),s&&(p||l===t))return s.slice(0,fg(s)+1);if(!s||!(l=cr(l)))return s;var g=jr(s),y=lg(g,jr(l))+1;return lo(g,0,y).join("")}function LA(s,l,p){if(s=Pt(s),s&&(p||l===t))return s.replace(Ba,"");if(!s||!(l=cr(l)))return s;var g=jr(s),y=ag(g,jr(l));return lo(g,y).join("")}function FA(s,l){var p=S,g=F;if(Xt(l)){var y="separator"in l?l.separator:y;p="length"in l?ot(l.length):p,g="omission"in l?cr(l.omission):g}s=Pt(s);var D=s.length;if(Ps(s)){var I=jr(s);D=I.length}if(p>=D)return s;var G=p-Ns(g);if(G<1)return g;var q=I?lo(I,0,G).join(""):s.slice(0,G);if(y===t)return q+g;if(I&&(G+=q.length-G),Np(y)){if(s.slice(G).search(y)){var fe,de=q;for(y.global||(y=Zd(y.source,Pt(su.exec(y))+"g")),y.lastIndex=0;fe=y.exec(de);)var me=fe.index;q=q.slice(0,me===t?G:me)}}else if(s.indexOf(cr(y),G)!=G){var be=q.lastIndexOf(y);be>-1&&(q=q.slice(0,be))}return q+g}function WA(s){return s=Pt(s),s&&ad.test(s)?s.replace(Cs,pC):s}var YA=Ys(function(s,l,p){return s+(p?" ":"")+l.toUpperCase()}),Lp=Qg("toUpperCase");function Xv(s,l,p){return s=Pt(s),l=p?t:l,l===t?lC(s)?gC(s):$T(s):s.match(l)||[]}var Jv=ct(function(s,l){try{return ur(s,t,l)}catch(p){return Pp(p)?p:new Xe(p)}}),BA=Pi(function(s,l){return Cr(l,function(p){p=ci(p),Mi(s,p,Mp(s[p],s))}),s});function GA(s){var l=s==null?0:s.length,p=Le();return s=l?Kt(s,function(g){if(typeof g[1]!="function")throw new Sr(i);return[p(g[0]),g[1]]}):[],ct(function(g){for(var y=-1;++y<l;){var D=s[y];if(ur(D[0],this,g))return ur(D[1],this,g)}})}function jA(s){return p2(Or(s,c))}function Fp(s){return function(){return s}}function UA(s,l){return s==null||s!==s?l:s}var zA=ev(),HA=ev(!0);function or(s){return s}function Wp(s){return Mg(typeof s=="function"?s:Or(s,c))}function VA(s){return Pg(Or(s,c))}function qA(s,l){return Ng(s,Or(l,c))}var KA=ct(function(s,l){return function(p){return Ja(p,s,l)}}),ZA=ct(function(s,l){return function(p){return Ja(s,p,l)}});function Yp(s,l,p){var g=En(l),y=xu(l,g);p==null&&!(Xt(l)&&(y.length||!g.length))&&(p=l,l=s,s=this,y=xu(l,En(l)));var D=!(Xt(p)&&"chain"in p)||!!p.chain,I=Ri(s);return Cr(y,function(G){var q=l[G];s[G]=q,I&&(s.prototype[G]=function(){var fe=this.__chain__;if(D||fe){var de=s(this.__wrapped__),me=de.__actions__=nr(this.__actions__);return me.push({func:q,args:arguments,thisArg:s}),de.__chain__=fe,de}return q.apply(s,to([this.value()],arguments))})}),s}function XA(){return kn._===this&&(kn._=kC),this}function Bp(){}function JA(s){return s=ot(s),ct(function(l){return Rg(l,s)})}var QA=vp(Kt),$A=vp(tg),eM=vp(jd);function Qv(s){return Tp(s)?Ud(ci(s)):M2(s)}function tM(s){return function(l){return s==null?t:Vo(s,l)}}var nM=nv(),rM=nv(!0);function Gp(){return[]}function jp(){return!1}function iM(){return{}}function oM(){return""}function sM(){return!0}function aM(s,l){if(s=ot(s),s<1||s>Z)return[];var p=J,g=In(s,J);l=Le(l),s-=J;for(var y=Vd(g,l);++p<s;)l(p);return y}function lM(s){return Qe(s)?Kt(s,ci):dr(s)?[s]:nr(_v(Pt(s)))}function uM(s){var l=++wC;return Pt(s)+l}var fM=Fu(function(s,l){return s+l},0),cM=_p("ceil"),dM=Fu(function(s,l){return s/l},1),pM=_p("floor");function mM(s){return s&&s.length?Mu(s,or,rp):t}function hM(s,l){return s&&s.length?Mu(s,Le(l,2),rp):t}function gM(s){return ig(s,or)}function vM(s,l){return ig(s,Le(l,2))}function _M(s){return s&&s.length?Mu(s,or,ap):t}function yM(s,l){return s&&s.length?Mu(s,Le(l,2),ap):t}var wM=Fu(function(s,l){return s*l},1),bM=_p("round"),kM=Fu(function(s,l){return s-l},0);function EM(s){return s&&s.length?Hd(s,or):0}function TM(s,l){return s&&s.length?Hd(s,Le(l,2)):0}return T.after=VD,T.ary=Av,T.assign=NO,T.assignIn=Uv,T.assignInWith=Xu,T.assignWith=RO,T.at=IO,T.before=Mv,T.bind=Mp,T.bindAll=BA,T.bindKey=xv,T.castArray=iO,T.chain=Sv,T.chunk=pS,T.compact=mS,T.concat=hS,T.cond=GA,T.conforms=jA,T.constant=Fp,T.countBy=ED,T.create=LO,T.curry=Pv,T.curryRight=Nv,T.debounce=Rv,T.defaults=FO,T.defaultsDeep=WO,T.defer=qD,T.delay=KD,T.difference=gS,T.differenceBy=vS,T.differenceWith=_S,T.drop=yS,T.dropRight=wS,T.dropRightWhile=bS,T.dropWhile=kS,T.fill=ES,T.filter=CD,T.flatMap=OD,T.flatMapDeep=AD,T.flatMapDepth=MD,T.flatten=kv,T.flattenDeep=TS,T.flattenDepth=CS,T.flip=ZD,T.flow=zA,T.flowRight=HA,T.fromPairs=SS,T.functions=HO,T.functionsIn=VO,T.groupBy=xD,T.initial=OS,T.intersection=AS,T.intersectionBy=MS,T.intersectionWith=xS,T.invert=KO,T.invertBy=ZO,T.invokeMap=ND,T.iteratee=Wp,T.keyBy=RD,T.keys=En,T.keysIn=ir,T.map=zu,T.mapKeys=JO,T.mapValues=QO,T.matches=VA,T.matchesProperty=qA,T.memoize=Vu,T.merge=$O,T.mergeWith=zv,T.method=KA,T.methodOf=ZA,T.mixin=Yp,T.negate=qu,T.nthArg=JA,T.omit=eA,T.omitBy=tA,T.once=XD,T.orderBy=ID,T.over=QA,T.overArgs=JD,T.overEvery=$A,T.overSome=eM,T.partial=xp,T.partialRight=Iv,T.partition=LD,T.pick=nA,T.pickBy=Hv,T.property=Qv,T.propertyOf=tM,T.pull=IS,T.pullAll=Tv,T.pullAllBy=LS,T.pullAllWith=FS,T.pullAt=WS,T.range=nM,T.rangeRight=rM,T.rearg=QD,T.reject=YD,T.remove=YS,T.rest=$D,T.reverse=Op,T.sampleSize=GD,T.set=iA,T.setWith=oA,T.shuffle=jD,T.slice=BS,T.sortBy=HD,T.sortedUniq=qS,T.sortedUniqBy=KS,T.split=OA,T.spread=eO,T.tail=ZS,T.take=XS,T.takeRight=JS,T.takeRightWhile=QS,T.takeWhile=$S,T.tap=mD,T.throttle=tO,T.thru=Uu,T.toArray=Bv,T.toPairs=Vv,T.toPairsIn=qv,T.toPath=lM,T.toPlainObject=jv,T.transform=sA,T.unary=nO,T.union=eD,T.unionBy=tD,T.unionWith=nD,T.uniq=rD,T.uniqBy=iD,T.uniqWith=oD,T.unset=aA,T.unzip=Ap,T.unzipWith=Cv,T.update=lA,T.updateWith=uA,T.values=js,T.valuesIn=fA,T.without=sD,T.words=Xv,T.wrap=rO,T.xor=aD,T.xorBy=lD,T.xorWith=uD,T.zip=fD,T.zipObject=cD,T.zipObjectDeep=dD,T.zipWith=pD,T.entries=Vv,T.entriesIn=qv,T.extend=Uv,T.extendWith=Xu,Yp(T,T),T.add=fM,T.attempt=Jv,T.camelCase=mA,T.capitalize=Kv,T.ceil=cM,T.clamp=cA,T.clone=oO,T.cloneDeep=aO,T.cloneDeepWith=lO,T.cloneWith=sO,T.conformsTo=uO,T.deburr=Zv,T.defaultTo=UA,T.divide=dM,T.endsWith=hA,T.eq=zr,T.escape=gA,T.escapeRegExp=vA,T.every=TD,T.find=SD,T.findIndex=wv,T.findKey=YO,T.findLast=DD,T.findLastIndex=bv,T.findLastKey=BO,T.floor=pM,T.forEach=Dv,T.forEachRight=Ov,T.forIn=GO,T.forInRight=jO,T.forOwn=UO,T.forOwnRight=zO,T.get=Rp,T.gt=fO,T.gte=cO,T.has=qO,T.hasIn=Ip,T.head=Ev,T.identity=or,T.includes=PD,T.indexOf=DS,T.inRange=dA,T.invoke=XO,T.isArguments=Zo,T.isArray=Qe,T.isArrayBuffer=dO,T.isArrayLike=rr,T.isArrayLikeObject=on,T.isBoolean=pO,T.isBuffer=uo,T.isDate=mO,T.isElement=hO,T.isEmpty=gO,T.isEqual=vO,T.isEqualWith=_O,T.isError=Pp,T.isFinite=yO,T.isFunction=Ri,T.isInteger=Lv,T.isLength=Ku,T.isMap=Fv,T.isMatch=wO,T.isMatchWith=bO,T.isNaN=kO,T.isNative=EO,T.isNil=CO,T.isNull=TO,T.isNumber=Wv,T.isObject=Xt,T.isObjectLike=$t,T.isPlainObject=il,T.isRegExp=Np,T.isSafeInteger=SO,T.isSet=Yv,T.isString=Zu,T.isSymbol=dr,T.isTypedArray=Gs,T.isUndefined=DO,T.isWeakMap=OO,T.isWeakSet=AO,T.join=PS,T.kebabCase=_A,T.last=Mr,T.lastIndexOf=NS,T.lowerCase=yA,T.lowerFirst=wA,T.lt=MO,T.lte=xO,T.max=mM,T.maxBy=hM,T.mean=gM,T.meanBy=vM,T.min=_M,T.minBy=yM,T.stubArray=Gp,T.stubFalse=jp,T.stubObject=iM,T.stubString=oM,T.stubTrue=sM,T.multiply=wM,T.nth=RS,T.noConflict=XA,T.noop=Bp,T.now=Hu,T.pad=bA,T.padEnd=kA,T.padStart=EA,T.parseInt=TA,T.random=pA,T.reduce=FD,T.reduceRight=WD,T.repeat=CA,T.replace=SA,T.result=rA,T.round=bM,T.runInContext=H,T.sample=BD,T.size=UD,T.snakeCase=DA,T.some=zD,T.sortedIndex=GS,T.sortedIndexBy=jS,T.sortedIndexOf=US,T.sortedLastIndex=zS,T.sortedLastIndexBy=HS,T.sortedLastIndexOf=VS,T.startCase=AA,T.startsWith=MA,T.subtract=kM,T.sum=EM,T.sumBy=TM,T.template=xA,T.times=aM,T.toFinite=Ii,T.toInteger=ot,T.toLength=Gv,T.toLower=PA,T.toNumber=xr,T.toSafeInteger=PO,T.toString=Pt,T.toUpper=NA,T.trim=RA,T.trimEnd=IA,T.trimStart=LA,T.truncate=FA,T.unescape=WA,T.uniqueId=uM,T.upperCase=YA,T.upperFirst=Lp,T.each=Dv,T.eachRight=Ov,T.first=Ev,Yp(T,function(){var s={};return ui(T,function(l,p){It.call(T.prototype,p)||(s[p]=l)}),s}(),{chain:!1}),T.VERSION=e,Cr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){T[s].placeholder=T}),Cr(["drop","take"],function(s,l){_t.prototype[s]=function(p){p=p===t?1:mn(ot(p),0);var g=this.__filtered__&&!l?new _t(this):this.clone();return g.__filtered__?g.__takeCount__=In(p,g.__takeCount__):g.__views__.push({size:In(p,J),type:s+(g.__dir__<0?"Right":"")}),g},_t.prototype[s+"Right"]=function(p){return this.reverse()[s](p).reverse()}}),Cr(["filter","map","takeWhile"],function(s,l){var p=l+1,g=p==X||p==pe;_t.prototype[s]=function(y){var D=this.clone();return D.__iteratees__.push({iteratee:Le(y,3),type:p}),D.__filtered__=D.__filtered__||g,D}}),Cr(["head","last"],function(s,l){var p="take"+(l?"Right":"");_t.prototype[s]=function(){return this[p](1).value()[0]}}),Cr(["initial","tail"],function(s,l){var p="drop"+(l?"":"Right");_t.prototype[s]=function(){return this.__filtered__?new _t(this):this[p](1)}}),_t.prototype.compact=function(){return this.filter(or)},_t.prototype.find=function(s){return this.filter(s).head()},_t.prototype.findLast=function(s){return this.reverse().find(s)},_t.prototype.invokeMap=ct(function(s,l){return typeof s=="function"?new _t(this):this.map(function(p){return Ja(p,s,l)})}),_t.prototype.reject=function(s){return this.filter(qu(Le(s)))},_t.prototype.slice=function(s,l){s=ot(s);var p=this;return p.__filtered__&&(s>0||l<0)?new _t(p):(s<0?p=p.takeRight(-s):s&&(p=p.drop(s)),l!==t&&(l=ot(l),p=l<0?p.dropRight(-l):p.take(l-s)),p)},_t.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},_t.prototype.toArray=function(){return this.take(J)},ui(_t.prototype,function(s,l){var p=/^(?:filter|find|map|reject)|While$/.test(l),g=/^(?:head|last)$/.test(l),y=T[g?"take"+(l=="last"?"Right":""):l],D=g||/^find/.test(l);!y||(T.prototype[l]=function(){var I=this.__wrapped__,G=g?[1]:arguments,q=I instanceof _t,fe=G[0],de=q||Qe(I),me=function(vt){var bt=y.apply(T,to([vt],G));return g&&be?bt[0]:bt};de&&p&&typeof fe=="function"&&fe.length!=1&&(q=de=!1);var be=this.__chain__,Oe=!!this.__actions__.length,Be=D&&!be,at=q&&!Oe;if(!D&&de){I=at?I:new _t(this);var Ge=s.apply(I,G);return Ge.__actions__.push({func:Uu,args:[me],thisArg:t}),new Dr(Ge,be)}return Be&&at?s.apply(this,G):(Ge=this.thru(me),Be?g?Ge.value()[0]:Ge.value():Ge)})}),Cr(["pop","push","shift","sort","splice","unshift"],function(s){var l=hu[s],p=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",g=/^(?:pop|shift)$/.test(s);T.prototype[s]=function(){var y=arguments;if(g&&!this.__chain__){var D=this.value();return l.apply(Qe(D)?D:[],y)}return this[p](function(I){return l.apply(Qe(I)?I:[],y)})}}),ui(_t.prototype,function(s,l){var p=T[l];if(p){var g=p.name+"";It.call(Ls,g)||(Ls[g]=[]),Ls[g].push({name:l,func:p})}}),Ls[Lu(t,b).name]=[{name:"wrapper",func:t}],_t.prototype.clone=WC,_t.prototype.reverse=YC,_t.prototype.value=BC,T.prototype.at=hD,T.prototype.chain=gD,T.prototype.commit=vD,T.prototype.next=_D,T.prototype.plant=wD,T.prototype.reverse=bD,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=kD,T.prototype.first=T.prototype.head,za&&(T.prototype[za]=yD),T},ro=vC();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(kn._=ro,define(function(){return ro})):Go?((Go.exports=ro)._=ro,Wd._=ro):kn._=ro}).call(Js)});var Em=Fi((mW,Mf)=>{var M1,x1,P1,N1,R1,I1,L1,F1,W1,Of,km,Y1,B1,G1,la,j1,U1,z1,H1,V1,q1,K1,Z1,Af;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){t(n(e,n(r)))}):typeof Mf=="object"&&typeof Mf.exports=="object"?t(n(e,n(Mf.exports))):t(n(e));function n(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(o,a){return r[o]=i?i(o,a):a}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])};M1=function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(r,i);function o(){this.constructor=r}r.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},x1=Object.assign||function(r){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(r[u]=i[u])}return r},P1=function(r,i){var o={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&i.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(r);u<a.length;u++)i.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(r,a[u])&&(o[a[u]]=r[a[u]]);return o},N1=function(r,i,o,a){var u=arguments.length,f=u<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(r,i,o,a);else for(var d=r.length-1;d>=0;d--)(c=r[d])&&(f=(u<3?c(f):u>3?c(i,o,f):c(i,o))||f);return u>3&&f&&Object.defineProperty(i,o,f),f},R1=function(r,i){return function(o,a){i(o,a,r)}},I1=function(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)},L1=function(r,i,o,a){function u(f){return f instanceof o?f:new o(function(c){c(f)})}return new(o||(o=Promise))(function(f,c){function d(v){try{h(a.next(v))}catch(_){c(_)}}function m(v){try{h(a.throw(v))}catch(_){c(_)}}function h(v){v.done?f(v.value):u(v.value).then(d,m)}h((a=a.apply(r,i||[])).next())})},F1=function(r,i){var o={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(h){return function(v){return m([h,v])}}function m(h){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,u&&(f=h[0]&2?u.return:h[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,h[1])).done)return f;switch(u=0,f&&(h=[h[0]&2,f.value]),h[0]){case 0:case 1:f=h;break;case 4:return o.label++,{value:h[1],done:!1};case 5:o.label++,u=h[1],h=[0];continue;case 7:h=o.ops.pop(),o.trys.pop();continue;default:if(f=o.trys,!(f=f.length>0&&f[f.length-1])&&(h[0]===6||h[0]===2)){o=0;continue}if(h[0]===3&&(!f||h[1]>f[0]&&h[1]<f[3])){o.label=h[1];break}if(h[0]===6&&o.label<f[1]){o.label=f[1],f=h;break}if(f&&o.label<f[2]){o.label=f[2],o.ops.push(h);break}f[2]&&o.ops.pop(),o.trys.pop();continue}h=i.call(r,o)}catch(v){h=[6,v],u=0}finally{a=f=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},W1=function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&Af(i,r,o)},Af=Object.create?function(r,i,o,a){a===void 0&&(a=o),Object.defineProperty(r,a,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,a){a===void 0&&(a=o),r[a]=i[o]},Of=function(r){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&r[i],a=0;if(o)return o.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},km=function(r,i){var o=typeof Symbol=="function"&&r[Symbol.iterator];if(!o)return r;var a=o.call(r),u,f=[],c;try{for(;(i===void 0||i-- >0)&&!(u=a.next()).done;)f.push(u.value)}catch(d){c={error:d}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(c)throw c.error}}return f},Y1=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(km(arguments[i]));return r},B1=function(){for(var r=0,i=0,o=arguments.length;i<o;i++)r+=arguments[i].length;for(var a=Array(r),u=0,i=0;i<o;i++)for(var f=arguments[i],c=0,d=f.length;c<d;c++,u++)a[u]=f[c];return a},G1=function(r,i){for(var o=0,a=i.length,u=r.length;o<a;o++,u++)r[u]=i[o];return r},la=function(r){return this instanceof la?(this.v=r,this):new la(r)},j1=function(r,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(r,i||[]),u,f=[];return u={},c("next"),c("throw"),c("return"),u[Symbol.asyncIterator]=function(){return this},u;function c(b){a[b]&&(u[b]=function(E){return new Promise(function(w,C){f.push([b,E,w,C])>1||d(b,E)})})}function d(b,E){try{m(a[b](E))}catch(w){_(f[0][3],w)}}function m(b){b.value instanceof la?Promise.resolve(b.value.v).then(h,v):_(f[0][2],b)}function h(b){d("next",b)}function v(b){d("throw",b)}function _(b,E){b(E),f.shift(),f.length&&d(f[0][0],f[0][1])}},U1=function(r){var i,o;return i={},a("next"),a("throw",function(u){throw u}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(u,f){i[u]=r[u]?function(c){return(o=!o)?{value:la(r[u](c)),done:u==="return"}:f?f(c):c}:f}},z1=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],o;return i?i.call(r):(r=typeof Of=="function"?Of(r):r[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=r[f]&&function(c){return new Promise(function(d,m){c=r[f](c),u(d,m,c.done,c.value)})}}function u(f,c,d,m){Promise.resolve(m).then(function(h){f({value:h,done:d})},c)}},H1=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r};var n=Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i};V1=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var o in r)o!=="default"&&Object.prototype.hasOwnProperty.call(r,o)&&Af(i,r,o);return n(i,r),i},q1=function(r){return r&&r.__esModule?r:{default:r}},K1=function(r,i,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?r!==i||!a:!i.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(r):a?a.value:i.get(r)},Z1=function(r,i,o,a,u){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?r!==i||!u:!i.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?u.call(r,o):u?u.value=o:i.set(r,o),o},t("__extends",M1),t("__assign",x1),t("__rest",P1),t("__decorate",N1),t("__param",R1),t("__metadata",I1),t("__awaiter",L1),t("__generator",F1),t("__exportStar",W1),t("__createBinding",Af),t("__values",Of),t("__read",km),t("__spread",Y1),t("__spreadArrays",B1),t("__spreadArray",G1),t("__await",la),t("__asyncGenerator",j1),t("__asyncDelegator",U1),t("__asyncValues",z1),t("__makeTemplateObject",H1),t("__importStar",V1),t("__importDefault",q1),t("__classPrivateFieldGet",K1),t("__classPrivateFieldSet",Z1)})});var b0=Fi((xY,Ff)=>{var t0,n0,r0,i0,o0,s0,a0,l0,u0,Lf,Sm,f0,c0,ua,d0,p0,m0,h0,g0,v0,_0,y0,w0;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){t(n(e,n(r)))}):typeof Ff=="object"&&typeof Ff.exports=="object"?t(n(e,n(Ff.exports))):t(n(e));function n(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(o,a){return r[o]=i?i(o,a):a}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])};t0=function(n,r){e(n,r);function i(){this.constructor=n}n.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)},n0=Object.assign||function(n){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},r0=function(n,r){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(n);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(n,o[a])&&(i[o[a]]=n[o[a]]);return i},i0=function(n,r,i,o){var a=arguments.length,u=a<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,i):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,r,i,o);else for(var c=n.length-1;c>=0;c--)(f=n[c])&&(u=(a<3?f(u):a>3?f(r,i,u):f(r,i))||u);return a>3&&u&&Object.defineProperty(r,i,u),u},o0=function(n,r){return function(i,o){r(i,o,n)}},s0=function(n,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,r)},a0=function(n,r,i,o){function a(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function c(h){try{m(o.next(h))}catch(v){f(v)}}function d(h){try{m(o.throw(h))}catch(v){f(v)}}function m(h){h.done?u(h.value):a(h.value).then(c,d)}m((o=o.apply(n,r||[])).next())})},l0=function(n,r){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,a,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(m){return function(h){return d([m,h])}}function d(m){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(u=m[0]&2?a.return:m[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,m[1])).done)return u;switch(a=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,a=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){i.label=m[1];break}if(m[0]===6&&i.label<u[1]){i.label=u[1],u=m;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(m);break}u[2]&&i.ops.pop(),i.trys.pop();continue}m=r.call(n,i)}catch(h){m=[6,h],a=0}finally{o=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},w0=function(n,r,i,o){o===void 0&&(o=i),n[o]=r[i]},u0=function(n,r){for(var i in n)i!=="default"&&!r.hasOwnProperty(i)&&(r[i]=n[i])},Lf=function(n){var r=typeof Symbol=="function"&&Symbol.iterator,i=r&&n[r],o=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Sm=function(n,r){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var o=i.call(n),a,u=[],f;try{for(;(r===void 0||r-- >0)&&!(a=o.next()).done;)u.push(a.value)}catch(c){f={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(f)throw f.error}}return u},f0=function(){for(var n=[],r=0;r<arguments.length;r++)n=n.concat(Sm(arguments[r]));return n},c0=function(){for(var n=0,r=0,i=arguments.length;r<i;r++)n+=arguments[r].length;for(var o=Array(n),a=0,r=0;r<i;r++)for(var u=arguments[r],f=0,c=u.length;f<c;f++,a++)o[a]=u[f];return o},ua=function(n){return this instanceof ua?(this.v=n,this):new ua(n)},d0=function(n,r,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(n,r||[]),a,u=[];return a={},f("next"),f("throw"),f("return"),a[Symbol.asyncIterator]=function(){return this},a;function f(_){o[_]&&(a[_]=function(b){return new Promise(function(E,w){u.push([_,b,E,w])>1||c(_,b)})})}function c(_,b){try{d(o[_](b))}catch(E){v(u[0][3],E)}}function d(_){_.value instanceof ua?Promise.resolve(_.value.v).then(m,h):v(u[0][2],_)}function m(_){c("next",_)}function h(_){c("throw",_)}function v(_,b){_(b),u.shift(),u.length&&c(u[0][0],u[0][1])}},p0=function(n){var r,i;return r={},o("next"),o("throw",function(a){throw a}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(a,u){r[a]=n[a]?function(f){return(i=!i)?{value:ua(n[a](f)),done:a==="return"}:u?u(f):f}:u}},m0=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],i;return r?r.call(n):(n=typeof Lf=="function"?Lf(n):n[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(u){i[u]=n[u]&&function(f){return new Promise(function(c,d){f=n[u](f),a(c,d,f.done,f.value)})}}function a(u,f,c,d){Promise.resolve(d).then(function(m){u({value:m,done:c})},f)}},h0=function(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n},g0=function(n){if(n&&n.__esModule)return n;var r={};if(n!=null)for(var i in n)Object.hasOwnProperty.call(n,i)&&(r[i]=n[i]);return r.default=n,r},v0=function(n){return n&&n.__esModule?n:{default:n}},_0=function(n,r){if(!r.has(n))throw new TypeError("attempted to get private field on non-instance");return r.get(n)},y0=function(n,r,i){if(!r.has(n))throw new TypeError("attempted to set private field on non-instance");return r.set(n,i),i},t("__extends",t0),t("__assign",n0),t("__rest",r0),t("__decorate",i0),t("__param",o0),t("__metadata",s0),t("__awaiter",a0),t("__generator",l0),t("__exportStar",u0),t("__createBinding",w0),t("__values",Lf),t("__read",Sm),t("__spread",f0),t("__spreadArrays",c0),t("__await",ua),t("__asyncGenerator",d0),t("__asyncDelegator",p0),t("__asyncValues",m0),t("__makeTemplateObject",h0),t("__importStar",g0),t("__importDefault",v0),t("__classPrivateFieldGet",_0),t("__classPrivateFieldSet",y0)})});var yi=Fi((Um,zm)=>{(function(t,e){typeof Um=="object"&&typeof zm!="undefined"?zm.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self).dayjs=e()})(Um,function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",u="day",f="week",c="month",d="quarter",m="year",h="date",v="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(z){var X=["th","st","nd","rd"],V=z%100;return"["+z+(X[(V-20)%10]||X[V]||X[0])+"]"}},w=function(z,X,V){var pe=String(z);return!pe||pe.length>=X?z:""+Array(X+1-pe.length).join(V)+z},C={s:w,z:function(z){var X=-z.utcOffset(),V=Math.abs(X),pe=Math.floor(V/60),O=V%60;return(X<=0?"+":"-")+w(pe,2,"0")+":"+w(O,2,"0")},m:function z(X,V){if(X.date()<V.date())return-z(V,X);var pe=12*(V.year()-X.year())+(V.month()-X.month()),O=X.clone().add(pe,c),Z=V-O<0,te=X.clone().add(pe+(Z?-1:1),c);return+(-(pe+(V-O)/(Z?O-te:te-O))||0)},a:function(z){return z<0?Math.ceil(z)||0:Math.floor(z)},p:function(z){return{M:c,y:m,w:f,d:u,D:h,h:a,m:o,s:i,ms:r,Q:d}[z]||String(z||"").toLowerCase().replace(/s$/,"")},u:function(z){return z===void 0}},A="en",Y={};Y[A]=E;var M=function(z){return z instanceof F},P=function z(X,V,pe){var O;if(!X)return A;if(typeof X=="string"){var Z=X.toLowerCase();Y[Z]&&(O=Z),V&&(Y[Z]=V,O=Z);var te=X.split("-");if(!O&&te.length>1)return z(te[0])}else{var U=X.name;Y[U]=X,O=U}return!pe&&O&&(A=O),O||!pe&&A},L=function(z,X){if(M(z))return z.clone();var V=typeof X=="object"?X:{};return V.date=z,V.args=arguments,new F(V)},S=C;S.l=P,S.i=M,S.w=function(z,X){return L(z,{locale:X.$L,utc:X.$u,x:X.$x,$offset:X.$offset})};var F=function(){function z(V){this.$L=P(V.locale,null,!0),this.parse(V)}var X=z.prototype;return X.parse=function(V){this.$d=function(pe){var O=pe.date,Z=pe.utc;if(O===null)return new Date(NaN);if(S.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var te=O.match(_);if(te){var U=te[2]-1||0,J=(te[7]||"0").substring(0,3);return Z?new Date(Date.UTC(te[1],U,te[3]||1,te[4]||0,te[5]||0,te[6]||0,J)):new Date(te[1],U,te[3]||1,te[4]||0,te[5]||0,te[6]||0,J)}}return new Date(O)}(V),this.$x=V.x||{},this.init()},X.init=function(){var V=this.$d;this.$y=V.getFullYear(),this.$M=V.getMonth(),this.$D=V.getDate(),this.$W=V.getDay(),this.$H=V.getHours(),this.$m=V.getMinutes(),this.$s=V.getSeconds(),this.$ms=V.getMilliseconds()},X.$utils=function(){return S},X.isValid=function(){return this.$d.toString()!==v},X.isSame=function(V,pe){var O=L(V);return this.startOf(pe)<=O&&O<=this.endOf(pe)},X.isAfter=function(V,pe){return L(V)<this.startOf(pe)},X.isBefore=function(V,pe){return this.endOf(pe)<L(V)},X.$g=function(V,pe,O){return S.u(V)?this[pe]:this.set(O,V)},X.unix=function(){return Math.floor(this.valueOf()/1e3)},X.valueOf=function(){return this.$d.getTime()},X.startOf=function(V,pe){var O=this,Z=!!S.u(pe)||pe,te=S.p(V),U=function(_e,De){var nt=S.w(O.$u?Date.UTC(O.$y,De,_e):new Date(O.$y,De,_e),O);return Z?nt:nt.endOf(u)},J=function(_e,De){return S.w(O.toDate()[_e].apply(O.toDate("s"),(Z?[0,0,0,0]:[23,59,59,999]).slice(De)),O)},se=this.$W,j=this.$M,K=this.$D,Q="set"+(this.$u?"UTC":"");switch(te){case m:return Z?U(1,0):U(31,11);case c:return Z?U(1,j):U(0,j+1);case f:var ge=this.$locale().weekStart||0,ue=(se<ge?se+7:se)-ge;return U(Z?K-ue:K+(6-ue),j);case u:case h:return J(Q+"Hours",0);case a:return J(Q+"Minutes",1);case o:return J(Q+"Seconds",2);case i:return J(Q+"Milliseconds",3);default:return this.clone()}},X.endOf=function(V){return this.startOf(V,!1)},X.$set=function(V,pe){var O,Z=S.p(V),te="set"+(this.$u?"UTC":""),U=(O={},O[u]=te+"Date",O[h]=te+"Date",O[c]=te+"Month",O[m]=te+"FullYear",O[a]=te+"Hours",O[o]=te+"Minutes",O[i]=te+"Seconds",O[r]=te+"Milliseconds",O)[Z],J=Z===u?this.$D+(pe-this.$W):pe;if(Z===c||Z===m){var se=this.clone().set(h,1);se.$d[U](J),se.init(),this.$d=se.set(h,Math.min(this.$D,se.daysInMonth())).$d}else U&&this.$d[U](J);return this.init(),this},X.set=function(V,pe){return this.clone().$set(V,pe)},X.get=function(V){return this[S.p(V)]()},X.add=function(V,pe){var O,Z=this;V=Number(V);var te=S.p(pe),U=function(j){var K=L(Z);return S.w(K.date(K.date()+Math.round(j*V)),Z)};if(te===c)return this.set(c,this.$M+V);if(te===m)return this.set(m,this.$y+V);if(te===u)return U(1);if(te===f)return U(7);var J=(O={},O[o]=e,O[a]=n,O[i]=t,O)[te]||1,se=this.$d.getTime()+V*J;return S.w(se,this)},X.subtract=function(V,pe){return this.add(-1*V,pe)},X.format=function(V){var pe=this,O=this.$locale();if(!this.isValid())return O.invalidDate||v;var Z=V||"YYYY-MM-DDTHH:mm:ssZ",te=S.z(this),U=this.$H,J=this.$m,se=this.$M,j=O.weekdays,K=O.months,Q=function(De,nt,ut,ye){return De&&(De[nt]||De(pe,Z))||ut[nt].slice(0,ye)},ge=function(De){return S.s(U%12||12,De,"0")},ue=O.meridiem||function(De,nt,ut){var ye=De<12?"AM":"PM";return ut?ye.toLowerCase():ye},_e={YY:String(this.$y).slice(-2),YYYY:this.$y,M:se+1,MM:S.s(se+1,2,"0"),MMM:Q(O.monthsShort,se,K,3),MMMM:Q(K,se),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:Q(O.weekdaysMin,this.$W,j,2),ddd:Q(O.weekdaysShort,this.$W,j,3),dddd:j[this.$W],H:String(U),HH:S.s(U,2,"0"),h:ge(1),hh:ge(2),a:ue(U,J,!0),A:ue(U,J,!1),m:String(J),mm:S.s(J,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:te};return Z.replace(b,function(De,nt){return nt||_e[De]||te.replace(":","")})},X.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},X.diff=function(V,pe,O){var Z,te=S.p(pe),U=L(V),J=(U.utcOffset()-this.utcOffset())*e,se=this-U,j=S.m(this,U);return j=(Z={},Z[m]=j/12,Z[c]=j,Z[d]=j/3,Z[f]=(se-J)/6048e5,Z[u]=(se-J)/864e5,Z[a]=se/n,Z[o]=se/e,Z[i]=se/t,Z)[te]||se,O?j:S.a(j)},X.daysInMonth=function(){return this.endOf(c).$D},X.$locale=function(){return Y[this.$L]},X.locale=function(V,pe){if(!V)return this.$L;var O=this.clone(),Z=P(V,pe,!0);return Z&&(O.$L=Z),O},X.clone=function(){return S.w(this.$d,this)},X.toDate=function(){return new Date(this.valueOf())},X.toJSON=function(){return this.isValid()?this.toISOString():null},X.toISOString=function(){return this.$d.toISOString()},X.toString=function(){return this.$d.toUTCString()},z}(),ae=F.prototype;return L.prototype=ae,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",u],["$M",c],["$y",m],["$D",h]].forEach(function(z){ae[z[1]]=function(X){return this.$g(X,z[0],z[1])}}),L.extend=function(z,X){return z.$i||(z(X,F,L),z.$i=!0),L},L.locale=P,L.isDayjs=M,L.unix=function(z){return L(1e3*z)},L.en=Y[A],L.Ls=Y,L.p={},L})});var Ky=Fi((Zm,Xm)=>{(function(t,e){typeof Zm=="object"&&typeof Xm!="undefined"?Xm.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self).dayjs_plugin_quarterOfYear=e()})(Zm,function(){"use strict";var t="month",e="quarter";return function(n,r){var i=r.prototype;i.quarter=function(u){return this.$utils().u(u)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(u-1))};var o=i.add;i.add=function(u,f){return u=Number(u),this.$utils().p(f)===e?this.add(3*u,t):o.bind(this)(u,f)};var a=i.startOf;i.startOf=function(u,f){var c=this.$utils(),d=!!c.u(f)||f;if(c.p(u)===e){var m=this.quarter()-1;return d?this.month(3*m).startOf(t).startOf("day"):this.month(3*m+2).endOf(t).endOf("day")}return a.bind(this)(u,f)}}})});var zk=Fi(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.isDate=Po.isComparable=Po.isIterable=void 0;Po.isIterable=t=>!(t==null||t[Symbol.iterator]==null);Po.isComparable=t=>{let e=Object.prototype.toString,n=t;return n.compare!=null&&e.call(n.compare).endsWith("Function]")};Po.isDate=t=>Object.prototype.toString.call(t).endsWith("Date]")});var Vk=Fi(Hk=>{"use strict";Object.defineProperty(Hk,"__esModule",{value:!0})});var qk=Fi($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});var iI=Em(),Ah=zk(),oI=(t,e)=>t-e,sI=(t,e)=>Number(t-e),aI=(t,e)=>t.localeCompare(e),lI=(t,e)=>t.getTime()-e.getTime(),Ia={number:oI,string:aI,Date:lI,bigInt:sI,none:()=>0},uI=t=>{if(typeof t=="number")return Ia.number;if(typeof t=="string")return Ia.string;if(typeof t=="bigint")return Ia.bigInt;if(Ah.isDate(t))return Ia.Date;if(Ah.isComparable(t))return(e,n)=>e.compare(n);throw new Error("Cannot sort keys in this map. You have to specify compareFn if the type of key in this map is not number, string, or Date.")},ks=class extends Map{constructor(e,n){super();this.specifiedCompareFn=!1,this.isCompareFn=r=>typeof r=="function",this.compareFn=Ia.none,this.sortedKeys=[],Ah.isIterable(e)&&this._constructor(e,n),this.isCompareFn(e)&&this._constructor(null,e),e==null&&this._constructor(null,n)}get comparator(){return this.compareFn}compare(e,n){return Math.sign(this.compareFn(e,n))}_constructor(e,n){if(this.compareFn=n==null?Ia.none:n,this.specifiedCompareFn=n!=null,e!=null)for(let r of e)this.set(...r)}static fromMap(e,n){let r=new ks(n);return r.setAll(e),r}duplicate(){return ks.fromMap(this,this.compareFn)}toMap(){let e=new Map,n=Array.from(super.entries());return n.sort((r,i)=>this.compareFn(r[0],i[0])),n.forEach(([r,i])=>{e.set(r,i)}),e}reverseKeys(){return[...this.sortedKeys].reverse().values()}get(e){let n=this.sortedKeys.find(r=>this.comparator(r,e)===0);if(n!=null)return super.get(n)}set(e,n){this.sortedKeys.length===0&&!this.specifiedCompareFn&&(this.compareFn=uI(e),this.specifiedCompareFn=!0);let r=this.sortedKeys.find(i=>this.compareFn(i,e)===0);return r==null?(this.sortedKeys.push(e),super.set(e,n)):super.set(r,n),this.sortedKeys.sort(this.compareFn),this}setAll(e){return e.forEach((n,r)=>{this.set(r,n)}),this}delete(e){return super.delete(e)?(this.sortedKeys=this.sortedKeys.filter(n=>this.compare(n,e)!==0),!0):!1}clear(){super.clear(),this.sortedKeys=[]}keys(){return this.sortedKeys.values()}values(){return this.sortedKeys.map(e=>super.get(e)).values()}entries(){return this.toMap().entries()}firstEntry(){let e=this.firstKey();if(e==null)return;let n=this.get(e);return n===void 0?void 0:[e,n]}firstKey(){return this.sortedKeys[0]}lastEntry(){let e=this.lastKey();if(e==null)return;let n=this.get(e);return n===void 0?void 0:[e,n]}lastKey(){return[...this.sortedKeys].reverse()[0]}shiftEntry(){let e=this.firstEntry();if(e!=null)return this.delete(e[0]),e}popEntry(){let e=this.lastEntry();if(e!=null)return this.delete(e[0]),e}floorEntry(e){let n=this.floorKey(e);if(n!=null){let r=this.get(n);return r===void 0?void 0:[n,r]}}floorKey(e){return this.sortedKeys.filter(r=>this.compare(r,e)<=0).reverse()[0]}ceilingEntry(e){let n=this.ceilingKey(e);if(n!=null){let r=this.get(n);return r===void 0?void 0:[n,r]}}ceilingKey(e){return this.sortedKeys.filter(r=>this.compare(r,e)>=0)[0]}lowerEntry(e){let n=this.lowerKey(e);if(n!=null){let r=this.get(n);return r===void 0?void 0:[n,r]}}lowerKey(e){return this.sortedKeys.filter(r=>this.compare(r,e)<0).reverse()[0]}higherEntry(e){let n=this.higherKey(e);if(n!=null){let r=this.get(n);return r===void 0?void 0:[n,r]}}higherKey(e){return this.sortedKeys.filter(r=>this.compare(r,e)>0)[0]}splitLower(e,n=!0){let r=Array.from(this.entries()).filter(i=>{let o=this.compare(i[0],e)<0;return n?o||this.compare(i[0],e)===0:o});return new ks(r,this.compareFn)}splitHigher(e,n=!0){let r=Array.from(this.entries()).filter(i=>{let o=this.compare(i[0],e)>0;return n?o||this.compare(i[0],e)===0:o});return new ks(r,this.compareFn)}forEach(e,n){Array.from(this.entries()).forEach(([r,i])=>{e(i,r,this)},n)}};$c.default=ks;iI.__exportStar(Vk(),$c)});i_(exports,{default:()=>we});var Lo=Me(require("obsidian"));var Up=Me(require("obsidian"));var Fn=(...t)=>{we.getInstance().settings.debugMode&&console.log("[Google Calendar]",...t)},sr=(...t)=>{we.getInstance().settings.debugMode&&console.error("[Google Calendar]",...t)};var Qu=new Map;function Pe(t,e=!1){let n=window.moment();Qu.has(t)?(Qu.get(t).isBefore(n)||e)&&(new Up.Notice(t),Qu.set(t,n.add(1,"minute"))):(Fn(t),new Up.Notice(t),Qu.set(t,n.add(0,"minute")))}var yt=Me(require("obsidian"));var $u=()=>{var t;return(t=window.localStorage.getItem("googleCalendarAccessToken"))!=null?t:""},Us=()=>{var t;return(t=window.localStorage.getItem("googleCalendarRefreshToken"))!=null?t:""},ef=()=>{var e;let t=(e=window.localStorage.getItem("googleCalendarExpirationTime"))!=null?e:"0";return parseInt(t,10)},Wi=t=>{window.localStorage.setItem("googleCalendarAccessToken",t)},fo=t=>{t!="undefined"&&window.localStorage.setItem("googleCalendarRefreshToken",t)},Yi=t=>{isNaN(t)||window.localStorage.setItem("googleCalendarExpirationTime",t+"")};var co=Me(require("obsidian"));var zp=42813,o_=`http://127.0.0.1:${zp}/callback`,s_="https://google-auth-obsidian-redirect.vercel.app/callback",tf="783376961232-v90b17gr1mj1s2mnmdauvkp77u6htpke.apps.googleusercontent.com",w4=window.moment().subtract(100,"seconds"),Bt={server:null,verifier:null,challenge:null,state:null};function a_(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function l_(){return $(this,null,function*(){let t=new Uint32Array(56);return yield window.crypto.getRandomValues(t),Array.from(t,e=>("0"+e.toString(16)).substr(-2)).join("")})}function u_(t){return $(this,null,function*(){let e=new TextEncoder().encode(t),n=yield window.crypto.subtle.digest("SHA-256",e);return btoa(String.fromCharCode(...new Uint8Array(n))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")})}function NM(){if(!(!$u()||$u()=="")&&!!ef()&&!isNaN(ef())&&!(ef()<+new Date))return $u()}var RM=t=>$(void 0,null,function*(){var i,o;let e=t.settings.useCustomClient,n={grant_type:"refresh_token",client_id:e?(i=t.settings.googleClientId)==null?void 0:i.trim():tf,client_secret:e?(o=t.settings.googleClientSecret)==null?void 0:o.trim():null,refresh_token:Us()},{json:r}=yield(0,co.requestUrl)({method:"POST",url:e?"https://oauth2.googleapis.com/token":`${t.settings.googleOAuthServer}/api/google/refresh`,headers:{"content-type":"application/json"},body:JSON.stringify(n)});if(!r){Pe("Error while refreshing authentication");return}return Wi(r.access_token),Yi(+new Date+r.expires_in*1e3),r.access_token}),IM=(t,e,n,r)=>$(void 0,null,function*(){return(yield(0,co.requestUrl)({method:"POST",url:`${t.settings.googleOAuthServer}/api/google/token`,headers:{"content-type":"application/json"},body:JSON.stringify({client_id:tf,code_verifier:n,code:r,state:e})})).json}),f_=(t,e,n,r,i)=>$(void 0,null,function*(){var u,f;let o=`https://oauth2.googleapis.com/token?grant_type=authorization_code&client_id=${(u=t.settings.googleClientId)==null?void 0:u.trim()}&client_secret=${(f=t.settings.googleClientSecret)==null?void 0:f.trim()}&code_verifier=${n}&code=${r}&state=${e}&redirect_uri=${i?s_:o_}`;return(yield fetch(o,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"}})).json()});function c_(t){return $(this,null,function*(){if(!Ot())return;let e=NM();if(e||(e=yield RM(t)),!!e)return e})}function d_(){return $(this,null,function*(){let t=we.getInstance(),n=t.settings.useCustomClient?t.settings.googleClientId:tf;Bt.state||(Bt.state=a_(),Bt.verifier=yield l_(),Bt.challenge=yield u_(Bt.verifier));let r=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${n}&response_type=code&redirect_uri=${s_}&prompt=consent&access_type=offline&state=${Bt.state}&code_challenge=${Bt.challenge}&code_challenge_method=S256&scope=https://www.googleapis.com/auth/calendar.readonly%20https://www.googleapis.com/auth/calendar.events`;window.open(r)})}function p_(t,e){return $(this,null,function*(){let n=we.getInstance();if(e!==Bt.state)return;let r=yield f_(we.getInstance(),e,Bt.verifier,t,!0);(r==null?void 0:r.refresh_token)&&(fo(r.refresh_token),Wi(r.access_token),Yi(+new Date+r.expires_in*1e3),new co.Notice("Login successful!"),n.settingsTab.display()),Bt={server:null,verifier:null,challenge:null,state:null}})}function m_(){return $(this,null,function*(){let t=we.getInstance(),e=t.settings.useCustomClient,n=e?t.settings.googleClientId:tf;if(!co.Platform.isDesktop){new co.Notice("Can't use this OAuth method on this device");return}if(!h_())return;Bt.state||(Bt.state=a_(),Bt.verifier=yield l_(),Bt.challenge=yield u_(Bt.verifier));let r=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${n}&response_type=code&redirect_uri=${o_}&prompt=consent&access_type=offline&state=${Bt.state}&code_challenge=${Bt.challenge}&code_challenge_method=S256&scope=https://www.googleapis.com/auth/calendar.readonly%20https://www.googleapis.com/auth/calendar.events`;if(Bt.server){window.open(r);return}let i=require("http"),o=require("url");Bt.server=i.createServer((a,u)=>$(this,null,function*(){try{if(a.url.indexOf("/callback")<0)return;let f=new o.URL(a.url,`http://127.0.0.1:${zp}`).searchParams,c=f.get("code");if(f.get("state")!==Bt.state)return;let m;e?m=yield f_(t,Bt.state,Bt.verifier,c,!1):m=yield IM(t,Bt.state,Bt.verifier,c),(m==null?void 0:m.refresh_token)&&(fo(m.refresh_token),Wi(m.access_token),Yi(+new Date+m.expires_in*1e3)),Fn("Tokens acquired."),u.end("Authentication successful! Please return to obsidian."),Bt.server.close(()=>{Fn("Server closed")}),t.settingsTab.display()}catch(f){Fn("Auth failed"),Bt.server.close(()=>{Fn("Server closed")})}Bt={server:null,verifier:null,challenge:null,state:null}})).listen(zp,()=>$(this,null,function*(){window.open(r)}))})}var Dt=class extends Error{constructor(e,n,r,i){super(e);Object.setPrototypeOf(this,Dt.prototype),this.request=n,this.status=r,this.response=i}sayHello(){return"hello "+this.message}};var g_=Me(require("obsidian"));var Zn=(t,e,n,r=!1)=>$(void 0,null,function*(){let i=we.getInstance(),o={"Content-Type":"application/json"};if(r==!1){let u=yield c_(i);if(!u)throw new Dt("Error Google API request",{method:e,url:t,body:n},401,{error:"Missing Auth Token"});o.Authorization="Bearer "+u}if(i.settings.debugMode){Fn(`New Request ${e}:${t}`);let u=hr({},o);u.Authorization&&(u.Authorization=u.Authorization.substring(0,15)+"..."),Fn({body:n,headers:u});let f;try{f=yield fetch(t,{method:e,body:n?JSON.stringify(n):null,headers:o})}catch(c){throw f?new Dt("Error Google API request",{method:e,url:t,body:n},f.status,yield f.json()):new Dt("Error Google API request",{method:e,url:t,body:n},500,{error:"Unknown Error"})}if(f.status>=300)throw new Dt("Error Google API request",{method:e,url:t,body:n},f.status,yield f.json());return e.toLowerCase()=="delete"?{status:"success"}:yield f.json()}let a;try{a=yield(0,g_.requestUrl)({method:e,url:t,body:n?JSON.stringify(n):null,headers:o,throw:!1})}catch(u){throw a?new Dt("Error Google API request",{method:e,url:t,body:n},a.status,yield a.json()):new Dt("Error Google API request",{method:e,url:t,body:n},500,{error:"Unknown Error"})}if(a.status>=300)throw new Dt("Error Google API request",{method:e,url:t,body:n},a.status,a.json);return e.toLowerCase()=="delete"?{status:"success"}:yield a.json});var nf=[];function v_(t,e){return e.filter(r=>!t.settings.calendarBlackList.some(i=>i[0]==r.id))}function gr(){return $(this,null,function*(){if(!Ot())throw new Dt("Not logged in",null,401,{error:"Not logged in"});let t=we.getInstance();if(nf.length)return v_(t,nf);let e=yield Zn("https://www.googleapis.com/calendar/v3/users/me/calendarList","GET",null);return nf=LM(e.items,"summary","primary"),v_(t,nf)})}function LM(t,e,n){return t.sort((r,i)=>{if(r[n]&&!i[n])return-1;if(!r[n]&&i[n])return 1;let o=String(r[e]).toLowerCase(),a=String(i[e]).toLowerCase();return o<a?-1:o>a?1:0})}function Pr(){return $(this,null,function*(){try{return yield gr()}catch(t){switch(t.status){case 401:break;case 999:Pe(t.message);break;default:Pe("Could not list Google Calendars."),sr(t);break}return[]}})}var Zr=Me(require("obsidian"));var Y_=Me(require("obsidian"));var en="top",hn="bottom",fn="right",an="left",rf="auto",po=[en,hn,fn,an],Bi="start",Xo="end",__="clippingParents",of="viewport",zs="popper",y_="reference",Hp=po.reduce(function(t,e){return t.concat([e+"-"+Bi,e+"-"+Xo])},[]),sf=[].concat(po,[rf]).reduce(function(t,e){return t.concat([e,e+"-"+Bi,e+"-"+Xo])},[]),FM="beforeRead",WM="read",YM="afterRead",BM="beforeMain",GM="main",jM="afterMain",UM="beforeWrite",zM="write",HM="afterWrite",w_=[FM,WM,YM,BM,GM,jM,UM,zM,HM];function Tn(t){return t?(t.nodeName||"").toLowerCase():null}function Jt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Nr(t){var e=Jt(t).Element;return t instanceof e||t instanceof Element}function gn(t){var e=Jt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Hs(t){if(typeof ShadowRoot=="undefined")return!1;var e=Jt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function VM(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!gn(o)||!Tn(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var u=i[a];u===!1?o.removeAttribute(a):o.setAttribute(a,u===!0?"":u)}))})}function qM(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),u=a.reduce(function(f,c){return f[c]="",f},{});!gn(i)||!Tn(i)||(Object.assign(i.style,u),Object.keys(o).forEach(function(f){i.removeAttribute(f)}))})}}var b_={name:"applyStyles",enabled:!0,phase:"write",fn:VM,effect:qM,requires:["computeStyles"]};function Cn(t){return t.split("-")[0]}var Vr=Math.max,Jo=Math.min,Gi=Math.round;function Vs(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function sl(){return!/^((?!chrome|android).)*safari/i.test(Vs())}function Rr(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&gn(t)&&(i=t.offsetWidth>0&&Gi(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Gi(r.height)/t.offsetHeight||1);var a=Nr(t)?Jt(t):window,u=a.visualViewport,f=!sl()&&n,c=(r.left+(f&&u?u.offsetLeft:0))/i,d=(r.top+(f&&u?u.offsetTop:0))/o,m=r.width/i,h=r.height/o;return{width:m,height:h,top:d,right:c+m,bottom:d+h,left:c,x:c,y:d}}function Qo(t){var e=Rr(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function al(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Hs(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Xn(t){return Jt(t).getComputedStyle(t)}function Vp(t){return["table","td","th"].indexOf(Tn(t))>=0}function xn(t){return((Nr(t)?t.ownerDocument:t.document)||window.document).documentElement}function ji(t){return Tn(t)==="html"?t:t.assignedSlot||t.parentNode||(Hs(t)?t.host:null)||xn(t)}function k_(t){return!gn(t)||Xn(t).position==="fixed"?null:t.offsetParent}function KM(t){var e=/firefox/i.test(Vs()),n=/Trident/i.test(Vs());if(n&&gn(t)){var r=Xn(t);if(r.position==="fixed")return null}var i=ji(t);for(Hs(i)&&(i=i.host);gn(i)&&["html","body"].indexOf(Tn(i))<0;){var o=Xn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function qr(t){for(var e=Jt(t),n=k_(t);n&&Vp(n)&&Xn(n).position==="static";)n=k_(n);return n&&(Tn(n)==="html"||Tn(n)==="body"&&Xn(n).position==="static")?e:n||KM(t)||e}function $o(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function es(t,e,n){return Vr(t,Jo(e,n))}function E_(t,e,n){var r=es(t,e,n);return r>n?n:r}function ll(){return{top:0,right:0,bottom:0,left:0}}function ul(t){return Object.assign({},ll(),t)}function fl(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var ZM=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,ul(typeof e!="number"?e:fl(e,po))};function XM(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,u=Cn(n.placement),f=$o(u),c=[an,fn].indexOf(u)>=0,d=c?"height":"width";if(!(!o||!a)){var m=ZM(i.padding,n),h=Qo(o),v=f==="y"?en:an,_=f==="y"?hn:fn,b=n.rects.reference[d]+n.rects.reference[f]-a[f]-n.rects.popper[d],E=a[f]-n.rects.reference[f],w=qr(o),C=w?f==="y"?w.clientHeight||0:w.clientWidth||0:0,A=b/2-E/2,Y=m[v],M=C-h[d]-m[_],P=C/2-h[d]/2+A,L=es(Y,P,M),S=f;n.modifiersData[r]=(e={},e[S]=L,e.centerOffset=L-P,e)}}function JM(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!al(e.elements.popper,i)||(e.elements.arrow=i))}var T_={name:"arrow",enabled:!0,phase:"main",fn:XM,effect:JM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ir(t){return t.split("-")[1]}var QM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $M(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Gi(e*i)/i||0,y:Gi(n*i)/i||0}}function C_(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,u=t.position,f=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,m=t.isFixed,h=a.x,v=h===void 0?0:h,_=a.y,b=_===void 0?0:_,E=typeof d=="function"?d({x:v,y:b}):{x:v,y:b};v=E.x,b=E.y;var w=a.hasOwnProperty("x"),C=a.hasOwnProperty("y"),A=an,Y=en,M=window;if(c){var P=qr(n),L="clientHeight",S="clientWidth";if(P===Jt(n)&&(P=xn(n),Xn(P).position!=="static"&&u==="absolute"&&(L="scrollHeight",S="scrollWidth")),P=P,i===en||(i===an||i===fn)&&o===Xo){Y=hn;var F=m&&P===M&&M.visualViewport?M.visualViewport.height:P[L];b-=F-r.height,b*=f?1:-1}if(i===an||(i===en||i===hn)&&o===Xo){A=fn;var ae=m&&P===M&&M.visualViewport?M.visualViewport.width:P[S];v-=ae-r.width,v*=f?1:-1}}var z=Object.assign({position:u},c&&QM),X=d===!0?$M({x:v,y:b}):{x:v,y:b};if(v=X.x,b=X.y,f){var V;return Object.assign({},z,(V={},V[Y]=C?"0":"",V[A]=w?"0":"",V.transform=(M.devicePixelRatio||1)<=1?"translate("+v+"px, "+b+"px)":"translate3d("+v+"px, "+b+"px, 0)",V))}return Object.assign({},z,(e={},e[Y]=C?b+"px":"",e[A]=w?v+"px":"",e.transform="",e))}function ex(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,u=n.roundOffsets,f=u===void 0?!0:u;if(!1)var c;var d={placement:Cn(e.placement),variation:Ir(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,C_(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,C_(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var S_={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ex,data:{}};var af={passive:!0};function tx(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,u=a===void 0?!0:a,f=Jt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",n.update,af)}),u&&f.addEventListener("resize",n.update,af),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",n.update,af)}),u&&f.removeEventListener("resize",n.update,af)}}var D_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tx,data:{}};var nx={left:"right",right:"left",bottom:"top",top:"bottom"};function qs(t){return t.replace(/left|right|bottom|top/g,function(e){return nx[e]})}var rx={start:"end",end:"start"};function lf(t){return t.replace(/start|end/g,function(e){return rx[e]})}function ts(t){var e=Jt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ns(t){return Rr(xn(t)).left+ts(t).scrollLeft}function qp(t,e){var n=Jt(t),r=xn(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,u=0,f=0;if(i){o=i.width,a=i.height;var c=sl();(c||!c&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:o,height:a,x:u+ns(t),y:f}}function Kp(t){var e,n=xn(t),r=ts(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Vr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Vr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+ns(t),f=-r.scrollTop;return Xn(i||n).direction==="rtl"&&(u+=Vr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:u,y:f}}function rs(t){var e=Xn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function uf(t){return["html","body","#document"].indexOf(Tn(t))>=0?t.ownerDocument.body:gn(t)&&rs(t)?t:uf(ji(t))}function mo(t,e){var n;e===void 0&&(e=[]);var r=uf(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Jt(r),a=i?[o].concat(o.visualViewport||[],rs(r)?r:[]):r,u=e.concat(a);return i?u:u.concat(mo(ji(a)))}function Ks(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ix(t,e){var n=Rr(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function O_(t,e,n){return e===of?Ks(qp(t,n)):Nr(e)?ix(e,n):Ks(Kp(xn(t)))}function ox(t){var e=mo(ji(t)),n=["absolute","fixed"].indexOf(Xn(t).position)>=0,r=n&&gn(t)?qr(t):t;return Nr(r)?e.filter(function(i){return Nr(i)&&al(i,r)&&Tn(i)!=="body"}):[]}function Zp(t,e,n,r){var i=e==="clippingParents"?ox(t):[].concat(e),o=[].concat(i,[n]),a=o[0],u=o.reduce(function(f,c){var d=O_(t,c,r);return f.top=Vr(d.top,f.top),f.right=Jo(d.right,f.right),f.bottom=Jo(d.bottom,f.bottom),f.left=Vr(d.left,f.left),f},O_(t,a,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function cl(t){var e=t.reference,n=t.element,r=t.placement,i=r?Cn(r):null,o=r?Ir(r):null,a=e.x+e.width/2-n.width/2,u=e.y+e.height/2-n.height/2,f;switch(i){case en:f={x:a,y:e.y-n.height};break;case hn:f={x:a,y:e.y+e.height};break;case fn:f={x:e.x+e.width,y:u};break;case an:f={x:e.x-n.width,y:u};break;default:f={x:e.x,y:e.y}}var c=i?$o(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case Bi:f[c]=f[c]-(e[d]/2-n[d]/2);break;case Xo:f[c]=f[c]+(e[d]/2-n[d]/2);break;default:}}return f}function Kr(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,a=o===void 0?t.strategy:o,u=n.boundary,f=u===void 0?__:u,c=n.rootBoundary,d=c===void 0?of:c,m=n.elementContext,h=m===void 0?zs:m,v=n.altBoundary,_=v===void 0?!1:v,b=n.padding,E=b===void 0?0:b,w=ul(typeof E!="number"?E:fl(E,po)),C=h===zs?y_:zs,A=t.rects.popper,Y=t.elements[_?C:h],M=Zp(Nr(Y)?Y:Y.contextElement||xn(t.elements.popper),f,d,a),P=Rr(t.elements.reference),L=cl({reference:P,element:A,strategy:"absolute",placement:i}),S=Ks(Object.assign({},A,L)),F=h===zs?S:P,ae={top:M.top-F.top+w.top,bottom:F.bottom-M.bottom+w.bottom,left:M.left-F.left+w.left,right:F.right-M.right+w.right},z=t.modifiersData.offset;if(h===zs&&z){var X=z[i];Object.keys(ae).forEach(function(V){var pe=[fn,hn].indexOf(V)>=0?1:-1,O=[en,hn].indexOf(V)>=0?"y":"x";ae[V]+=X[O]*pe})}return ae}function Xp(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,u=n.flipVariations,f=n.allowedAutoPlacements,c=f===void 0?sf:f,d=Ir(r),m=d?u?Hp:Hp.filter(function(_){return Ir(_)===d}):po,h=m.filter(function(_){return c.indexOf(_)>=0});h.length===0&&(h=m);var v=h.reduce(function(_,b){return _[b]=Kr(t,{placement:b,boundary:i,rootBoundary:o,padding:a})[Cn(b)],_},{});return Object.keys(v).sort(function(_,b){return v[_]-v[b]})}function sx(t){if(Cn(t)===rf)return[];var e=qs(t);return[lf(t),e,lf(e)]}function ax(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,u=a===void 0?!0:a,f=n.fallbackPlacements,c=n.padding,d=n.boundary,m=n.rootBoundary,h=n.altBoundary,v=n.flipVariations,_=v===void 0?!0:v,b=n.allowedAutoPlacements,E=e.options.placement,w=Cn(E),C=w===E,A=f||(C||!_?[qs(E)]:sx(E)),Y=[E].concat(A).reduce(function(ge,ue){return ge.concat(Cn(ue)===rf?Xp(e,{placement:ue,boundary:d,rootBoundary:m,padding:c,flipVariations:_,allowedAutoPlacements:b}):ue)},[]),M=e.rects.reference,P=e.rects.popper,L=new Map,S=!0,F=Y[0],ae=0;ae<Y.length;ae++){var z=Y[ae],X=Cn(z),V=Ir(z)===Bi,pe=[en,hn].indexOf(X)>=0,O=pe?"width":"height",Z=Kr(e,{placement:z,boundary:d,rootBoundary:m,altBoundary:h,padding:c}),te=pe?V?fn:an:V?hn:en;M[O]>P[O]&&(te=qs(te));var U=qs(te),J=[];if(o&&J.push(Z[X]<=0),u&&J.push(Z[te]<=0,Z[U]<=0),J.every(function(ge){return ge})){F=z,S=!1;break}L.set(z,J)}if(S)for(var se=_?3:1,j=function(ue){var _e=Y.find(function(De){var nt=L.get(De);if(nt)return nt.slice(0,ue).every(function(ut){return ut})});if(_e)return F=_e,"break"},K=se;K>0;K--){var Q=j(K);if(Q==="break")break}e.placement!==F&&(e.modifiersData[r]._skip=!0,e.placement=F,e.reset=!0)}}var A_={name:"flip",enabled:!0,phase:"main",fn:ax,requiresIfExists:["offset"],data:{_skip:!1}};function M_(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function x_(t){return[en,fn,hn,an].some(function(e){return t[e]>=0})}function lx(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=Kr(e,{elementContext:"reference"}),u=Kr(e,{altBoundary:!0}),f=M_(a,r),c=M_(u,i,o),d=x_(f),m=x_(c);e.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}var P_={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:lx};function ux(t,e,n){var r=Cn(t),i=[an,en].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],u=o[1];return a=a||0,u=(u||0)*i,[an,fn].indexOf(r)>=0?{x:u,y:a}:{x:a,y:u}}function fx(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=sf.reduce(function(d,m){return d[m]=ux(m,e.rects,o),d},{}),u=a[e.placement],f=u.x,c=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=a}var N_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fx};function cx(t){var e=t.state,n=t.name;e.modifiersData[n]=cl({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var R_={name:"popperOffsets",enabled:!0,phase:"read",fn:cx,data:{}};function Jp(t){return t==="x"?"y":"x"}function dx(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,u=a===void 0?!1:a,f=n.boundary,c=n.rootBoundary,d=n.altBoundary,m=n.padding,h=n.tether,v=h===void 0?!0:h,_=n.tetherOffset,b=_===void 0?0:_,E=Kr(e,{boundary:f,rootBoundary:c,padding:m,altBoundary:d}),w=Cn(e.placement),C=Ir(e.placement),A=!C,Y=$o(w),M=Jp(Y),P=e.modifiersData.popperOffsets,L=e.rects.reference,S=e.rects.popper,F=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,ae=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,X={x:0,y:0};if(!!P){if(o){var V,pe=Y==="y"?en:an,O=Y==="y"?hn:fn,Z=Y==="y"?"height":"width",te=P[Y],U=te+E[pe],J=te-E[O],se=v?-S[Z]/2:0,j=C===Bi?L[Z]:S[Z],K=C===Bi?-S[Z]:-L[Z],Q=e.elements.arrow,ge=v&&Q?Qo(Q):{width:0,height:0},ue=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ll(),_e=ue[pe],De=ue[O],nt=es(0,L[Z],ge[Z]),ut=A?L[Z]/2-se-nt-_e-ae.mainAxis:j-nt-_e-ae.mainAxis,ye=A?-L[Z]/2+se+nt+De+ae.mainAxis:K+nt+De+ae.mainAxis,Ee=e.elements.arrow&&qr(e.elements.arrow),pt=Ee?Y==="y"?Ee.clientTop||0:Ee.clientLeft||0:0,Tt=(V=z==null?void 0:z[Y])!=null?V:0,On=te+ut-Tt-pt,ft=te+ye-Tt,Ze=es(v?Jo(U,On):U,te,v?Vr(J,ft):J);P[Y]=Ze,X[Y]=Ze-te}if(u){var $n,ar=Y==="x"?en:an,yn=Y==="x"?hn:fn,wn=P[M],Un=M==="y"?"height":"width",Vt=wn+E[ar],zn=wn-E[yn],An=[en,an].indexOf(w)!==-1,bn=($n=z==null?void 0:z[M])!=null?$n:0,Hn=An?Vt:wn-L[Un]-S[Un]-bn+ae.altAxis,er=An?wn+L[Un]+S[Un]-bn-ae.altAxis:zn,tr=v&&An?E_(Hn,wn,er):es(v?Hn:Vt,wn,v?er:zn);P[M]=tr,X[M]=tr-wn}e.modifiersData[r]=X}}var I_={name:"preventOverflow",enabled:!0,phase:"main",fn:dx,requiresIfExists:["offset"]};function Qp(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function $p(t){return t===Jt(t)||!gn(t)?ts(t):Qp(t)}function px(t){var e=t.getBoundingClientRect(),n=Gi(e.width)/t.offsetWidth||1,r=Gi(e.height)/t.offsetHeight||1;return n!==1||r!==1}function em(t,e,n){n===void 0&&(n=!1);var r=gn(e),i=gn(e)&&px(e),o=xn(e),a=Rr(t,i,n),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!n)&&((Tn(e)!=="body"||rs(o))&&(u=$p(e)),gn(e)?(f=Rr(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):o&&(f.x=ns(o))),{x:a.left+u.scrollLeft-f.x,y:a.top+u.scrollTop-f.y,width:a.width,height:a.height}}function mx(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(u){if(!n.has(u)){var f=e.get(u);f&&i(f)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function tm(t){var e=mx(t);return w_.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function nm(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function rm(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var L_={placement:"bottom",modifiers:[],strategy:"absolute"};function F_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function W_(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?L_:i;return function(u,f,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},L_,o),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},m=[],h=!1,v={state:d,setOptions:function(w){var C=typeof w=="function"?w(d.options):w;b(),d.options=Object.assign({},o,d.options,C),d.scrollParents={reference:Nr(u)?mo(u):u.contextElement?mo(u.contextElement):[],popper:mo(f)};var A=tm(rm([].concat(r,d.options.modifiers)));if(d.orderedModifiers=A.filter(function(z){return z.enabled}),!1){var Y;if(getBasePlacement(d.options.placement)===auto)var M;var P,L,S,F,ae}return _(),v.update()},forceUpdate:function(){if(!h){var w=d.elements,C=w.reference,A=w.popper;if(!!F_(C,A)){d.rects={reference:em(C,qr(A),d.options.strategy==="fixed"),popper:Qo(A)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(z){return d.modifiersData[z.name]=Object.assign({},z.data)});for(var Y=0,M=0;M<d.orderedModifiers.length;M++){if(d.reset===!0){d.reset=!1,M=-1;continue}var P=d.orderedModifiers[M],L=P.fn,S=P.options,F=S===void 0?{}:S,ae=P.name;typeof L=="function"&&(d=L({state:d,options:F,name:ae,instance:v})||d)}}}},update:nm(function(){return new Promise(function(E){v.forceUpdate(),E(d)})}),destroy:function(){b(),h=!0}};if(!F_(u,f))return v;v.setOptions(c).then(function(E){!h&&c.onFirstUpdate&&c.onFirstUpdate(E)});function _(){d.orderedModifiers.forEach(function(E){var w=E.name,C=E.options,A=C===void 0?{}:C,Y=E.effect;if(typeof Y=="function"){var M=Y({state:d,name:w,instance:v,options:A}),P=function(){};m.push(M||P)}})}function b(){m.forEach(function(E){return E()}),m=[]}return v}}var hx=[D_,R_,S_,b_,N_,A_,I_,T_,P_],im=W_({defaultModifiers:hx});var gx=(t,e)=>(t%e+e)%e,B_=class{constructor(e,n,r){this.owner=e,this.containerEl=n,n.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),n.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),r.register([],"ArrowUp",i=>{if(!i.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),r.register([],"ArrowDown",i=>{if(!i.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),r.register([],"Enter",i=>{if(!i.isComposing)return this.useSelectedItem(i),!1})}onSuggestionClick(e,n){e.preventDefault();let r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1),this.useSelectedItem(e)}onSuggestionMouseover(e,n){let r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1)}setSuggestions(e){this.containerEl.empty();let n=[];e.forEach(r=>{let i=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(r,i),n.push(i)}),this.values=e,this.suggestions=n,this.setSelectedItem(0,!1)}useSelectedItem(e){let n=this.values[this.selectedItem];n&&this.owner.selectSuggestion(n,e)}setSelectedItem(e,n){let r=gx(e,this.suggestions.length),i=this.suggestions[this.selectedItem],o=this.suggestions[r];i==null||i.removeClass("is-selected"),o==null||o.addClass("is-selected"),this.selectedItem=r,n&&o.scrollIntoView(!1)}},dl=class{constructor(e){this.inputEl=e,this.scope=new Y_.Scope,this.suggestEl=createDiv("suggestion-container");let n=this.suggestEl.createDiv("suggestion");this.suggest=new B_(this,n,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",r=>{r.preventDefault()})}onInputChanged(){let e=this.inputEl.value,n=this.getSuggestions(e);if(!n){this.close();return}n.length>0?(this.suggest.setSuggestions(n),this.open(app.dom.appContainerEl,this.inputEl)):this.close()}open(e,n){app.keymap.pushScope(this.scope),e.appendChild(this.suggestEl),this.popper=im(n,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:r,instance:i})=>{let o=`${r.rects.reference.width}px`;r.styles.popper.width!==o&&(r.styles.popper.width=o,i.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper&&this.popper.destroy(),this.suggestEl.detach()}};function vx(t){t=(0,Zr.normalizePath)(t);let e=app.vault.getAbstractFileByPath(t);return!e||!(e instanceof Zr.TFolder)?null:e}function G_(t){let e=vx(t),n=[];return Zr.Vault.recurseChildren(e,r=>{r instanceof Zr.TFile&&n.push(r)}),n.sort((r,i)=>r.basename.localeCompare(i.basename)),n}var j_;(function(n){n[n.TemplateFiles=0]="TemplateFiles",n[n.ScriptFiles=1]="ScriptFiles"})(j_||(j_={}));var pl=class extends dl{constructor(e,n){super(e);this.inputEl=e;this.plugin=n}getSuggestions(e){var a,u,f,c,d,m,h;let n=[];if(this.plugin.templaterPlugin){let v=(0,Zr.normalizePath)((f=(u=(a=this.plugin)==null?void 0:a.templaterPlugin)==null?void 0:u.settings)==null?void 0:f.templates_folder),_=G_(v);n=[...n,..._]}if(this.plugin.coreTemplatePlugin){let v=(0,Zr.normalizePath)((h=(m=(d=(c=this.plugin)==null?void 0:c.coreTemplatePlugin)==null?void 0:d.instance)==null?void 0:m.options)==null?void 0:h.folder),_=G_(v);n=[...n,..._]}if(!n)return[];let r=new Set(n),i=[],o=e.toLowerCase();return r.forEach(v=>{v instanceof Zr.TFile&&v.extension==="md"&&v.path.toLowerCase().contains(o)&&i.push(v)}),i}renderSuggestion(e,n){n.setText(e.path)}selectSuggestion(e){this.inputEl.value=e.path,this.inputEl.trigger("input"),this.close()}};var U_=Me(require("obsidian"));var ml=class extends dl{getSuggestions(e){let n=app.vault.getAllLoadedFiles(),r=[],i=e.toLowerCase();return n.forEach(o=>{o instanceof U_.TFolder&&o.path.toLowerCase().contains(i)&&r.push(o)}),r}renderSuggestion(e,n){n.setText(e.path)}selectSuggestion(e){this.inputEl.value=e.path,this.inputEl.trigger("input"),this.close()}};var Lr=Me(ff()),am=Me(di());var cf={},lm={},Qs=t=>$(void 0,null,function*(){if(!app.workspace.layoutReady||!t.settings.activateDailyNoteAddon)return;let e={};try{e=(0,Lr.getAllDailyNotes)()}catch(n){Fn("Daily note folder not set. Deactivated Show Daily notes setting."),t.settings.activateDailyNoteAddon=!1,t.saveSettings()}am.default.isEqual(cf,e)==!1&&(cf=e)}),ho=t=>$(void 0,null,function*(){if(!app.workspace.layoutReady||!t.settings.activateDailyNoteAddon||!t.settings.useWeeklyNotes)return;let e={};try{e=(0,Lr.getAllWeeklyNotes)()}catch(n){Fn("Daily note folder not set. Deactivated Show Daily notes setting."),t.settings.activateDailyNoteAddon=!1,t.saveSettings()}am.default.isEqual(lm,e)==!1&&(lm=e)}),df=()=>cf,is=t=>(0,Lr.getDailyNote)(t,cf);var El=t=>(0,Lr.getWeeklyNote)(t,lm),l1=t=>$(void 0,null,function*(){var e,n,r,i;if(!t.type||t.type==="daily"){let o=is((e=t.date)!=null?e:window.moment());return o||(o=yield(0,Lr.createDailyNote)((n=t.date)!=null?n:window.moment()),Qs(we.getInstance()),o)}if(t.type==="weekly"){let o=El((r=t.date)!=null?r:window.moment());return o||(o=yield(0,Lr.createWeeklyNote)((i=t.date)!=null?i:window.moment()),ho(we.getInstance()),o)}}),Ui=t=>$(void 0,null,function*(){var r,i;let e=yield l1(t);yield app.workspace.getLeaf((r=t.openInNewTab)!=null?r:!1,(i=t.openToRight)!=null?i:"horizontal").openFile(e,{active:!0})}),um=t=>$(void 0,null,function*(){let e=yield l1(t);yield app.workspace.openPopoutLeaf().openFile(e,{active:!0})});var u1=Me(require("obsidian")),fm=class extends u1.Modal{constructor(e){super(e)}onOpen(){let{contentEl:e}=this;e.createEl("h1",{text:"Google Calendar Alert"}),e.createEl("p",{text:"The public client is full and will not work. Please activate `Use own authentication client` again. Press the link below to find out how to create a own client."}),e.createEl("a",{text:"Tutorial",href:"https://yukigasai.github.io/obsidian-google-calendar/#/Basics/Installation"})}onClose(){let{contentEl:e}=this;e.empty()}};var cm=class extends yt.PluginSettingTab{constructor(e,n){super(e,n);this.ignoreListText="";this.plugin=n}display(){let{containerEl:e}=this,n=Us();e.empty(),e.createEl("h2",{text:"Settings for Google Calendar"}),e.createEl("h4",{text:"Please restart Obsidian to let changes take effect"});let r=document.createDocumentFragment();r.append("Use own authentication client",r.createEl("br"),"Check the ",r.createEl("a",{href:"https://yukigasai.github.io/obsidian-google-calendar/#/Basics/Installation",text:"documentation"})," to find out how to create a own client."),new yt.Setting(e).setName("Use own authentication client").setDesc(r).addToggle(o=>o.setValue(this.plugin.settings.useCustomClient).onChange(a=>$(this,null,function*(){fo(""),Wi(""),Yi(0),a===!1&&new fm(app).open(),this.plugin.settings.useCustomClient=a,yield this.plugin.saveSettings(),this.display()}))),this.plugin.settings.useCustomClient?(new yt.Setting(e).setName("ClientId").setDesc("Google client id").setClass("SubSettings").addText(o=>o.setPlaceholder("Enter your client id").setValue(this.plugin.settings.googleClientId).onChange(a=>$(this,null,function*(){this.plugin.settings.googleClientId=a.trim(),yield this.plugin.saveSettings()}))),new yt.Setting(e).setName("ClientSecret").setDesc("Google client secret").setClass("SubSettings").addText(o=>o.setPlaceholder("Enter your client secret").setValue(this.plugin.settings.googleClientSecret).onChange(a=>$(this,null,function*(){this.plugin.settings.googleClientSecret=a.trim(),yield this.plugin.saveSettings()})))):new yt.Setting(e).setName("Server url").setDesc("The url to the server where the oauth takes place").setClass("SubSettings").addText(o=>{o.setValue(this.plugin.settings.googleOAuthServer).onChange(a=>$(this,null,function*(){this.plugin.settings.googleOAuthServer=a.trim(),yield this.plugin.saveSettings()}))}),new yt.Setting(e).setName("Login with google").addButton(o=>{o.setButtonText(n?"Logout":"Login").onClick(()=>{n?(fo(""),Wi(""),Yi(0),this.hide(),this.display()):yt.Platform.isMobileApp?this.plugin.settings.useCustomClient?d_():window.open(`${this.plugin.settings.googleOAuthServer}/api/google`):m_()})}),new yt.Setting(e).setName("Refresh Interval").setDesc("Time in seconds between refresh request from google server").addSlider(o=>{o.setValue(this.plugin.settings.refreshInterval),o.setLimits(this.plugin.settings.useCustomClient?10:60,360,1),o.setDynamicTooltip(),o.onChange(a=>$(this,null,function*(){a<60&&!this.plugin.settings.useCustomClient||(this.plugin.settings.refreshInterval=a,yield this.plugin.saveSettings())}))}),new yt.Setting(e).setName("Use event Notification").setDesc("Will send notification when an event starts").addToggle(o=>{o.setValue(this.plugin.settings.useNotification),o.onChange(a=>$(this,null,function*(){this.plugin.settings.useNotification=a,yield this.plugin.saveSettings(),this.hide(),this.display()}))}),new yt.Setting(e).setName("Show daily notes").setDesc("Will display daily notes and allow to open and create daily notes").addToggle(o=>{o.setValue(this.plugin.settings.activateDailyNoteAddon),o.onChange(a=>$(this,null,function*(){this.plugin.settings.activateDailyNoteAddon=a,yield this.plugin.saveSettings(),this.hide(),this.display()}))}),this.plugin.settings.activateDailyNoteAddon&&(new yt.Setting(e).setName("Use Weekly Notes").setDesc("Will show week numbers with weekly note dots").setClass("SubSettings").addToggle(o=>{o.setValue(this.plugin.settings.useWeeklyNotes),o.onChange(a=>$(this,null,function*(){this.plugin.settings.useWeeklyNotes=a,a&&ho(this.plugin),yield this.plugin.saveSettings(),this.hide(),this.display()}))}),new yt.Setting(e).setName("Daily dot color").setDesc("Color for daily note dots in month view").setClass("SubSettings").addText(o=>{o.inputEl.type="color",o.setValue(this.plugin.settings.dailyNoteDotColor),o.onChange(a=>$(this,null,function*(){this.plugin.settings.dailyNoteDotColor=a,yield this.plugin.saveSettings()}))})),new yt.Setting(e).setName("Enable @ Annotations").setDesc("Will help you to easily link events from you calendar in your notes").addToggle(o=>{o.setValue(this.plugin.settings.atAnnotationEnabled),o.onChange(a=>$(this,null,function*(){this.plugin.settings.atAnnotationEnabled=a,yield this.plugin.saveSettings(),this.hide(),this.display()}))}),this.plugin.settings.atAnnotationEnabled&&new yt.Setting(e).setName("@ Annotation language").setDesc("Switch between english and german").setClass("SubSettings").addDropdown(o=>{o.addOption("en","English"),o.addOption("de","German"),o.setValue(this.plugin.settings.usDateFormat?"en":"de"),o.onChange(a=>$(this,null,function*(){a=="en"?this.plugin.settings.usDateFormat=!0:this.plugin.settings.usDateFormat=!1,yield this.plugin.saveSettings(),this.hide(),this.display()}))}),new yt.Setting(e).setName("Auto create Event Notes").setDesc("Will create new notes from a event if the description contains :obsidian:").addToggle(o=>{o.setValue(this.plugin.settings.autoCreateEventNotes),o.onChange(a=>$(this,null,function*(){this.plugin.settings.autoCreateEventNotes=a,yield this.plugin.saveSettings(),this.hide(),this.display()}))}),new yt.Setting(e).setName("Auto create Event Notes Marker").setDesc("Specify the marker that will be used to find events to create notes. Keep empty to create a note for all events.").setClass("SubSettings").addText(o=>{o.setValue(this.plugin.settings.autoCreateEventNotesMarker),o.onChange(a=>$(this,null,function*(){this.plugin.settings.autoCreateEventNotesMarker=a,yield this.plugin.saveSettings()}))}),new yt.Setting(e).setName("Keep auto created Notes open").setDesc("When creating a new note should it stay open for direct editing").setClass("SubSettings").addToggle(o=>{o.setValue(this.plugin.settings.autoCreateEventKeepOpen),o.onChange(a=>$(this,null,function*(){this.plugin.settings.autoCreateEventKeepOpen=a,yield this.plugin.saveSettings(),this.hide(),this.display()}))}),new yt.Setting(e).setName("Import Start Offset").setDesc("Days in the past from events to import").setClass("SubSettings").addSlider(o=>{o.setValue(this.plugin.settings.importStartOffset),o.setLimits(0,7,1),o.setDynamicTooltip(),o.onChange(a=>$(this,null,function*(){o.showTooltip(),this.plugin.settings.importStartOffset=a,yield this.plugin.saveSettings()}))}),new yt.Setting(e).setName("Import End Offset").setDesc("Days in the future from events to import").setClass("SubSettings").addSlider(o=>{o.setValue(this.plugin.settings.importEndOffset),o.setLimits(0,7,1),o.setDynamicTooltip(),o.onChange(a=>$(this,null,function*(){this.plugin.settings.importEndOffset=a,yield this.plugin.saveSettings()}))}),new yt.Setting(e).setName("Event Note Prefix").setDesc("Optional prefix for event notes to improve performance").setClass("SubSettings").addText(o=>{o.setValue(this.plugin.settings.optionalNotePrefix),o.onChange(a=>$(this,null,function*(){this.plugin.settings.optionalNotePrefix=a,yield this.plugin.saveSettings()}))}),new yt.Setting(e).setName("Event Note Name Format").setDesc("Define how the event note name should look like").setClass("SubSettings").addText(o=>{o.setValue(this.plugin.settings.eventNoteNameFormat),o.onChange(a=>$(this,null,function*(){this.plugin.settings.eventNoteNameFormat=a,yield this.plugin.saveSettings()}))}),new yt.Setting(e).setName("Debug Mode").setDesc("Enable if something is not working").addToggle(o=>{o.setValue(this.plugin.settings.debugMode),o.onChange(a=>$(this,null,function*(){this.plugin.settings.debugMode=a,yield this.plugin.saveSettings()}))}),new yt.Setting(e).setName("Use defaults for note creation").setDesc("If active creating notes will be faster but less flexible").addToggle(o=>{o.setValue(this.plugin.settings.useDefaultTemplate),o.onChange(a=>$(this,null,function*(){this.plugin.settings.useDefaultTemplate=a,yield this.plugin.saveSettings(),this.display()}))}),this.plugin.settings.useDefaultTemplate&&(new yt.Setting(e).setName("Default Template").setDesc("Template to use at note creation").setClass("SubSettings").addSearch(o=>{new pl(o.inputEl,this.plugin),o.setPlaceholder("Template").setValue(this.plugin.settings.defaultTemplate).onChange(a=>$(this,null,function*(){this.plugin.settings.defaultTemplate=a,yield this.plugin.saveSettings()})),o.containerEl.addClass("templater_search")}),new yt.Setting(e).setName("Default Folder").setDesc("Folder to save notes to after creation").setClass("SubSettings").addSearch(o=>{new ml(o.inputEl),o.setPlaceholder("Example: folder1/folder2").setValue(this.plugin.settings.defaultFolder).onChange(a=>$(this,null,function*(){this.plugin.settings.defaultFolder=a,yield this.plugin.saveSettings()})),o.containerEl.addClass("templater_search")}));let i=this.plugin.settings.insertTemplates;i.length&&(new yt.Setting(e).setName("Saved Templates"),i.forEach(o=>{let a=new yt.Setting(e).setClass("SubSettings").setName(o.name).addButton(u=>{u.setButtonText("Remove"),u.onClick(()=>$(this,null,function*(){this.plugin.settings.insertTemplates.remove(o),a.settingEl.remove(),yield this.plugin.saveSettings(),this.hide(),this.display()}))})})),new yt.Setting(e).setName("Pattern ignore list").setDesc("A list of strings/regex pattern, if contained in the event summary or description, the event will not be used by the plugin").addText(o=>{o.setValue(this.ignoreListText),o.onChange(a=>{this.ignoreListText=a})}).addButton(o=>{o.setButtonText("Add"),o.onClick(()=>$(this,null,function*(){this.plugin.settings.ignorePatternList=[...this.plugin.settings.ignorePatternList,this.ignoreListText],this.ignoreListText="",yield this.plugin.saveSettings(),this.display()}))});for(let o of this.plugin.settings.ignorePatternList)new yt.Setting(e).setName(o).setClass("SubSettings").addButton(a=>{a.setButtonText("Remove"),a.onClick(()=>$(this,null,function*(){this.plugin.settings.ignorePatternList.remove(o),yield this.plugin.saveSettings(),this.display()}))});if(Ot()){new yt.Setting(e).setName("Default Calendar").addDropdown(a=>$(this,null,function*(){a.addOption("Default","Select a calendar"),(yield Pr()).forEach(f=>{a.addOption(f.id,f.summary)}),a.setValue(this.plugin.settings.defaultCalendar),a.onChange(f=>$(this,null,function*(){this.plugin.settings.defaultCalendar=f,yield this.plugin.saveSettings()}))})),e.createEl("h3","Calendar Blacklist");let o=this.plugin.settings.calendarBlackList;new yt.Setting(e).setName("Add Item to BlackList").addDropdown(a=>$(this,null,function*(){a.addOption("Default","Select Option to add"),(yield Pr()).forEach(f=>{a.addOption(f.id+"_=_"+f.summary,f.summary)}),a.onChange(f=>$(this,null,function*(){let[c,d]=f.split("_=_");o.contains([c,d])||(this.plugin.settings.calendarBlackList=[...this.plugin.settings.calendarBlackList,[c,d]],yield this.plugin.saveSettings(),this.display())}))})),o.forEach(a=>{new yt.Setting(e).setClass("SubSettings").setName(a[1]).addButton(u=>{u.setButtonText("Remove"),u.onClick(()=>$(this,null,function*(){this.plugin.settings.calendarBlackList.remove(a),yield this.plugin.saveSettings(),this.display()}))})})}}};function h_(){let t=we.getInstance();return t.settings.useCustomClient&&(t.settings.googleClientId==""||t.settings.googleClientSecret=="")?(Pe("Google Calendar missing settings"),!1):!0}function Ot(){return!Us()||Us()==""?(Pe("Google Calendar missing settings or not logged in"),!1):!0}var jy=Me(require("obsidian"));var mf=Me(di());var f1={"1":{hex:"#ac725e",name:"0"},"2":{hex:"#d06b64",name:"0"},"3":{hex:"#f83a22",name:"0"},"4":{hex:"#fa573c",name:"0"},"5":{hex:"#ff7537",name:"0"},"6":{hex:"#ffad46",name:"0"},"7":{hex:"#42d692",name:"0"},"8":{hex:"#16a765",name:"0"},"9":{hex:"#7bd148",name:"0"},"10":{hex:"#b3dc6c",name:"0"},"11":{hex:"#fbe983",name:"0"},"12":{hex:"#fad165",name:"0"},"13":{hex:"#92e1c0",name:"0"},"14":{hex:"#9fe1e7",name:"0"},"15":{hex:"#9fc6e7",name:"0"},"16":{hex:"#4986e7",name:"0"},"17":{hex:"#9a9cff",name:"0"},"18":{hex:"#b99aff",name:"0"},"19":{hex:"#c2c2c2",name:"0"},"20":{hex:"#cabdbf",name:"0"},"21":{hex:"#cca6ac",name:"0"},"22":{hex:"#f691b2",name:"0"},"23":{hex:"#cd74e6",name:"0"},"24":{hex:"#a47ae2",name:"0"}},pf={"1":{hex:"#a4bdfc",name:"Lavender"},"2":{hex:"#7ae7bf",name:"Sage"},"3":{hex:"#dbadff",name:"Grape"},"4":{hex:"#ff887c",name:"Flamingo"},"5":{hex:"#fbd75b",name:"Banana"},"6":{hex:"#ffb878",name:"Tangerine"},"7":{hex:"#46d6db",name:"Peacock"},"8":{hex:"#e1e1e1",name:"Graphite"},"9":{hex:"#5484ed",name:"Blueberry"},"10":{hex:"#51b749",name:"Basil"},"11":{hex:"#dc2127",name:"Tomato"}},dm=[...new Set([...Object.values(pf).map(t=>t.name),...Object.values(f1).map(t=>t.name)])],Tl=[...Object.values(pf).map(t=>t.name)];function zi(t){return t.colorId?pf[t.colorId].hex:t.parent.colorId?f1[t.parent.colorId].hex:"#a4bdfc"}function Cl(t){return t.colorId?pf[t.colorId].name:t.parent.colorId?"NOT IMPLEMENTED":"NO COLOR"}var hf=new Map;function tn(){hf.clear()}function pm(){return $(this,arguments,function*({startDate:t,endDate:e,exclude:n,include:r}={}){let i=we.getInstance();t||(t=window.moment()),t=t.startOf("day"),e||(e=t.clone()),e=e.endOf("day");let o=yield gr(),[a,u]=(r!=null?r:[]).reduce(([m,h],v)=>dm.includes(v)?[m,[...h,v]]:[[...m,v],h],[[],[]]),[f,c]=(n!=null?n:[]).reduce(([m,h],v)=>dm.includes(v)?[m,[...h,v]]:[[...m,v],h],[[],[]]);a.length?o=o.filter(m=>a.contains(m.id)||a.contains(m.summary)):f.length&&(o=o.filter(m=>!(f.contains(m.id)||f.contains(m.summary))));let d=[];for(let m=0;m<o.length;m++){let h=yield jx(i,o[m],t,e,u,c);d=[...d,...h]}return d=mf.default.orderBy(d,[m=>{var h;return new Date((h=m.start.date)!=null?h:m.start.dateTime)}],"asc"),d})}function Ut(){return $(this,arguments,function*(t={}){try{return yield pm(t)}catch(e){if(!(e instanceof Dt))return[];switch(e.status){case 401:break;case 999:Pe(e.message);break;default:Pe("Google Events could not be loaded."),sr(e);break}return[]}})}function Yx(t,e,n){return $(this,null,function*(){if(!Ot())throw new Dt("Not logged in",null,401,{error:"Not logged in"});let r,i=2500,o=[];do{let a=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(t.id)}/events?`;a+=`maxResults=${i}`,a+="&futureevents=true",a+="&singleEvents=true",a+="&orderby=starttime",a+="&sortorder=ascending",a+=`&timeMin=${e}`,a+=`&timeMax=${n}`,r&&r.nextPageToken&&(a+=`&pageToken=${r.nextPageToken}`),r=yield Zn(a,"GET",null);let u=r.items.filter(f=>(f.parent=t,f.status!="cancelled"));o=[...o,...u]}while(r.items.length==i&&r.nextPageToken);return o})}function Bx(t,e,n){return t.reduce((r,i)=>{let o=i.start.date&&!i.start.dateTime,a=window.moment(i.end.dateTime||i.end.date),u=window.moment(i.start.dateTime||i.start.date);if(u.isSame(a,"day")||a.isSame(u.clone().add(1,"day").startOf("day"),"minute"))return[...r,i];let f=[],c=a.clone().endOf("day").diff(u.clone().startOf("day"),"days")+1;o&&c--;let d=i.summary;for(let m=1;m<=c;m++){let h=mf.default.cloneDeep(i);o?h.start.date=u.format("YYYY-MM-DD"):h.start.dateTime=u.toISOString(),m==c?o?h.end.date=a.format("YYYY-MM-DD"):h.end.dateTime=a.toISOString():o?h.end.date=u.endOf("day").format("YYYY-MM-DD"):h.end.dateTime=u.endOf("day").toISOString(),h.summary=`${d} (${m}/${c})`,h.eventType="multiDay",f.push(h),u.add(1,"days").startOf("day")}return e&&n&&(f=f.filter(m=>{var v;return window.moment((v=m.start.dateTime)!=null?v:m.start.date).isBetween(e,n,"day","[]")})),[...r,...f]},[])}function Gx(t,e,n,r){let i=n.clone(),o=[];for(;i<=r;){let a=JSON.stringify({day:i.format("YYYY-MM-DD"),calendar:e.id});if(!hf.has(a))return null;!t.settings.useCustomClient&&t.settings.refreshInterval<60&&(t.settings.refreshInterval=60);let{events:u,updated:f}=hf.get(a);if(f.clone().add(t.settings.refreshInterval,"second").isBefore(window.moment()))return null;o=[...o,...u],i.add(1,"day")}return o}function jx(a,u,f,c){return $(this,arguments,function*(t,e,n,r,i=[],o=[]){let d=Gx(t,e,n,r);if(d)return d.filter(_=>i.length>0?i.includes(Cl(_)):o.length>0?!o.includes(Cl(_)):!0);let m=yield Yx(e,n.toISOString(),r.toISOString());t.settings.ignorePatternList.length>0&&(m=m.filter(_=>!t.settings.ignorePatternList.some(b=>{var E,w;if(b.startsWith("/")&&b.endsWith("/")){let C=new RegExp(b.slice(1,-1));return C.test(_.summary)||C.test(_.description)}return((E=_.description)==null?void 0:E.includes(b))||((w=_.summary)==null?void 0:w.includes(b))}))),m=Bx(m,n,r);let h=mf.default.groupBy(m,_=>{var E;return window.moment((E=_.start.dateTime)!=null?E:_.start.date).format("YYYY-MM-DD")}),v=n.clone();for(;v<=r;){let _=v.format("YYYY-MM-DD"),b=JSON.stringify({day:_,calendar:e.id});hf.set(b,{events:h[_]||[],updated:window.moment()}),v.add(1,"day")}return m.filter(_=>_.eventType==="delete"?!1:i.length>0?i.includes(Cl(_)):o.length>0?!o.includes(Cl(_)):!0)})}var By=Me(require("obsidian"));var Wy=Me(require("obsidian"));function ve(){}var $s=t=>t;function vn(t,e){for(let n in e)t[n]=e[n];return t}function mm(t){return t()}function c1(){return Object.create(null)}function ze(t){t.forEach(mm)}function nn(t){return typeof t=="function"}function Re(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}var gf;function os(t,e){return gf||(gf=document.createElement("a")),gf.href=e,t===gf.href}function d1(t){return Object.keys(t).length===0}function vf(t,...e){if(t==null)return ve;let n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function _f(t,e,n){t.$$.on_destroy.push(vf(e,n))}function Jr(t,e,n,r){if(t){let i=p1(t,e,n,r);return t[0](i)}}function p1(t,e,n,r){return t[1]&&r?vn(n.ctx.slice(),t[1](r(e))):n.ctx}function Qr(t,e,n,r){if(t[2]&&r){let i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){let o=[],a=Math.max(e.dirty.length,i.length);for(let u=0;u<a;u+=1)o[u]=e.dirty[u]|i[u];return o}return e.dirty|i}return e.dirty}function $r(t,e,n,r,i,o){if(i){let a=p1(e,n,r,o);t.p(a,i)}}function ei(t){if(t.ctx.length>32){let e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function ti(t){let e={};for(let n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Ft(t){return t==null?"":t}var m1=typeof window!="undefined",ea=m1?()=>window.performance.now():()=>Date.now(),hm=m1?t=>requestAnimationFrame(t):ve;var ta=new Set;function h1(t){ta.forEach(e=>{e.c(t)||(ta.delete(e),e.f())}),ta.size!==0&&hm(h1)}function Sl(t){let e;return ta.size===0&&hm(h1),{promise:new Promise(n=>{ta.add(e={c:t,f:n})}),abort(){ta.delete(e)}}}var g1=!1;function Ux(){g1=!0}function zx(){g1=!1}function x(t,e){t.appendChild(e)}function dt(t,e,n){let r=gm(t);if(!r.getElementById(e)){let i=N("style");i.id=e,i.textContent=n,v1(r,i)}}function gm(t){if(!t)return document;let e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Hx(t){let e=N("style");return v1(gm(t),e),e.sheet}function v1(t,e){return x(t.head||t,e),e.sheet}function B(t,e,n){t.insertBefore(e,n||null)}function W(t){t.parentNode&&t.parentNode.removeChild(t)}function Nt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function N(t){return document.createElement(t)}function ni(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Fe(t){return document.createTextNode(t)}function ee(){return Fe(" ")}function Lt(){return Fe("")}function ne(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function pi(t){return function(e){return e.preventDefault(),t.call(this,e)}}function mi(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function _1(t){return function(e){e.target===this&&t.call(this,e)}}function k(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function hi(t,e){for(let n in e)k(t,n,e[n])}function Vx(t){return Array.from(t.childNodes)}function Ve(t,e){e=""+e,t.data!==e&&(t.data=e)}function go(t,e){t.value=e==null?"":e}function he(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function gi(t,e,n){for(let r=0;r<t.options.length;r+=1){let i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function na(t){let e=t.querySelector(":checked");return e&&e.__value}var yf;function qx(){if(yf===void 0){yf=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch(t){yf=!0}}return yf}function ra(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");let r=N("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;let i=qx(),o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=ne(window,"message",a=>{a.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{o=ne(r.contentWindow,"resize",e),e()}),x(t,r),()=>{(i||o&&r.contentWindow)&&o(),W(r)}}function ke(t,e,n){t.classList[n?"add":"remove"](e)}function y1(t,e,{bubbles:n=!1,cancelable:r=!1}={}){let i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}var wf=class{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,r=null){this.e||(this.is_svg?this.e=ni(n.nodeName):this.e=N(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)B(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(W)}};var bf=new Map,kf=0;function Kx(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Zx(t,e){let n={stylesheet:Hx(e),rules:{}};return bf.set(t,n),n}function vm(t,e,n,r,i,o,a,u=0){let f=16.666/r,c=`{
`;for(let E=0;E<=1;E+=f){let w=e+(n-e)*o(E);c+=E*100+`%{${a(w,1-w)}}
`}let d=c+`100% {${a(n,1-n)}}
}`,m=`__svelte_${Kx(d)}_${u}`,h=gm(t),{stylesheet:v,rules:_}=bf.get(h)||Zx(h,t);_[m]||(_[m]=!0,v.insertRule(`@keyframes ${m} ${d}`,v.cssRules.length));let b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${m} ${r}ms linear ${i}ms 1 both`,kf+=1,m}function Ef(t,e){let n=(t.style.animation||"").split(", "),r=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),kf-=i,kf||Xx())}function Xx(){hm(()=>{kf||(bf.forEach(t=>{let{ownerNode:e}=t.stylesheet;e&&W(e)}),bf.clear())})}function w1(t,e,n,r){if(!e)return ve;let i=t.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return ve;let{delay:o=0,duration:a=300,easing:u=$s,start:f=ea()+o,end:c=f+a,tick:d=ve,css:m}=n(t,{from:e,to:i},r),h=!0,v=!1,_;function b(){m&&(_=vm(t,0,1,a,o,u,m)),o||(v=!0)}function E(){m&&Ef(t,_),h=!1}return Sl(w=>{if(!v&&w>=f&&(v=!0),v&&w>=c&&(d(1,0),E()),!h)return!1;if(v){let C=w-f,A=0+1*u(C/a);d(A,1-A)}return!0}),b(),d(0,1),E}function b1(t){let e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){let{width:n,height:r}=e,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,Jx(t,i)}}function Jx(t,e){let n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){let r=getComputedStyle(t),i=r.transform==="none"?"":r.transform;t.style.transform=`${i} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}var Dl;function Ol(t){Dl=t}function _m(){if(!Dl)throw new Error("Function called outside component initialization");return Dl}function Hi(t){_m().$$.on_mount.push(t)}function ss(t){_m().$$.on_destroy.push(t)}function Al(){let t=_m();return(e,n,{cancelable:r=!1}={})=>{let i=t.$$.callbacks[e];if(i){let o=y1(e,n,{cancelable:r});return i.slice().forEach(a=>{a.call(t,o)}),!o.defaultPrevented}return!0}}function Pn(t,e){let n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}var ia=[];var Se=[],oa=[],ym=[],k1=Promise.resolve(),wm=!1;function E1(){wm||(wm=!0,k1.then(T1))}function Tf(){return E1(),k1}function rn(t){oa.push(t)}function qe(t){ym.push(t)}var bm=new Set,sa=0;function T1(){if(sa!==0)return;let t=Dl;do{try{for(;sa<ia.length;){let e=ia[sa];sa++,Ol(e),Qx(e.$$)}}catch(e){throw ia.length=0,sa=0,e}for(Ol(null),ia.length=0,sa=0;Se.length;)Se.pop()();for(let e=0;e<oa.length;e+=1){let n=oa[e];bm.has(n)||(bm.add(n),n())}oa.length=0}while(ia.length);for(;ym.length;)ym.pop()();wm=!1,bm.clear(),Ol(t)}function Qx(t){if(t.fragment!==null){t.update(),ze(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(rn)}}function $x(t){let e=[],n=[];oa.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),oa=e}var Ml;function C1(){return Ml||(Ml=Promise.resolve(),Ml.then(()=>{Ml=null})),Ml}function Cf(t,e,n){t.dispatchEvent(y1(`${e?"intro":"outro"}${n}`))}var Sf=new Set,vo;function $e(){vo={r:0,c:[],p:vo}}function et(){vo.r||ze(vo.c),vo=vo.p}function ie(t,e){t&&t.i&&(Sf.delete(t),t.i(e))}function ce(t,e,n,r){if(t&&t.o){if(Sf.has(t))return;Sf.add(t),vo.c.push(()=>{Sf.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}var S1={duration:0};function D1(t,e,n){let r={direction:"in"},i=e(t,n,r),o=!1,a,u,f=0;function c(){a&&Ef(t,a)}function d(){let{delay:h=0,duration:v=300,easing:_=$s,tick:b=ve,css:E}=i||S1;E&&(a=vm(t,0,1,v,h,_,E,f++)),b(0,1);let w=ea()+h,C=w+v;u&&u.abort(),o=!0,rn(()=>Cf(t,!0,"start")),u=Sl(A=>{if(o){if(A>=C)return b(1,0),Cf(t,!0,"end"),c(),o=!1;if(A>=w){let Y=_((A-w)/v);b(Y,1-Y)}}return o})}let m=!1;return{start(){m||(m=!0,Ef(t),nn(i)?(i=i(r),C1().then(d)):d())},invalidate(){m=!1},end(){o&&(c(),o=!1)}}}function O1(t,e,n){let r={direction:"out"},i=e(t,n,r),o=!0,a,u=vo;u.r+=1;function f(){let{delay:c=0,duration:d=300,easing:m=$s,tick:h=ve,css:v}=i||S1;v&&(a=vm(t,1,0,d,c,m,v));let _=ea()+c,b=_+d;rn(()=>Cf(t,!1,"start")),Sl(E=>{if(o){if(E>=b)return h(0,1),Cf(t,!1,"end"),--u.r||ze(u.c),!1;if(E>=_){let w=m((E-_)/d);h(1-w,w)}}return o})}return nn(i)?C1().then(()=>{i=i(r),f()}):f(),{end(c){c&&i.tick&&i.tick(1,0),o&&(a&&Ef(t,a),o=!1)}}}var Df=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function xl(t,e){ce(t,1,1,()=>{e.delete(t.key)})}function A1(t,e){t.f(),xl(t,e)}function aa(t,e,n,r,i,o,a,u,f,c,d,m){let h=t.length,v=o.length,_=h,b={};for(;_--;)b[t[_].key]=_;let E=[],w=new Map,C=new Map,A=[];for(_=v;_--;){let L=m(i,o,_),S=n(L),F=a.get(S);F?r&&A.push(()=>F.p(L,e)):(F=c(S,L),F.c()),w.set(S,E[_]=F),S in b&&C.set(S,Math.abs(_-b[S]))}let Y=new Set,M=new Set;function P(L){ie(L,1),L.m(u,d),a.set(L.key,L),d=L.first,v--}for(;h&&v;){let L=E[v-1],S=t[h-1],F=L.key,ae=S.key;L===S?(d=L.first,h--,v--):w.has(ae)?!a.has(F)||Y.has(F)?P(L):M.has(ae)?h--:C.get(F)>C.get(ae)?(M.add(F),P(L)):(Y.add(ae),h--):(f(S,a),h--)}for(;h--;){let L=t[h];w.has(L.key)||f(L,a)}for(;v;)P(E[v-1]);return ze(A),E}function _o(t,e){let n={},r={},i={$$scope:1},o=t.length;for(;o--;){let a=t[o],u=e[o];if(u){for(let f in a)f in u||(r[f]=1);for(let f in u)i[f]||(n[f]=u[f],i[f]=1);t[o]=u}else for(let f in a)i[f]=1}for(let a in r)a in n||(n[a]=void 0);return n}var e3=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],dW=new Set([...e3]);function Ke(t,e,n){let r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function rt(t){t&&t.c()}function tt(t,e,n,r){let{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),r||rn(()=>{let a=t.$$.on_mount.map(mm).filter(nn);t.$$.on_destroy?t.$$.on_destroy.push(...a):ze(a),t.$$.on_mount=[]}),o.forEach(rn)}function Je(t,e){let n=t.$$;n.fragment!==null&&($x(n.after_update),ze(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function t3(t,e){t.$$.dirty[0]===-1&&(ia.push(t),E1(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function je(t,e,n,r,i,o,a,u=[-1]){let f=Dl;Ol(t);let c=t.$$={fragment:null,ctx:[],props:o,update:ve,not_equal:i,bound:c1(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:c1(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};a&&a(c.root);let d=!1;if(c.ctx=n?n(t,e.props||{},(m,h,...v)=>{let _=v.length?v[0]:h;return c.ctx&&i(c.ctx[m],c.ctx[m]=_)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](_),d&&t3(t,m)),h}):[],c.update(),d=!0,ze(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){Ux();let m=Vx(e.target);c.fragment&&c.fragment.l(m),m.forEach(W)}else c.fragment&&c.fragment.c();e.intro&&ie(t.$$.fragment),tt(t,e.target,e.anchor,e.customElement),zx(),T1()}Ol(f)}var n3;typeof HTMLElement=="function"&&(n3=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(mm).filter(nn);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){ze(this.$$.on_disconnect)}$destroy(){Je(this,1),this.$destroy=ve}$on(t,e){if(!nn(e))return ve;let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{let r=n.indexOf(e);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!d1(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});var We=class{$destroy(){Je(this,1),this.$destroy=ve}$on(e,n){if(!nn(n))return ve;let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{let i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!d1(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var X1=Me(Em()),{__extends:hW,__assign:gW,__rest:vW,__decorate:_W,__param:yW,__metadata:wW,__awaiter:kt,__generator:bW,__exportStar:kW,__createBinding:EW,__values:TW,__read:CW,__spread:SW,__spreadArrays:DW,__spreadArray:OW,__await:AW,__asyncGenerator:MW,__asyncDelegator:xW,__asyncValues:PW,__makeTemplateObject:NW,__importStar:RW,__importDefault:IW,__classPrivateFieldGet:LW,__classPrivateFieldSet:FW}=X1.default;function Pl(t,e=!1){return $(this,null,function*(){var a,u,f;let n=we.getInstance();if(!Ot())throw new Dt("Not logged in",null,401,{error:"Not logged in"});let r=(a=t.parent)==null?void 0:a.id;if(r||(r=(u=n.settings.defaultCalendar)!=null?u:""),r==="")throw new Dt("Could not delete Google Event because no default calendar selected in Settings",null,999,{error:"No calendar set"});let i=(f=t.recurringEventId)!=null?f:t.id;return!e&&t.recurringEventId&&(i=t.id),yield Zn(`https://www.googleapis.com/calendar/v3/calendars/${r}/events/${i}`,"DELETE",null)})}function xf(t,e=!1){return $(this,null,function*(){try{let n=yield Pl(t,e);return Pe(`Google Event ${t.summary} deleted.`),n}catch(n){if(!(n instanceof Dt))return!1;switch(n.status){case 401:break;case 999:Pe(n.message);break;default:Pe(`Google Event ${t.summary} could not be deleted.`),sr(n);break}return!1}})}function as(t,e){return $(this,null,function*(){if(!Ot())throw new Dt("Not logged in",null,401,{error:"Not logged in"});let n=yield gr();if(e){let r=yield Zn(`https://www.googleapis.com/calendar/v3/calendars/${e}/events/${t}`,"GET",null);return r.parent=n.find(i=>i.id===e),r}for(let r of n)try{let i=yield Zn(`https://www.googleapis.com/calendar/v3/calendars/${r.id}/events/${t}`,"GET",null);if(i&&i.id===t)return i.parent=r,i}catch(i){}})}function ri(t,e){return $(this,null,function*(){try{return yield as(t,e)}catch(n){if(!(n instanceof Dt))return null;switch(n.status){case 401:break;case 999:Pe(n.message);break;default:Pe("Could not get Google Event."),sr(n);break}return null}})}function ls(t,e=!1){return $(this,null,function*(){var u;let n=structuredClone(t),r=we.getInstance();if(!Ot())throw new Dt("Not logged in",null,401,{error:"Not logged in"});if(e&&n.recurringEventId){let f=yield ri(n.recurringEventId,n.parent.id);n=hr(hr({},f),n),n.start.dateTime?(n.start.dateTime=window.moment(n.start.dateTime).date(window.moment(f.start.dateTime).date()).format(),n.end.dateTime=window.moment(n.end.dateTime).date(window.moment(f.end.dateTime).date()).format()):(n.start.date=window.moment(f.start.date).format("YYYY-MM-DD"),n.end.date=window.moment(f.end.date).format("YYYY-MM-DD")),n.id=f.id,n.recurrence=f.recurrence,n.id=f.id,delete n.recurringEventId,delete n.originalStartTime}let i="";if(((u=n==null?void 0:n.parent)==null?void 0:u.id)?(i=n.parent.id,n.start.timeZone=n.parent.timeZone,n.end.timeZone=n.parent.timeZone,delete n.parent):i=r.settings.defaultCalendar,i==="")throw new Dt("Could not create Google Event because no default calendar selected in Settings",null,999,{error:"No calendar set"});let o=yield Zn(`https://www.googleapis.com/calendar/v3/calendars/${i}/events/${n.id}`,"PUT",n),a=yield gr();return o.parent=a.find(f=>f.id===i),o})}function Pf(t,e=!1){return $(this,null,function*(){try{let n=yield ls(t,e);return Pe(`Google Event ${n.summary} updated.`),n}catch(n){switch(n.status){case 401:break;case 999:Pe(n.message);break;default:Pe(`Google Event ${t.summary} could not be updated.`),sr(n);break}return null}})}function J1(t){return window.moment(t).format("YYYY-MM-DD")}function Q1(t){return window.moment(t).format()}function Tm(t){return $(this,null,function*(){var i;let e=we.getInstance();if(t.start.date?(t.start.date=J1(t.start.date),t.end.date=J1(t.end.date)):(t.start.dateTime=Q1(t.start.dateTime),t.end.dateTime=Q1(t.end.dateTime)),!Ot())throw new Dt("Not logged in",null,401,{error:"Not logged in"});let n="";if(((i=t==null?void 0:t.parent)==null?void 0:i.id)?(n=t.parent.id,t.start.timeZone=t.parent.timeZone,t.end.timeZone=t.parent.timeZone,delete t.parent):n=e.settings.defaultCalendar,n==="")throw new Dt("Could not create Google Event because no default calendar selected in Settings",null,999,{error:"No calendar set"});return yield Zn(`https://www.googleapis.com/calendar/v3/calendars/${n}/events?conferenceDataVersion=1`,"POST",t)})}function Nf(t){return $(this,null,function*(){try{let e=yield Tm(t);return Pe(`Google Event ${t.summary} created.`),e}catch(e){if(!(e instanceof Dt))return null;switch(e.status){case 401:break;case 999:Pe(e.message);break;default:Pe(`Google Event ${t.summary} could not be created.`),sr(e);break}return null}})}var Rf=["MO","TU","WE","TH","FR","SA","SU"],cn=function(){function t(e,n){if(n===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=n}return t.fromStr=function(e){return new t(Rf.indexOf(e))},t.prototype.nth=function(e){return this.n===e?this:new t(this.weekday,e)},t.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},t.prototype.toString=function(){var e=Rf[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},t.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},t}();var zt=function(t){return t!=null},vr=function(t){return typeof t=="number"},Cm=function(t){return Rf.indexOf(t)>=0},Nn=Array.isArray,Fr=function(t,e){e===void 0&&(e=t),arguments.length===1&&(e=t,t=0);for(var n=[],r=t;r<e;r++)n.push(r);return n};var wt=function(t,e){var n=0,r=[];if(Nn(t))for(;n<e;n++)r[n]=[].concat(t);else for(;n<e;n++)r[n]=t;return r},$1=function(t){return Nn(t)?t:[t]};function us(t,e,n){n===void 0&&(n=" ");var r=String(t);return e=e>>0,r.length>e?String(r):(e=e-r.length,e>n.length&&(n+=wt(n,e/n.length)),n.slice(0,e)+String(r))}var e0=function(t,e,n){var r=t.split(e);return n?r.slice(0,n).concat([r.slice(n).join(e)]):r},Wn=function(t,e){var n=t%e;return n*e<0?n+e:n},If=function(t,e){return{div:Math.floor(t/e),mod:Wn(t,e)}},_r=function(t){return!zt(t)||t.length===0},ln=function(t){return!_r(t)},Et=function(t,e){return ln(t)&&t.indexOf(e)!==-1};var yo;(function(t){t.MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31],t.ONE_DAY=1e3*60*60*24,t.MAXYEAR=9999,t.ORDINAL_BASE=new Date(Date.UTC(1970,0,1)),t.PY_WEEKDAYS=[6,0,1,2,3,4,5],t.getYearDay=function(e){var n=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return Math.ceil((n.valueOf()-new Date(e.getUTCFullYear(),0,1).valueOf())/t.ONE_DAY)+1},t.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},t.isDate=function(e){return e instanceof Date},t.isValidDate=function(e){return t.isDate(e)&&!isNaN(e.getTime())},t.tzOffset=function(e){return e.getTimezoneOffset()*60*1e3},t.daysBetween=function(e,n){var r=e.getTime()-t.tzOffset(e),i=n.getTime()-t.tzOffset(n),o=r-i;return Math.round(o/t.ONE_DAY)},t.toOrdinal=function(e){return t.daysBetween(e,t.ORDINAL_BASE)},t.fromOrdinal=function(e){return new Date(t.ORDINAL_BASE.getTime()+e*t.ONE_DAY)},t.getMonthDays=function(e){var n=e.getUTCMonth();return n===1&&t.isLeapYear(e.getUTCFullYear())?29:t.MONTH_DAYS[n]},t.getWeekday=function(e){return t.PY_WEEKDAYS[e.getUTCDay()]},t.monthRange=function(e,n){var r=new Date(Date.UTC(e,n,1));return[t.getWeekday(r),t.getMonthDays(r)]},t.combine=function(e,n){return n=n||e,new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()))},t.clone=function(e){var n=new Date(e.getTime());return n},t.cloneDates=function(e){for(var n=[],r=0;r<e.length;r++)n.push(t.clone(e[r]));return n},t.sort=function(e){e.sort(function(n,r){return n.getTime()-r.getTime()})},t.timeToUntilString=function(e,n){n===void 0&&(n=!0);var r=new Date(e);return[us(r.getUTCFullYear().toString(),4,"0"),us(r.getUTCMonth()+1,2,"0"),us(r.getUTCDate(),2,"0"),"T",us(r.getUTCHours(),2,"0"),us(r.getUTCMinutes(),2,"0"),us(r.getUTCSeconds(),2,"0"),n?"Z":""].join("")},t.untilStringToDate=function(e){var n=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,r=n.exec(e);if(!r)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[5],10)||0,parseInt(r[6],10)||0,parseInt(r[7],10)||0))}})(yo||(yo={}));var Ue=yo;var r3=function(){function t(e,n){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=n,e==="between"?(this.maxDate=n.inc?n.before:new Date(n.before.getTime()-1),this.minDate=n.inc?n.after:new Date(n.after.getTime()+1)):e==="before"?this.maxDate=n.inc?n.dt:new Date(n.dt.getTime()-1):e==="after"&&(this.minDate=n.inc?n.dt:new Date(n.dt.getTime()+1))}return t.prototype.accept=function(e){++this.total;var n=this.minDate&&e<this.minDate,r=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(n)return!0;if(r)return!1}else if(this.method==="before"){if(r)return!1}else if(this.method==="after")return n?!0:(this.add(e),!1);return this.add(e)},t.prototype.add=function(e){return this._result.push(e),!0},t.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},t.prototype.clone=function(){return new t(this.method,this.args)},t}(),Vi=r3;var k0=Me(b0()),{__extends:fa,__assign:Jn,__rest:PY,__decorate:NY,__param:RY,__metadata:IY,__awaiter:LY,__generator:FY,__exportStar:WY,__createBinding:YY,__values:BY,__read:GY,__spread:jY,__spreadArrays:fs,__await:UY,__asyncGenerator:zY,__asyncDelegator:HY,__asyncValues:VY,__makeTemplateObject:qY,__importStar:KY,__importDefault:ZY,__classPrivateFieldGet:XY,__classPrivateFieldSet:JY}=k0.default;var i3=function(t){fa(e,t);function e(n,r,i){var o=t.call(this,n,r)||this;return o.iterator=i,o}return e.prototype.add=function(n){return this.iterator(n,this._result.length)?(this._result.push(n),!0):!1},e}(Vi),Dm=i3;var o3={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},cs=o3;var E0=function(t,e){return t.indexOf(e)!==-1},s3=function(t){return t.toString()},a3=function(t,e,n){return e+" "+n+", "+t},l3=function(){function t(e,n,r,i){if(n===void 0&&(n=s3),r===void 0&&(r=cs),i===void 0&&(i=a3),this.text=[],this.language=r||cs,this.gettext=n,this.dateFormatter=i,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var o=[].concat(this.options.bymonthday),a=[].concat(this.options.bynmonthday);o.sort(function(d,m){return d-m}),a.sort(function(d,m){return m-d}),this.bymonthday=o.concat(a),this.bymonthday.length||(this.bymonthday=null)}if(zt(this.origOptions.byweekday)){var u=Nn(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],f=String(u);this.byweekday={allWeeks:u.filter(function(d){return!d.n}),someWeeks:u.filter(function(d){return Boolean(d.n)}),isWeekdays:f.indexOf("MO")!==-1&&f.indexOf("TU")!==-1&&f.indexOf("WE")!==-1&&f.indexOf("TH")!==-1&&f.indexOf("FR")!==-1&&f.indexOf("SA")===-1&&f.indexOf("SU")===-1,isEveryDay:f.indexOf("MO")!==-1&&f.indexOf("TU")!==-1&&f.indexOf("WE")!==-1&&f.indexOf("TH")!==-1&&f.indexOf("FR")!==-1&&f.indexOf("SA")!==-1&&f.indexOf("SU")!==-1};var c=function(d,m){return d.weekday-m.weekday};this.byweekday.allWeeks.sort(c),this.byweekday.someWeeks.sort(c),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return t.isFullyConvertible=function(e){var n=!0;if(!(e.options.freq in t.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(var r in e.origOptions){if(E0(["dtstart","wkst","freq"],r))return!0;if(!E0(t.IMPLEMENTED[e.options.freq],r))return!1}return n},t.prototype.isFullyConvertible=function(){return t.isFullyConvertible(this.rrule)},t.prototype.toString=function(){var e=this.gettext;if(!(this.options.freq in t.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[Ae.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));var n=this.options.until;this.add(this.dateFormatter(n.getUTCFullYear(),this.language.monthNames[n.getUTCMonth()],n.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")},t.prototype.HOURLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},t.prototype.MINUTELY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},t.prototype.DAILY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},t.prototype.WEEKLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},t.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},t.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},t.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},t.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},t.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},t.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},t.prototype.nth=function(e){e=parseInt(e.toString(),10);var n,r,i=this.gettext;if(e===-1)return i("last");switch(r=Math.abs(e),r){case 1:case 21:case 31:n=r+i("st");break;case 2:case 22:n=r+i("nd");break;case 3:case 23:n=r+i("rd");break;default:n=r+i("th")}return e<0?n+" "+i("last"):n},t.prototype.monthtext=function(e){return this.language.monthNames[e-1]},t.prototype.weekdaytext=function(e){var n=vr(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[n]},t.prototype.plural=function(e){return e%100!=1},t.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},t.prototype.list=function(e,n,r,i){i===void 0&&(i=","),Nn(e)||(e=[e]);var o=function(f,c,d){for(var m="",h=0;h<f.length;h++)h!==0&&(h===f.length-1?m+=" "+d+" ":m+=c+" "),m+=f[h];return m};n=n||function(f){return f.toString()};var a=this,u=function(f){return n&&n.call(a,f)};return r?o(e.map(u),i,r):e.map(u).join(i+" ")},t}(),vi=l3;var u3=function(){function t(e){this.done=!0,this.rules=e}return t.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},t.prototype.isDone=function(){return this.done&&this.symbol===null},t.prototype.nextSymbol=function(){var e,n,r=this;this.symbol=null,this.value=null;do{if(this.done)return!1;var i=void 0;e=null;for(var o in this.rules){i=this.rules[o];var a=i.exec(r.text);a&&(e===null||a[0].length>e[0].length)&&(e=a,n=o)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(n==="SKIP");return this.symbol=n,this.value=e,!0},t.prototype.accept=function(e){if(this.symbol===e){if(this.value){var n=this.value;return this.nextSymbol(),n}return this.nextSymbol(),!0}return!1},t.prototype.acceptNumber=function(){return this.accept("number")},t.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},t}();function Nl(t,e){e===void 0&&(e=cs);var n={},r=new u3(e.tokens);if(!r.start(t))return null;return i(),n;function i(){r.expect("every");var h=r.acceptNumber();if(h&&(n.interval=parseInt(h[0],10)),r.isDone())throw new Error("Unexpected end");switch(r.symbol){case"day(s)":n.freq=Ae.DAILY,r.nextSymbol()&&(a(),m());break;case"weekday(s)":n.freq=Ae.WEEKLY,n.byweekday=[Ae.MO,Ae.TU,Ae.WE,Ae.TH,Ae.FR],r.nextSymbol(),m();break;case"week(s)":n.freq=Ae.WEEKLY,r.nextSymbol()&&(o(),m());break;case"hour(s)":n.freq=Ae.HOURLY,r.nextSymbol()&&(o(),m());break;case"minute(s)":n.freq=Ae.MINUTELY,r.nextSymbol()&&(o(),m());break;case"month(s)":n.freq=Ae.MONTHLY,r.nextSymbol()&&(o(),m());break;case"year(s)":n.freq=Ae.YEARLY,r.nextSymbol()&&(o(),m());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":n.freq=Ae.WEEKLY;var v=r.symbol.substr(0,2).toUpperCase();if(n.byweekday=[Ae[v]],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var _=f();if(!_)throw new Error("Unexpected symbol "+r.symbol+", expected weekday");n.byweekday.push(Ae[_]),r.nextSymbol()}d(),m();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(n.freq=Ae.YEARLY,n.bymonth=[u()],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var b=u();if(!b)throw new Error("Unexpected symbol "+r.symbol+", expected month");n.bymonth.push(b),r.nextSymbol()}o(),m();break;default:throw new Error("Unknown symbol")}}function o(){var h=r.accept("on"),v=r.accept("the");if(!!(h||v))do{var _=c(),b=f(),E=u();if(_)b?(r.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(Ae[b].nth(_))):(n.bymonthday||(n.bymonthday=[]),n.bymonthday.push(_),r.accept("day(s)"));else if(b)r.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(Ae[b]);else if(r.symbol==="weekday(s)")r.nextSymbol(),n.byweekday||(n.byweekday=[Ae.MO,Ae.TU,Ae.WE,Ae.TH,Ae.FR]);else if(r.symbol==="week(s)"){r.nextSymbol();var w=r.acceptNumber();if(!w)throw new Error("Unexpected symbol "+r.symbol+", expected week number");for(n.byweekno=[parseInt(w[0],10)];r.accept("comma");){if(w=r.acceptNumber(),!w)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");n.byweekno.push(parseInt(w[0],10))}}else if(E)r.nextSymbol(),n.bymonth||(n.bymonth=[]),n.bymonth.push(E);else return}while(r.accept("comma")||r.accept("the")||r.accept("on"))}function a(){var h=r.accept("at");if(!!h)do{var v=r.acceptNumber();if(!v)throw new Error("Unexpected symbol "+r.symbol+", expected hour");for(n.byhour=[parseInt(v[0],10)];r.accept("comma");){if(v=r.acceptNumber(),!v)throw new Error("Unexpected symbol "+r.symbol+"; expected hour");n.byhour.push(parseInt(v[0],10))}}while(r.accept("comma")||r.accept("at"))}function u(){switch(r.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function f(){switch(r.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return r.symbol.substr(0,2).toUpperCase();default:return!1}}function c(){switch(r.symbol){case"last":return r.nextSymbol(),-1;case"first":return r.nextSymbol(),1;case"second":return r.nextSymbol(),r.accept("last")?-2:2;case"third":return r.nextSymbol(),r.accept("last")?-3:3;case"nth":var h=parseInt(r.value[1],10);if(h<-366||h>366)throw new Error("Nth out of range: "+h);return r.nextSymbol(),r.accept("last")?-h:h;default:return!1}}function d(){r.accept("on"),r.accept("the");var h=c();if(!!h)for(n.bymonthday=[h],r.nextSymbol();r.accept("comma");){if(h=c(),!h)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");n.bymonthday.push(h),r.nextSymbol()}}function m(){if(r.symbol==="until"){var h=Date.parse(r.text);if(!h)throw new Error("Cannot parse until date:"+r.text);n.until=new Date(h)}else r.accept("for")&&(n.count=parseInt(r.value[0],10),r.expect("number"))}}var ht;(function(t){t[t.YEARLY=0]="YEARLY",t[t.MONTHLY=1]="MONTHLY",t[t.WEEKLY=2]="WEEKLY",t[t.DAILY=3]="DAILY",t[t.HOURLY=4]="HOURLY",t[t.MINUTELY=5]="MINUTELY",t[t.SECONDLY=6]="SECONDLY"})(ht||(ht={}));function Rl(t){return t<ht.HOURLY}var T0=function(t,e){return e===void 0&&(e=cs),new Ae(Nl(t,e)||void 0)},ca=["count","until","interval","byweekday","bymonthday","bymonth"];vi.IMPLEMENTED=[];vi.IMPLEMENTED[ht.HOURLY]=ca;vi.IMPLEMENTED[ht.MINUTELY]=ca;vi.IMPLEMENTED[ht.DAILY]=["byhour"].concat(ca);vi.IMPLEMENTED[ht.WEEKLY]=ca;vi.IMPLEMENTED[ht.MONTHLY]=ca;vi.IMPLEMENTED[ht.YEARLY]=["byweekno","byyearday"].concat(ca);var C0=function(t,e,n,r){return new vi(t,e,n,r).toString()},S0=vi.isFullyConvertible;var da=function(){function t(e,n,r,i){this.hour=e,this.minute=n,this.second=r,this.millisecond=i||0}return t.prototype.getHours=function(){return this.hour},t.prototype.getMinutes=function(){return this.minute},t.prototype.getSeconds=function(){return this.second},t.prototype.getMilliseconds=function(){return this.millisecond},t.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},t}();var D0=function(t){fa(e,t);function e(n,r,i,o,a,u,f){var c=t.call(this,o,a,u,f)||this;return c.year=n,c.month=r,c.day=i,c}return e.fromDate=function(n){return new this(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.valueOf()%1e3)},e.prototype.getWeekday=function(){return yo.getWeekday(new Date(this.getTime()))},e.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},e.prototype.getDay=function(){return this.day},e.prototype.getMonth=function(){return this.month},e.prototype.getYear=function(){return this.year},e.prototype.addYears=function(n){this.year+=n},e.prototype.addMonths=function(n){if(this.month+=n,this.month>12){var r=Math.floor(this.month/12),i=Wn(this.month,12);this.month=i,this.year+=r,this.month===0&&(this.month=12,--this.year)}},e.prototype.addWeekly=function(n,r){r>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-r))+n*7:this.day+=-(this.getWeekday()-r)+n*7,this.fixDay()},e.prototype.addDaily=function(n){this.day+=n,this.fixDay()},e.prototype.addHours=function(n,r,i){for(r&&(this.hour+=Math.floor((23-this.hour)/n)*n);;){this.hour+=n;var o=If(this.hour,24),a=o.div,u=o.mod;if(a&&(this.hour=u,this.addDaily(a)),_r(i)||Et(i,this.hour))break}},e.prototype.addMinutes=function(n,r,i,o){for(r&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/n)*n);;){this.minute+=n;var a=If(this.minute,60),u=a.div,f=a.mod;if(u&&(this.minute=f,this.addHours(u,!1,i)),(_r(i)||Et(i,this.hour))&&(_r(o)||Et(o,this.minute)))break}},e.prototype.addSeconds=function(n,r,i,o,a){for(r&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/n)*n);;){this.second+=n;var u=If(this.second,60),f=u.div,c=u.mod;if(f&&(this.second=c,this.addMinutes(f,!1,i,o)),(_r(i)||Et(i,this.hour))&&(_r(o)||Et(o,this.minute))&&(_r(a)||Et(a,this.second)))break}},e.prototype.fixDay=function(){if(!(this.day<=28)){var n=yo.monthRange(this.year,this.month-1)[1];if(!(this.day<=n))for(;this.day>n;){if(this.day-=n,++this.month,this.month===13&&(this.month=1,++this.year,this.year>yo.MAXYEAR))return;n=yo.monthRange(this.year,this.month-1)[1]}}},e.prototype.add=function(n,r){var i=n.freq,o=n.interval,a=n.wkst,u=n.byhour,f=n.byminute,c=n.bysecond;switch(i){case ht.YEARLY:return this.addYears(o);case ht.MONTHLY:return this.addMonths(o);case ht.WEEKLY:return this.addWeekly(o,a);case ht.DAILY:return this.addDaily(o);case ht.HOURLY:return this.addHours(o,r,u);case ht.MINUTELY:return this.addMinutes(o,r,u,f);case ht.SECONDLY:return this.addSeconds(o,r,u,f,c)}},e}(da);function Om(t){for(var e=[],n=Object.keys(t),r=0,i=n;r<i.length;r++){var o=i[r];Et(M0,o)||e.push(o),Ue.isDate(t[o])&&!Ue.isValidDate(t[o])&&e.push(o)}if(e.length)throw new Error("Invalid options: "+e.join(", "));return Jn({},t)}function O0(t){var e=Jn(Jn({},Il),Om(t));if(zt(e.byeaster)&&(e.freq=Ae.YEARLY),!(zt(e.freq)&&Ae.FREQUENCIES[e.freq]))throw new Error("Invalid frequency: "+e.freq+" "+t.freq);if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),zt(e.wkst)?vr(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=Ae.MO.weekday,zt(e.bysetpos)){vr(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(var n=0;n<e.bysetpos.length;n++){var r=e.bysetpos[n];if(r===0||!(r>=-366&&r<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(Boolean(e.byweekno)||ln(e.byweekno)||ln(e.byyearday)||Boolean(e.bymonthday)||ln(e.bymonthday)||zt(e.byweekday)||zt(e.byeaster)))switch(e.freq){case Ae.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case Ae.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case Ae.WEEKLY:e.byweekday=[Ue.getWeekday(e.dtstart)];break}if(zt(e.bymonth)&&!Nn(e.bymonth)&&(e.bymonth=[e.bymonth]),zt(e.byyearday)&&!Nn(e.byyearday)&&vr(e.byyearday)&&(e.byyearday=[e.byyearday]),!zt(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(Nn(e.bymonthday)){for(var i=[],o=[],n=0;n<e.bymonthday.length;n++){var r=e.bymonthday[n];r>0?i.push(r):r<0&&o.push(r)}e.bymonthday=i,e.bynmonthday=o}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(zt(e.byweekno)&&!Nn(e.byweekno)&&(e.byweekno=[e.byweekno]),!zt(e.byweekday))e.bynweekday=null;else if(vr(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(Cm(e.byweekday))e.byweekday=[cn.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof cn)!e.byweekday.n||e.freq>Ae.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{for(var a=[],u=[],n=0;n<e.byweekday.length;n++){var f=e.byweekday[n];if(vr(f)){a.push(f);continue}else if(Cm(f)){a.push(cn.fromStr(f).weekday);continue}!f.n||e.freq>Ae.MONTHLY?a.push(f.weekday):u.push([f.weekday,f.n])}e.byweekday=ln(a)?a:null,e.bynweekday=ln(u)?u:null}return zt(e.byhour)?vr(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<Ae.HOURLY?[e.dtstart.getUTCHours()]:null,zt(e.byminute)?vr(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<Ae.MINUTELY?[e.dtstart.getUTCMinutes()]:null,zt(e.bysecond)?vr(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<Ae.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function A0(t){var e=t.dtstart.getTime()%1e3;if(!Rl(t.freq))return[];var n=[];return t.byhour.forEach(function(r){t.byminute.forEach(function(i){t.bysecond.forEach(function(o){n.push(new da(r,i,o,e))})})}),n}function Ll(t){var e=t.split(`
`).map(f3).filter(function(n){return n!==null});return Jn(Jn({},e[0]),e[1])}function Fl(t){var e={},n=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(t);if(!n)return e;var r=n[0],i=n[1],o=n[2];return i&&(e.tzid=i),e.dtstart=Ue.untilStringToDate(o),e}function f3(t){if(t=t.replace(/^\s+|\s+$/,""),!t.length)return null;var e=/^([A-Z]+?)[:;]/.exec(t.toUpperCase());if(!e)return x0(t);var n=e[0],r=e[1];switch(r.toUpperCase()){case"RRULE":case"EXRULE":return x0(t);case"DTSTART":return Fl(t);default:throw new Error("Unsupported RFC prop "+r+" in "+t)}}function x0(t){var e=t.replace(/^RRULE:/i,""),n=Fl(e),r=t.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return r.forEach(function(i){var o=i.split("="),a=o[0],u=o[1];switch(a.toUpperCase()){case"FREQ":n.freq=ht[u.toUpperCase()];break;case"WKST":n.wkst=Wr[u.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var f=c3(u),c=a.toLowerCase();n[c]=f;break;case"BYWEEKDAY":case"BYDAY":n.byweekday=d3(u);break;case"DTSTART":case"TZID":var d=Fl(t);n.tzid=d.tzid,n.dtstart=d.dtstart;break;case"UNTIL":n.until=Ue.untilStringToDate(u);break;case"BYEASTER":n.byeaster=Number(u);break;default:throw new Error("Unknown RRULE property '"+a+"'")}}),n}function c3(t){if(t.indexOf(",")!==-1){var e=t.split(",");return e.map(P0)}return P0(t)}function P0(t){return/^[+-]?\d+$/.test(t)?Number(t):t}function d3(t){var e=t.split(",");return e.map(function(n){if(n.length===2)return Wr[n];var r=n.match(/^([+-]?\d{1,2})([A-Z]{2})$/),i=Number(r[1]),o=r[2],a=Wr[o].weekday;return new cn(a,i)})}var ds=function(){function t(e,n){this.date=e,this.tzid=n}return Object.defineProperty(t.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var e=Ue.timeToUntilString(this.date.getTime(),this.isUTC);return this.isUTC?":"+e:";TZID="+this.tzid+":"+e},t.prototype.getTime=function(){return this.date.getTime()},t.prototype.rezonedDate=function(){var e;if(this.isUTC)return this.date;var n=Intl.DateTimeFormat().resolvedOptions().timeZone,r=new Date(this.date.toLocaleString(void 0,{timeZone:n})),i=new Date(this.date.toLocaleString(void 0,{timeZone:(e=this.tzid,e!=null?e:"UTC")})),o=i.getTime()-r.getTime();return new Date(this.date.getTime()-o)},t}();function Wl(t){for(var e=[],n="",r=Object.keys(t),i=Object.keys(Il),o=0;o<r.length;o++)if(r[o]!=="tzid"&&!!Et(i,r[o])){var a=r[o].toUpperCase(),u=t[r[o]],f="";if(!(!zt(u)||Nn(u)&&!u.length)){switch(a){case"FREQ":f=Ae.FREQUENCIES[t.freq];break;case"WKST":vr(u)?f=new cn(u).toString():f=u.toString();break;case"BYWEEKDAY":a="BYDAY",f=$1(u).map(function(v){return v instanceof cn?v:Nn(v)?new cn(v[0],v[1]):new cn(v)}).toString();break;case"DTSTART":n=p3(u,t.tzid);break;case"UNTIL":f=Ue.timeToUntilString(u,!t.tzid);break;default:if(Nn(u)){for(var c=[],d=0;d<u.length;d++)c[d]=String(u[d]);f=c.toString()}else f=String(u)}f&&e.push([a,f])}}var m=e.map(function(v){var _=v[0],b=v[1];return _+"="+b.toString()}).join(";"),h="";return m!==""&&(h="RRULE:"+m),[n,h].filter(function(v){return!!v}).join(`
`)}function p3(t,e){return t?"DTSTART"+new ds(new Date(t),e).toString():""}function m3(t,e){return Array.isArray(t)?!Array.isArray(e)||t.length!==e.length?!1:t.every(function(n,r){return n.getTime()===e[r].getTime()}):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():t===e}var N0=function(){function t(){this.all=!1,this.before=[],this.after=[],this.between=[]}return t.prototype._cacheAdd=function(e,n,r){n&&(n=n instanceof Date?Ue.clone(n):Ue.cloneDates(n)),e==="all"?this.all=n:(r._value=n,this[e].push(r))},t.prototype._cacheGet=function(e,n){var r=!1,i=n?Object.keys(n):[],o=function(d){for(var m=0;m<i.length;m++){var h=i[m];if(!m3(n[h],d[h]))return!0}return!1},a=this[e];if(e==="all")r=this.all;else if(Nn(a))for(var u=0;u<a.length;u++){var f=a[u];if(!(i.length&&o(f))){r=f._value;break}}if(!r&&this.all){for(var c=new Vi(e,n),u=0;u<this.all.length&&c.accept(this.all[u]);u++);r=c.getValue(),this._cacheAdd(e,r,n)}return Nn(r)?Ue.cloneDates(r):r instanceof Date?Ue.clone(r):r},t}();var R0=fs(wt(1,31),wt(2,28),wt(3,31),wt(4,30),wt(5,31),wt(6,30),wt(7,31),wt(8,31),wt(9,30),wt(10,31),wt(11,30),wt(12,31),wt(1,7)),I0=fs(wt(1,31),wt(2,29),wt(3,31),wt(4,30),wt(5,31),wt(6,30),wt(7,31),wt(8,31),wt(9,30),wt(10,31),wt(11,30),wt(12,31),wt(1,7)),h3=Fr(1,29),g3=Fr(1,30),wo=Fr(1,31),Yn=Fr(1,32),L0=fs(Yn,g3,Yn,wo,Yn,wo,Yn,Yn,wo,Yn,wo,Yn,Yn.slice(0,7)),F0=fs(Yn,h3,Yn,wo,Yn,wo,Yn,Yn,wo,Yn,wo,Yn,Yn.slice(0,7)),v3=Fr(-28,0),_3=Fr(-29,0),bo=Fr(-30,0),Bn=Fr(-31,0),W0=fs(Bn,_3,Bn,bo,Bn,bo,Bn,Bn,bo,Bn,bo,Bn,Bn.slice(0,7)),Y0=fs(Bn,v3,Bn,bo,Bn,bo,Bn,Bn,bo,Bn,bo,Bn,Bn.slice(0,7)),B0=[0,31,60,91,121,152,182,213,244,274,305,335,366],G0=[0,31,59,90,120,151,181,212,243,273,304,334,365],Am=function(){for(var t=[],e=0;e<55;e++)t=t.concat(Fr(7));return t}();function j0(t,e){var n=new Date(Date.UTC(t,0,1)),r=Ue.isLeapYear(t)?366:365,i=Ue.isLeapYear(t+1)?366:365,o=Ue.toOrdinal(n),a=Ue.getWeekday(n),u=Jn(Jn({yearlen:r,nextyearlen:i,yearordinal:o,yearweekday:a},y3(t)),{wnomask:null});if(_r(e.byweekno))return u;u.wnomask=wt(0,r+7);var f,c,d=f=Wn(7-a+e.wkst,7);d>=4?(d=0,c=u.yearlen+Wn(a-e.wkst,7)):c=r-d;for(var m=Math.floor(c/7),h=Wn(c,7),v=Math.floor(m+h/4),_=0;_<e.byweekno.length;_++){var b=e.byweekno[_];if(b<0&&(b+=v+1),b>0&&b<=v){var E=void 0;b>1?(E=d+(b-1)*7,d!==f&&(E-=7-f)):E=d;for(var w=0;w<7&&(u.wnomask[E]=1,E++,u.wdaymask[E]!==e.wkst);w++);}}if(Et(e.byweekno,1)){var E=d+v*7;if(d!==f&&(E-=7-f),E<r)for(var _=0;_<7&&(u.wnomask[E]=1,E+=1,u.wdaymask[E]!==e.wkst);_++);}if(d){var C=void 0;if(Et(e.byweekno,-1))C=-1;else{var A=Ue.getWeekday(new Date(Date.UTC(t-1,0,1))),Y=Wn(7-A.valueOf()+e.wkst,7),M=Ue.isLeapYear(t-1)?366:365,P=void 0;Y>=4?(Y=0,P=M+Wn(A-e.wkst,7)):P=r-d,C=Math.floor(52+Wn(P,7)/4)}if(Et(e.byweekno,C))for(var E=0;E<d;E++)u.wnomask[E]=1}return u}function y3(t){var e=Ue.isLeapYear(t)?366:365,n=new Date(Date.UTC(t,0,1)),r=Ue.getWeekday(n);return e===365?{mmask:R0,mdaymask:F0,nmdaymask:Y0,wdaymask:Am.slice(r),mrange:G0}:{mmask:I0,mdaymask:L0,nmdaymask:W0,wdaymask:Am.slice(r),mrange:B0}}function U0(t,e,n,r,i,o){var a={lastyear:t,lastmonth:e,nwdaymask:[]},u=[];if(o.freq===Ae.YEARLY)if(_r(o.bymonth))u=[[0,n]];else for(var f=0;f<o.bymonth.length;f++)e=o.bymonth[f],u.push(r.slice(e-1,e+1));else o.freq===Ae.MONTHLY&&(u=[r.slice(e-1,e+1)]);if(_r(u))return a;a.nwdaymask=wt(0,n);for(var f=0;f<u.length;f++)for(var c=u[f],d=c[0],m=c[1]-1,h=0;h<o.bynweekday.length;h++){var v=void 0,_=o.bynweekday[h],b=_[0],E=_[1];E<0?(v=m+(E+1)*7,v-=Wn(i[v]-b,7)):(v=d+(E-1)*7,v+=Wn(7-i[v]+b,7)),d<=v&&v<=m&&(a.nwdaymask[v]=1)}return a}function z0(t,e){e===void 0&&(e=0);var n=t%19,r=Math.floor(t/100),i=t%100,o=Math.floor(r/4),a=r%4,u=Math.floor((r+8)/25),f=Math.floor((r-u+1)/3),c=Math.floor(19*n+r-o-f+15)%30,d=Math.floor(i/4),m=i%4,h=Math.floor(32+2*a+2*d-c-m)%7,v=Math.floor((n+11*c+22*h)/451),_=Math.floor((c+h-7*v+114)/31),b=(c+h-7*v+114)%31+1,E=Date.UTC(t,_-1,b+e),w=Date.UTC(t,0,1);return[Math.ceil((E-w)/(1e3*60*60*24))]}var w3=function(){function t(e){this.options=e}return t.prototype.rebuild=function(e,n){var r=this.options;if(e!==this.lastyear&&(this.yearinfo=j0(e,r)),ln(r.bynweekday)&&(n!==this.lastmonth||e!==this.lastyear)){var i=this.yearinfo,o=i.yearlen,a=i.mrange,u=i.wdaymask;this.monthinfo=U0(e,n,o,a,u,r)}zt(r.byeaster)&&(this.eastermask=z0(e,r.byeaster))},Object.defineProperty(t.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!0,configurable:!0}),t.prototype.ydayset=function(){return[Fr(this.yearlen),0,this.yearlen]},t.prototype.mdayset=function(e,n,r){for(var i=this.mrange[n-1],o=this.mrange[n],a=wt(null,this.yearlen),u=i;u<o;u++)a[u]=u;return[a,i,o]},t.prototype.wdayset=function(e,n,r){for(var i=wt(null,this.yearlen+7),o=Ue.toOrdinal(new Date(Date.UTC(e,n-1,r)))-this.yearordinal,a=o,u=0;u<7&&(i[o]=o,++o,this.wdaymask[o]!==this.options.wkst);u++);return[i,a,o]},t.prototype.ddayset=function(e,n,r){var i=wt(null,this.yearlen),o=Ue.toOrdinal(new Date(Date.UTC(e,n-1,r)))-this.yearordinal;return i[o]=o,[i,o,o+1]},t.prototype.htimeset=function(e,n,r,i){var o=this,a=[];return this.options.byminute.forEach(function(u){a=a.concat(o.mtimeset(e,u,r,i))}),Ue.sort(a),a},t.prototype.mtimeset=function(e,n,r,i){var o=this.options.bysecond.map(function(a){return new da(e,n,a,i)});return Ue.sort(o),o},t.prototype.stimeset=function(e,n,r,i){return[new da(e,n,r,i)]},t.prototype.getdayset=function(e){switch(e){case ht.YEARLY:return this.ydayset.bind(this);case ht.MONTHLY:return this.mdayset.bind(this);case ht.WEEKLY:return this.wdayset.bind(this);case ht.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},t.prototype.gettimeset=function(e){switch(e){case ht.HOURLY:return this.htimeset.bind(this);case ht.MINUTELY:return this.mtimeset.bind(this);case ht.SECONDLY:return this.stimeset.bind(this)}},t}(),H0=w3;function V0(t,e,n,r,i,o){for(var a=[],u=0;u<t.length;u++){var f=void 0,c=void 0,d=t[u];d<0?(f=Math.floor(d/e.length),c=Wn(d,e.length)):(f=Math.floor((d-1)/e.length),c=Wn(d-1,e.length));for(var m=[],h=n;h<r;h++){var v=o[h];!zt(v)||m.push(v)}var _=void 0;f<0?_=m.slice(f)[0]:_=m[f];var b=e[c],E=Ue.fromOrdinal(i.yearordinal+_),w=Ue.combine(E,b);Et(a,w)||a.push(w)}return Ue.sort(a),a}function Wf(t,e){var n=e.dtstart,r=e.freq,i=e.interval,o=e.until,a=e.bysetpos,u=e.count;if(u===0||i===0)return qi(t);var f=D0.fromDate(n),c=new H0(e);c.rebuild(f.year,f.month);for(var d=E3(c,f,e);;){var m=c.getdayset(r)(f.year,f.month,f.day),h=m[0],v=m[1],_=m[2],b=k3(h,v,_,c,e);if(ln(a))for(var E=V0(a,d,v,_,c,h),w=0;w<E.length;w++){var C=E[w];if(o&&C>o)return qi(t);if(C>=n){var A=q0(C,e);if(!t.accept(A)||u&&(--u,!u))return qi(t)}}else for(var w=v;w<_;w++){var Y=h[w];if(!!zt(Y))for(var M=Ue.fromOrdinal(c.yearordinal+Y),P=0;P<d.length;P++){var L=d[P],C=Ue.combine(M,L);if(o&&C>o)return qi(t);if(C>=n){var A=q0(C,e);if(!t.accept(A)||u&&(--u,!u))return qi(t)}}}if(e.interval===0||(f.add(e,b),f.year>Ue.MAXYEAR))return qi(t);Rl(r)||(d=c.gettimeset(r)(f.hour,f.minute,f.second,0)),c.rebuild(f.year,f.month)}}function b3(t,e,n){var r=n.bymonth,i=n.byweekno,o=n.byweekday,a=n.byeaster,u=n.bymonthday,f=n.bynmonthday,c=n.byyearday;return ln(r)&&!Et(r,t.mmask[e])||ln(i)&&!t.wnomask[e]||ln(o)&&!Et(o,t.wdaymask[e])||ln(t.nwdaymask)&&!t.nwdaymask[e]||a!==null&&!Et(t.eastermask,e)||(ln(u)||ln(f))&&!Et(u,t.mdaymask[e])&&!Et(f,t.nmdaymask[e])||ln(c)&&(e<t.yearlen&&!Et(c,e+1)&&!Et(c,-t.yearlen+e)||e>=t.yearlen&&!Et(c,e+1-t.yearlen)&&!Et(c,-t.nextyearlen+e-t.yearlen))}function q0(t,e){return new ds(t,e.tzid).rezonedDate()}function qi(t){return t.getValue()}function k3(t,e,n,r,i){for(var o=!1,a=e;a<n;a++){var u=t[a];o=b3(r,u,i),o&&(t[u]=null)}return o}function E3(t,e,n){var r=n.freq,i=n.byhour,o=n.byminute,a=n.bysecond;return Rl(r)?A0(n):r>=Ae.HOURLY&&ln(i)&&!Et(i,e.hour)||r>=Ae.MINUTELY&&ln(o)&&!Et(o,e.minute)||r>=Ae.SECONDLY&&ln(a)&&!Et(a,e.second)?[]:t.gettimeset(r)(e.hour,e.minute,e.second,e.millisecond)}var Wr={MO:new cn(0),TU:new cn(1),WE:new cn(2),TH:new cn(3),FR:new cn(4),SA:new cn(5),SU:new cn(6)},Il={freq:ht.YEARLY,dtstart:null,interval:1,wkst:Wr.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},M0=Object.keys(Il),Ae=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=!1),this._cache=n?null:new N0,this.origOptions=Om(e);var r=O0(e).parsedOptions;this.options=r}return t.parseText=function(e,n){return Nl(e,n)},t.fromText=function(e,n){return T0(e,n)},t.fromString=function(e){return new t(t.parseString(e)||void 0)},t.prototype._iter=function(e){return Wf(e,this.options)},t.prototype._cacheGet=function(e,n){return this._cache?this._cache._cacheGet(e,n):!1},t.prototype._cacheAdd=function(e,n,r){if(!!this._cache)return this._cache._cacheAdd(e,n,r)},t.prototype.all=function(e){if(e)return this._iter(new Dm("all",{},e));var n=this._cacheGet("all");return n===!1&&(n=this._iter(new Vi("all",{})),this._cacheAdd("all",n)),n},t.prototype.between=function(e,n,r,i){if(r===void 0&&(r=!1),!Ue.isValidDate(e)||!Ue.isValidDate(n))throw new Error("Invalid date passed in to RRule.between");var o={before:n,after:e,inc:r};if(i)return this._iter(new Dm("between",o,i));var a=this._cacheGet("between",o);return a===!1&&(a=this._iter(new Vi("between",o)),this._cacheAdd("between",a,o)),a},t.prototype.before=function(e,n){if(n===void 0&&(n=!1),!Ue.isValidDate(e))throw new Error("Invalid date passed in to RRule.before");var r={dt:e,inc:n},i=this._cacheGet("before",r);return i===!1&&(i=this._iter(new Vi("before",r)),this._cacheAdd("before",i,r)),i},t.prototype.after=function(e,n){if(n===void 0&&(n=!1),!Ue.isValidDate(e))throw new Error("Invalid date passed in to RRule.after");var r={dt:e,inc:n},i=this._cacheGet("after",r);return i===!1&&(i=this._iter(new Vi("after",r)),this._cacheAdd("after",i,r)),i},t.prototype.count=function(){return this.all().length},t.prototype.toString=function(){return Wl(this.origOptions)},t.prototype.toText=function(e,n,r){return C0(this,e,n,r)},t.prototype.isFullyConvertibleToText=function(){return S0(this)},t.prototype.clone=function(){return new t(this.origOptions)},t.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],t.YEARLY=ht.YEARLY,t.MONTHLY=ht.MONTHLY,t.WEEKLY=ht.WEEKLY,t.DAILY=ht.DAILY,t.HOURLY=ht.HOURLY,t.MINUTELY=ht.MINUTELY,t.SECONDLY=ht.SECONDLY,t.MO=Wr.MO,t.TU=Wr.TU,t.WE=Wr.WE,t.TH=Wr.TH,t.FR=Wr.FR,t.SA=Wr.SA,t.SU=Wr.SU,t.parseString=Ll,t.optionsToString=Wl,t}();function K0(t,e,n,r,i,o){var a={},u=t.accept;function f(h,v){n.forEach(function(_){_.between(h,v,!0).forEach(function(b){a[Number(b)]=!0})})}i.forEach(function(h){var v=new ds(h,o).rezonedDate();a[Number(v)]=!0}),t.accept=function(h){var v=Number(h);return isNaN(v)?u.call(this,h):!a[v]&&(f(new Date(v-1),new Date(v+1)),!a[v])?(a[v]=!0,u.call(this,h)):!0},t.method==="between"&&(f(t.args.after,t.args.before),t.accept=function(h){var v=Number(h);return a[v]?!0:(a[v]=!0,u.call(this,h))});for(var c=0;c<r.length;c++){var d=new ds(r[c],o).rezonedDate();if(!t.accept(new Date(d.getTime())))break}e.forEach(function(h){Wf(t,h.options)});var m=t._result;switch(Ue.sort(m),t.method){case"all":case"between":return m;case"before":return m.length&&m[m.length-1]||null;case"after":default:return m.length&&m[0]||null}}var Z0={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function T3(t,e){var n=[],r=[],i=[],o=[],a=Fl(t),u=a.dtstart,f=a.tzid,c=A3(t,e.unfold);return c.forEach(function(d){if(!!d){var m=O3(d),h=m.name,v=m.parms,_=m.value;switch(h.toUpperCase()){case"RRULE":if(v.length)throw new Error("unsupported RRULE parm: "+v.join(","));n.push(Ll(d));break;case"RDATE":var b=/RDATE(?:;TZID=([^:=]+))?/i.exec(d),E=b[0],w=b[1];w&&!f&&(f=w),r=r.concat(X0(_,v));break;case"EXRULE":if(v.length)throw new Error("unsupported EXRULE parm: "+v.join(","));i.push(Ll(_));break;case"EXDATE":o=o.concat(X0(_,v));break;case"DTSTART":break;default:throw new Error("unsupported property: "+h)}}}),{dtstart:u,tzid:f,rrulevals:n,rdatevals:r,exrulevals:i,exdatevals:o}}function C3(t,e){var n=T3(t,e),r=n.rrulevals,i=n.rdatevals,o=n.exrulevals,a=n.exdatevals,u=n.dtstart,f=n.tzid,c=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||r.length>1||i.length||o.length||a.length){var d=new ps(c);return d.dtstart(u),d.tzid(f||void 0),r.forEach(function(h){d.rrule(new Ae(Mm(h,u,f),c))}),i.forEach(function(h){d.rdate(h)}),o.forEach(function(h){d.exrule(new Ae(Mm(h,u,f),c))}),a.forEach(function(h){d.exdate(h)}),e.compatible&&e.dtstart&&d.rdate(u),d}var m=r[0]||{};return new Ae(Mm(m,m.dtstart||e.dtstart||u,m.tzid||e.tzid||f),c)}function pa(t,e){return e===void 0&&(e={}),C3(t,S3(e))}function Mm(t,e,n){return Jn(Jn({},t),{dtstart:e,tzid:n})}function S3(t){var e=[],n=Object.keys(t),r=Object.keys(Z0);if(n.forEach(function(i){Et(r,i)||e.push(i)}),e.length)throw new Error("Invalid options: "+e.join(", "));return Jn(Jn({},Z0),t)}function D3(t){if(t.indexOf(":")===-1)return{name:"RRULE",value:t};var e=e0(t,":",1),n=e[0],r=e[1];return{name:n,value:r}}function O3(t){var e=D3(t),n=e.name,r=e.value,i=n.split(";");if(!i)throw new Error("empty property name");return{name:i[0].toUpperCase(),parms:i.slice(1),value:r}}function A3(t,e){if(e===void 0&&(e=!1),t=t&&t.trim(),!t)throw new Error("Invalid empty string");if(!e)return t.split(/\s/);for(var n=t.split(`
`),r=0;r<n.length;){var i=n[r]=n[r].replace(/\s+$/g,"");i?r>0&&i[0]===" "?(n[r-1]+=i.slice(1),n.splice(r,1)):r+=1:n.splice(r,1)}return n}function M3(t){t.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function X0(t,e){return M3(e),t.split(",").map(function(n){return Ue.untilStringToDate(n)})}function J0(t){var e=this;return function(n){if(n!==void 0&&(e["_"+t]=n),e["_"+t]!==void 0)return e["_"+t];for(var r=0;r<e._rrule.length;r++){var i=e._rrule[r].origOptions[t];if(i)return i}}}var ps=function(t){fa(e,t);function e(n){n===void 0&&(n=!1);var r=t.call(this,{},n)||this;return r.dtstart=J0.apply(r,["dtstart"]),r.tzid=J0.apply(r,["tzid"]),r._rrule=[],r._rdate=[],r._exrule=[],r._exdate=[],r}return e.prototype._iter=function(n){return K0(n,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},e.prototype.rrule=function(n){Q0(n,this._rrule)},e.prototype.exrule=function(n){Q0(n,this._exrule)},e.prototype.rdate=function(n){$0(n,this._rdate)},e.prototype.exdate=function(n){$0(n,this._exdate)},e.prototype.rrules=function(){return this._rrule.map(function(n){return pa(n.toString())})},e.prototype.exrules=function(){return this._exrule.map(function(n){return pa(n.toString())})},e.prototype.rdates=function(){return this._rdate.map(function(n){return new Date(n.getTime())})},e.prototype.exdates=function(){return this._exdate.map(function(n){return new Date(n.getTime())})},e.prototype.valueOf=function(){var n=[];return!this._rrule.length&&this._dtstart&&(n=n.concat(Wl({dtstart:this._dtstart}))),this._rrule.forEach(function(r){n=n.concat(r.toString().split(`
`))}),this._exrule.forEach(function(r){n=n.concat(r.toString().split(`
`).map(function(i){return i.replace(/^RRULE:/,"EXRULE:")}).filter(function(i){return!/^DTSTART/.test(i)}))}),this._rdate.length&&n.push(ey("RDATE",this._rdate,this.tzid())),this._exdate.length&&n.push(ey("EXDATE",this._exdate,this.tzid())),n},e.prototype.toString=function(){return this.valueOf().join(`
`)},e.prototype.clone=function(){var n=new e(!!this._cache);return this._rrule.forEach(function(r){return n.rrule(r.clone())}),this._exrule.forEach(function(r){return n.exrule(r.clone())}),this._rdate.forEach(function(r){return n.rdate(new Date(r.getTime()))}),this._exdate.forEach(function(r){return n.exdate(new Date(r.getTime()))}),n},e}(Ae);function Q0(t,e){if(!(t instanceof Ae))throw new TypeError(String(t)+" is not RRule instance");Et(e.map(String),String(t))||e.push(t)}function $0(t,e){if(!(t instanceof Date))throw new TypeError(String(t)+" is not Date instance");Et(e.map(Number),Number(t))||(e.push(t),Ue.sort(e))}function ey(t,e,n){var r=!n||n.toUpperCase()==="UTC",i=r?t+":":t+";TZID="+n+":",o=e.map(function(a){return Ue.timeToUntilString(a.valueOf(),r)}).join(",");return""+i+o}var ty=Ae;var Py=Me(di());var va=Me(require("obsidian"));var ms=Me(require("obsidian"));var Bf=Me(di());function Yl(t){return t.getHours()/24+t.getMinutes()/(60*24)}function ny(t,e){let n=t*24*60,r=Math.floor(n/60),i=Math.floor(n-r*60),o=new Date(e);return o.setHours(r),o.setMinutes(i),o}function ry(t,e){if(t.start.date)return 0;let n=Yl(new Date(t.start.dateTime));return e*n}function iy(t,e){if(t.start.date)return 25;let n=Yl(new Date(t.start.dateTime)),r=Yl(new Date(t.end.dateTime));return e*(r-n)}function Yf(t,e,n,r){return{start:ny(e/t,r),end:ny(n/t,r)}}function ma(t,e){return t/24*e}function ha(t,e){return t-t/24*e}var oy=()=>app.vault.config.theme?app.vault.config.theme=="obsidian"?"dark":"light":"dark";function Bl(t,e){let n=Math.round(e.clone().minute()/t)*t;return e.clone().minute(n).second(0)}var sy=t=>t?t.trim().replaceAll("<","lt").replaceAll(">","gt").replaceAll('"',"''").replaceAll("\\","-").replaceAll("/","-").replaceAll(":","-").replaceAll("|","-").replaceAll("*","").replaceAll("?",""):"",x3=t=>{var n;let e=app.vault.getFiles();for(let r=0;r<e.length;r++){let i=(n=app.metadataCache.getFileCache(e[r]))==null?void 0:n.frontmatter;if(!!i&&(i==null?void 0:i["event-id"])===t.id)return{event:t,file:e[r]}}return{event:t,file:null}},ko=(t,e)=>x3(t),ga=t=>{let n=we.getInstance().app.vault.getName(),r=/\[\[([^\|\]]*)\|?([^\]]*)\]\]/g,i,o=[];do i=r.exec(t),o.push(i);while(i);return o.forEach(a=>{a&&(a[2]?t=t.replace(a[0],`<a href='obsidian://open?vault=${n}&file=${a[1]}'>${a[2]}</a>`):t=t.replace(a[0],`<a href='obsidian://open?vault=${n}&file=${a[1]}'>${a[1]}</a>`))}),t};var xm=t=>$(void 0,null,function*(){var a,u,f,c;if(!t.settings.autoCreateEventNotes||!Ot())return;let e=Math.abs(t.settings.importStartOffset),n=Math.abs(t.settings.importEndOffset),r=window.moment().local().subtract(e,"day"),i=window.moment().local().add(n,"day"),o=yield Ut({startDate:r,endDate:i});o=o.filter(d=>d.eventType!=="multiDay");for(let d=0;d<o.length;d++)if(t.settings.autoCreateEventNotesMarker==="")yield yr(o[d],t.settings.defaultFolder,t.settings.defaultTemplate,!0);else{let m=new RegExp(`:([^:]*-)?${t.settings.autoCreateEventNotesMarker}-?([^:]*)?:`),h=(u=(a=o[d].description)==null?void 0:a.match(m))!=null?u:[];h.length==3&&(yield yr(o[d],(f=h[1])!=null?f:t.settings.defaultFolder,(c=h[2])!=null?c:t.settings.defaultTemplate,!0))}}),Pm=(t,e)=>{if(e.contains("event-id:"))return e;if(e.startsWith("---"))return e.replace("---",`---
event-id: ${t.id}`);e.contains("---");let n=/(<%[^%]*)---([^%]*%>)/,r=e.replace(n,`$1---$2
event-id: `+t.id);return r!==e?r:`---
event-id: ${t.id}
---
${e}`},P3=(t,e)=>{let n=/{{gEvent\.([^}>]*)}}/gm,r,i=[];do r=n.exec(e),i.push(r);while(r);return i.forEach(o=>{if(o){let a="";if(o[1]=="attendees"){let u=Bf.default.get(t,o[1],"");for(let f=0;f<u.length;f++)u[f].displayName?a+=`- [[@${u[f].displayName}]]
`:a+=`- [[@${u[f].email}]]
`}else if(o[1]=="attachments"){let u=Bf.default.get(t,o[1],"");for(let f=0;f<u.length;f++)u[f].title?a+=`- [${u[f].title}](${u[f].fileUrl})
`:a+=`- [${u[f].fileUrl}](${u[f].fileUrl})
`}else a=Bf.default.get(t,o[1],"");a===Object(a)&&(a=JSON.stringify(a)),e=e.replace(o[0],a!=null?a:"")}}),e};function Nm(t,e,n){var r,i,o,a,u;return n=n.replace("{{prefix}}",t.settings.optionalNotePrefix),n=n.replace("{{date}}",window.moment().format("YYYY-MM-DD")),n=n.replace("{{date-year}}",window.moment().format("YYYY")),n=n.replace("{{date-month}}",window.moment().format("MM")),n=n.replace("{{date-day}}",window.moment().format("DD")),n=n.replace("{date-hour}}",window.moment().format("hh")),n=n.replace("{date-hour24}}",window.moment().format("HH")),n=n.replace("{date-minute}}",window.moment().format("mm")),n=n.replace("{{event-date}}",window.moment((r=e.start.date)!=null?r:e.start.dateTime).format("YYYY-MM-DD")),n=n.replace("{{event-year}}",window.moment((i=e.start.date)!=null?i:e.start.dateTime).format("YYYY")),n=n.replace("{{event-month}}",window.moment((o=e.start.date)!=null?o:e.start.dateTime).format("MM")),n=n.replace("{{event-day}}",window.moment((a=e.start.date)!=null?a:e.start.dateTime).format("DD")),n=n.replace("{{event-title}}",(u=e.summary)!=null?u:"event-title"),n=n.replace("{{event-start-hour}}",e.start.dateTime?window.moment(e.start.dateTime).format("hh"):"00"),n=n.replace("{{event-start-hour24}}",e.start.dateTime?window.moment(e.start.dateTime).format("HH"):"00"),n=n.replace("{{event-start-minute}}",e.start.dateTime?window.moment(e.start.dateTime).format("mm"):"00"),n=n.replace("{{event-end-hour}}",e.end.dateTime?window.moment(e.end.dateTime).format("hh"):"00"),n=n.replace("{{event-end-hour24}}",e.end.dateTime?window.moment(e.end.dateTime).format("HH"):"00"),n=n.replace("{{event-end-minute}}",e.end.dateTime?window.moment(e.end.dateTime).format("mm"):"00"),n}function N3(t,e,n){return $(this,null,function*(){let{adapter:r}=app.vault;n?(n.endsWith("-")&&(n=n.slice(0,-1)),n="/"+n.split(/[/\\]/).join("/"),(yield r.exists(n))||(yield r.mkdir(n))):n=app.fileManager.getNewFileParent("").path;let i=Nm(t,e,t.settings.eventNoteNameFormat),o=Nm(t,e,sy(i));return(0,ms.normalizePath)(`${n}/${o}.md`)})}function R3(t,e){return $(this,null,function*(){let{vault:n}=app,{adapter:r}=n;if(!(yield r.exists(e)))return e;let o=e.split(".").slice(0,-1).join("."),{files:a}=yield r.list(t),u=a.filter(f=>f.startsWith(o)).reduce((f,c)=>{if(c=c.replace(o,""),c=c.replace(".md",""),c=c.replace(/[\(\)\s]+/g,""),c===""&&f===1)return 1;let d=parseInt(c);return d>f?d:f},1);return`${o} (${u+1}).md`})}var yr=(t,e,n,r=!1)=>$(void 0,null,function*(){let i=we.getInstance(),o=ko(t,i);if(o.file)return r||Pe(`EventNote ${t.summary} already exists.`),o.file;let{vault:a}=app,{adapter:u}=a;e&&(e=Nm(i,t,e));let f=yield N3(i,t,e);f=yield R3(e,f);let c;try{c=yield a.create(f,""),Pe(`EventNote ${t.summary} created.`)}catch(h){return null}if(!i.coreTemplatePlugin&&!i.templaterPlugin||!n){let h=Pm(t,"");yield u.write(f,h);let v=a.getAbstractFileByPath(f);return(i.settings.autoCreateEventKeepOpen||!r)&&(yield app.workspace.getLeaf(!0).openFile(v)),v}n.match(/.*\.md/)||(n=n+".md");let d=yield app.workspace.getLeaf(!0);yield d.setViewState({type:"MarkdownView"}),yield app.workspace.setActiveLeaf(d,!1,!0),yield d.openFile(c,{state:{mode:"source"},active:!0});try{if(i.templaterPlugin&&i.coreTemplatePlugin){if(!(yield m(!0))&&!(yield m(!1)))throw Pe("Template not compatible"),new Error("Template not compatible")}else if(i.templaterPlugin){if(!(yield m(!0)))throw Pe("Template not compatible"),new Error("Template not compatible")}else if(i.coreTemplatePlugin&&!(yield m(!1)))throw Pe("Template not compatible"),new Error("Template not compatible")}catch(h){let v=Pm(t,"");yield u.write(f,v)}return!i.settings.autoCreateEventKeepOpen&&r&&d.detach(),a.getAbstractFileByPath(f);function m(h){return $(this,null,function*(){let v=h?(0,ms.normalizePath)(i.templaterPlugin.settings.templates_folder):(0,ms.normalizePath)(i.coreTemplatePlugin.instance.options.folder),_;if((yield u.exists(n))?_=n:(_=`${v}/${n}`,v==="/"&&(_=n)),!(yield u.exists(_)))throw Pe(`Template: ${n} doesn't exit.`),new Error(`Template: ${n} doesn't exit.`);let b=a.getAbstractFileByPath(_);if(!(b instanceof ms.TFile))return!1;let E=yield a.cachedRead(b),w=P3(t,E);if(w=Pm(t,w),h&&w.contains("{{")&&w.contains("}}"))return!1;if(!h&&w.contains("<%")&&w.contains("%>"))return!1;let C=b.path+".tmp";yield u.write(C,w);let A=app.vault.getAbstractFileByPath(C);if(!(A instanceof ms.TFile))return!1;try{return h?yield i.templaterPlugin.templater.append_template_to_active_file(A):yield i.coreTemplatePlugin.instance.insertTemplate(A),u.remove(C),!0}catch(Y){return u.remove(C),!1}})}});var Eo=class extends va.Modal{constructor(e,n){super(window.app);this.template=null;this.folder=null;this.plugin=we.getInstance();this.event=e,this.onSubmit=n}onOpen(){let{contentEl:e}=this;e.createEl("h1",{text:"You can now select a template to use"}),new va.Setting(e).setName("Template").addSearch(n=>{new pl(n.inputEl,this.plugin),n.setPlaceholder("Template").setValue("").onChange(r=>this.template=r),n.containerEl.addClass("templater_search")}),new va.Setting(e).setName("Folder").addSearch(n=>{new ml(n.inputEl),n.setPlaceholder("Example: folder1/folder2").setValue(app.vault.config.newFileFolderPath).onChange(r=>this.folder=r),n.containerEl.addClass("templater_search")}),new va.Setting(e).setName("").addButton(n=>{n.setButtonText("Create Note"),n.onClick(()=>$(this,null,function*(){let r=yield yr(this.event,this.folder,this.template);this.onSubmit(r),this.close()}))})}onClose(){let{contentEl:e}=this;e.empty()}};function I3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}function Rm(t,e){return Array(e+1).join(t)}function L3(t){return t.replace(/^\n*/,"")}function F3(t){for(var e=t.length;e>0&&t[e-1]===`
`;)e--;return t.substring(0,e)}var W3=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function Im(t){return Lm(t,W3)}var ay=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function ly(t){return Lm(t,ay)}function Y3(t){return fy(t,ay)}var uy=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function B3(t){return Lm(t,uy)}function G3(t){return fy(t,uy)}function Lm(t,e){return e.indexOf(t.nodeName)>=0}function fy(t,e){return t.getElementsByTagName&&e.some(function(n){return t.getElementsByTagName(n).length})}var Gn={};Gn.paragraph={filter:"p",replacement:function(t){return`

`+t+`

`}};Gn.lineBreak={filter:"br",replacement:function(t,e,n){return n.br+`
`}};Gn.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(t,e,n){var r=Number(e.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var i=Rm(r===1?"=":"-",t.length);return`

`+t+`
`+i+`

`}else return`

`+Rm("#",r)+" "+t+`

`}};Gn.blockquote={filter:"blockquote",replacement:function(t){return t=t.replace(/^\n+|\n+$/g,""),t=t.replace(/^/gm,"> "),`

`+t+`

`}};Gn.list={filter:["ul","ol"],replacement:function(t,e){var n=e.parentNode;return n.nodeName==="LI"&&n.lastElementChild===e?`
`+t:`

`+t+`

`}};Gn.listItem={filter:"li",replacement:function(t,e,n){t=t.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",i=e.parentNode;if(i.nodeName==="OL"){var o=i.getAttribute("start"),a=Array.prototype.indexOf.call(i.children,e);r=(o?Number(o)+a:a+1)+".  "}return r+t+(e.nextSibling&&!/\n$/.test(t)?`
`:"")}};Gn.indentedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="indented"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){return`

    `+e.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};Gn.fencedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="fenced"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){for(var r=e.firstChild.getAttribute("class")||"",i=(r.match(/language-(\S+)/)||[null,""])[1],o=e.firstChild.textContent,a=n.fence.charAt(0),u=3,f=new RegExp("^"+a+"{3,}","gm"),c;c=f.exec(o);)c[0].length>=u&&(u=c[0].length+1);var d=Rm(a,u);return`

`+d+i+`
`+o.replace(/\n$/,"")+`
`+d+`

`}};Gn.horizontalRule={filter:"hr",replacement:function(t,e,n){return`

`+n.hr+`

`}};Gn.inlineLink={filter:function(t,e){return e.linkStyle==="inlined"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e){var n=e.getAttribute("href"),r=Gf(e.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+t+"]("+n+r+")"}};Gn.referenceLink={filter:function(t,e){return e.linkStyle==="referenced"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e,n){var r=e.getAttribute("href"),i=Gf(e.getAttribute("title"));i&&(i=' "'+i+'"');var o,a;switch(n.linkReferenceStyle){case"collapsed":o="["+t+"][]",a="["+t+"]: "+r+i;break;case"shortcut":o="["+t+"]",a="["+t+"]: "+r+i;break;default:var u=this.references.length+1;o="["+t+"]["+u+"]",a="["+u+"]: "+r+i}return this.references.push(a),o},references:[],append:function(t){var e="";return this.references.length&&(e=`

`+this.references.join(`
`)+`

`,this.references=[]),e}};Gn.emphasis={filter:["em","i"],replacement:function(t,e,n){return t.trim()?n.emDelimiter+t+n.emDelimiter:""}};Gn.strong={filter:["strong","b"],replacement:function(t,e,n){return t.trim()?n.strongDelimiter+t+n.strongDelimiter:""}};Gn.code={filter:function(t){var e=t.previousSibling||t.nextSibling,n=t.parentNode.nodeName==="PRE"&&!e;return t.nodeName==="CODE"&&!n},replacement:function(t){if(!t)return"";t=t.replace(/\r?\n|\r/g," ");for(var e=/^`|^ .*?[^ ].* $|`$/.test(t)?" ":"",n="`",r=t.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+e+t+e+n}};Gn.image={filter:"img",replacement:function(t,e){var n=Gf(e.getAttribute("alt")),r=e.getAttribute("src")||"",i=Gf(e.getAttribute("title")),o=i?' "'+i+'"':"";return r?"!["+n+"]("+r+o+")":""}};function Gf(t){return t?t.replace(/(\n+\s*)+/g,`
`):""}function cy(t){this.options=t,this._keep=[],this._remove=[],this.blankRule={replacement:t.blankReplacement},this.keepReplacement=t.keepReplacement,this.defaultRule={replacement:t.defaultReplacement},this.array=[];for(var e in t.rules)this.array.push(t.rules[e])}cy.prototype={add:function(t,e){this.array.unshift(e)},keep:function(t){this._keep.unshift({filter:t,replacement:this.keepReplacement})},remove:function(t){this._remove.unshift({filter:t,replacement:function(){return""}})},forNode:function(t){if(t.isBlank)return this.blankRule;var e;return(e=Fm(this.array,t,this.options))||(e=Fm(this._keep,t,this.options))||(e=Fm(this._remove,t,this.options))?e:this.defaultRule},forEach:function(t){for(var e=0;e<this.array.length;e++)t(this.array[e],e)}};function Fm(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if(j3(i,e,n))return i}}function j3(t,e,n){var r=t.filter;if(typeof r=="string"){if(r===e.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(e.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(t,e,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function U3(t){var e=t.element,n=t.isBlock,r=t.isVoid,i=t.isPre||function(m){return m.nodeName==="PRE"};if(!(!e.firstChild||i(e))){for(var o=null,a=!1,u=null,f=dy(u,e,i);f!==e;){if(f.nodeType===3||f.nodeType===4){var c=f.data.replace(/[ \r\n\t]+/g," ");if((!o||/ $/.test(o.data))&&!a&&c[0]===" "&&(c=c.substr(1)),!c){f=Wm(f);continue}f.data=c,o=f}else if(f.nodeType===1)n(f)||f.nodeName==="BR"?(o&&(o.data=o.data.replace(/ $/,"")),o=null,a=!1):r(f)||i(f)?(o=null,a=!0):o&&(a=!1);else{f=Wm(f);continue}var d=dy(u,f,i);u=f,f=d}o&&(o.data=o.data.replace(/ $/,""),o.data||Wm(o))}}function Wm(t){var e=t.nextSibling||t.parentNode;return t.parentNode.removeChild(t),e}function dy(t,e,n){return t&&t.parentNode===e||n(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}var py=typeof window!="undefined"?window:{};function z3(){var t=py.DOMParser,e=!1;try{new t().parseFromString("","text/html")&&(e=!0)}catch(n){}return e}function H3(){var t=function(){};return V3()?t.prototype.parseFromString=function(e){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(e),n.close(),n}:t.prototype.parseFromString=function(e){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(e),n.close(),n},t}function V3(){var t=!1;try{document.implementation.createHTMLDocument("").open()}catch(e){window.ActiveXObject&&(t=!0)}return t}var q3=z3()?py.DOMParser:H3();function K3(t,e){var n;if(typeof t=="string"){var r=Z3().parseFromString('<x-turndown id="turndown-root">'+t+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=t.cloneNode(!0);return U3({element:n,isBlock:Im,isVoid:ly,isPre:e.preformattedCode?X3:null}),n}var Ym;function Z3(){return Ym=Ym||new q3,Ym}function X3(t){return t.nodeName==="PRE"||t.nodeName==="CODE"}function J3(t,e){return t.isBlock=Im(t),t.isCode=t.nodeName==="CODE"||t.parentNode.isCode,t.isBlank=Q3(t),t.flankingWhitespace=$3(t,e),t}function Q3(t){return!ly(t)&&!B3(t)&&/^\s*$/i.test(t.textContent)&&!Y3(t)&&!G3(t)}function $3(t,e){if(t.isBlock||e.preformattedCode&&t.isCode)return{leading:"",trailing:""};var n=eP(t.textContent);return n.leadingAscii&&my("left",t,e)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&my("right",t,e)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function eP(t){var e=t.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:e[1],leadingAscii:e[2],leadingNonAscii:e[3],trailing:e[4],trailingNonAscii:e[5],trailingAscii:e[6]}}function my(t,e,n){var r,i,o;return t==="left"?(r=e.previousSibling,i=/ $/):(r=e.nextSibling,i=/^ /),r&&(r.nodeType===3?o=i.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?o=!1:r.nodeType===1&&!Im(r)&&(o=i.test(r.textContent))),o}var tP=Array.prototype.reduce,nP=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function jf(t){if(!(this instanceof jf))return new jf(t);var e={rules:Gn,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=I3({},e,t),this.rules=new cy(this.options)}jf.prototype={turndown:function(t){if(!oP(t))throw new TypeError(t+" is not a string, or an element/document/fragment node.");if(t==="")return"";var e=hy.call(this,new K3(t,this.options));return rP.call(this,e)},use:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.use(t[e]);else if(typeof t=="function")t(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(t,e){return this.rules.add(t,e),this},keep:function(t){return this.rules.keep(t),this},remove:function(t){return this.rules.remove(t),this},escape:function(t){return nP.reduce(function(e,n){return e.replace(n[0],n[1])},t)}};function hy(t){var e=this;return tP.call(t.childNodes,function(n,r){r=new J3(r,e.options);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:e.escape(r.nodeValue):r.nodeType===1&&(i=iP.call(e,r)),gy(n,i)},"")}function rP(t){var e=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(t=gy(t,n.append(e.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function iP(t){var e=this.rules.forNode(t),n=hy.call(this,t),r=t.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+e.replacement(n,t,this.options)+r.trailing}function gy(t,e){var n=F3(t),r=L3(e),i=Math.max(t.length-n.length,e.length-r.length),o=`

`.substring(0,i);return n+o+r}function oP(t){return t!=null&&(typeof t=="string"||t.nodeType&&(t.nodeType===1||t.nodeType===9||t.nodeType===11))}var vy=jf;function _y(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var _a=_y();function sP(t){_a=t}var yy=/[&<>"']/,aP=new RegExp(yy.source,"g"),wy=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,lP=new RegExp(wy.source,"g"),uP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},by=t=>uP[t];function Rn(t,e){if(e){if(yy.test(t))return t.replace(aP,by)}else if(wy.test(t))return t.replace(lP,by);return t}var fP=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ky(t){return t.replace(fP,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}var cP=/(^|[^\[])\^/g;function Gt(t,e){t=typeof t=="string"?t:t.source,e=e||"";let n={replace:(r,i)=>(i=i.source||i,i=i.replace(cP,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}var dP=/[^\w:]/g,pP=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ey(t,e,n){if(t){let r;try{r=decodeURIComponent(ky(n)).replace(dP,"").toLowerCase()}catch(i){return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!pP.test(n)&&(n=vP(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(r){return null}return n}var Uf={},mP=/^[^:]+:\/*[^/]*$/,hP=/^([^:]+:)[\s\S]*$/,gP=/^([^:]+:\/*[^/]*)[\s\S]*$/;function vP(t,e){Uf[" "+t]||(mP.test(t)?Uf[" "+t]=t+"/":Uf[" "+t]=Hf(t,"/",!0)),t=Uf[" "+t];let n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(hP,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(gP,"$1")+e:t+e}var zf={exec:function(){}};function ii(t){let e=1,n,r;for(;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}function Ty(t,e){let n=t.replace(/\|/g,(o,a,u)=>{let f=!1,c=a;for(;--c>=0&&u[c]==="\\";)f=!f;return f?"|":" |"}),r=n.split(/ \|/),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function Hf(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r;){let o=t.charAt(r-i-1);if(o===e&&!n)i++;else if(o!==e&&n)i++;else break}return t.slice(0,r-i)}function _P(t,e){if(t.indexOf(e[1])===-1)return-1;let n=t.length,r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}function Cy(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Sy(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function Dy(t,e,n,r){let i=e.href,o=e.title?Rn(e.title):null,a=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;let u={type:"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,u}return{type:"image",raw:n,href:i,title:o,text:Rn(a)}}function yP(t,e){let n=t.match(/^(\s+)(?:```)/);if(n===null)return e;let r=n[1];return e.split(`
`).map(i=>{let o=i.match(/^\s+/);if(o===null)return i;let[a]=o;return a.length>=r.length?i.slice(r.length):i}).join(`
`)}var Vf=class{constructor(e){this.options=e||_a}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Hf(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],i=yP(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:i}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){let i=Hf(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=n[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;let o=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:o,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,i,o,a,u,f,c,d,m,h,v,_,b=n[1].trim(),E=b.length>1,w={type:"list",raw:"",ordered:E,start:E?+b.slice(0,-1):"",loose:!1,items:[]};b=E?`\\d{1,9}\\${b.slice(-1)}`:`\\${b}`,this.options.pedantic&&(b=E?b:"[*+-]");let C=new RegExp(`^( {0,3}${b})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(_=!1,!(!(n=C.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),d=n[2].split(`
`,1)[0],m=e.split(`
`,1)[0],this.options.pedantic?(a=2,v=d.trimLeft()):(a=n[2].search(/[^ ]/),a=a>4?1:a,v=d.slice(a),a+=n[1].length),f=!1,!d&&/^ *$/.test(m)&&(r+=m+`
`,e=e.substring(m.length+1),_=!0),!_){let Y=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),M=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),P=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),L=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(h=e.split(`
`,1)[0],d=h,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(P.test(d)||L.test(d)||Y.test(d)||M.test(e)));){if(d.search(/[^ ]/)>=a||!d.trim())v+=`
`+d.slice(a);else if(!f)v+=`
`+d;else break;!f&&!d.trim()&&(f=!0),r+=h+`
`,e=e.substring(h.length+1)}}w.loose||(c?w.loose=!0:/\n *\n *$/.test(r)&&(c=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(v),i&&(o=i[0]!=="[ ] ",v=v.replace(/^\[[ xX]\] +/,""))),w.items.push({type:"list_item",raw:r,task:!!i,checked:o,loose:!1,text:v}),w.raw+=r}w.items[w.items.length-1].raw=r.trimRight(),w.items[w.items.length-1].text=v.trimRight(),w.raw=w.raw.trimRight();let A=w.items.length;for(u=0;u<A;u++)if(this.lexer.state.top=!1,w.items[u].tokens=this.lexer.blockTokens(w.items[u].text,[]),!w.loose){let Y=w.items[u].tokens.filter(P=>P.type==="space"),M=Y.length>0&&Y.some(P=>/\n.*\n/.test(P.raw));w.loose=M}if(w.loose)for(u=0;u<A;u++)w.items[u].loose=!0;return w}}html(e){let n=this.rules.block.html.exec(e);if(n){let r={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){let i=this.options.sanitizer?this.options.sanitizer(n[0]):Rn(n[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:o}}}table(e){let n=this.rules.block.table.exec(e);if(n){let r={type:"table",header:Ty(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let i=r.align.length,o,a,u,f;for(o=0;o<i;o++)/^ *-+: *$/.test(r.align[o])?r.align[o]="right":/^ *:-+: *$/.test(r.align[o])?r.align[o]="center":/^ *:-+ *$/.test(r.align[o])?r.align[o]="left":r.align[o]=null;for(i=r.rows.length,o=0;o<i;o++)r.rows[o]=Ty(r.rows[o],r.header.length).map(c=>({text:c}));for(i=r.header.length,a=0;a<i;a++)r.header[a].tokens=this.lexer.inline(r.header[a].text);for(i=r.rows.length,a=0;a<i;a++)for(f=r.rows[a],u=0;u<f.length;u++)f[u].tokens=this.lexer.inline(f[u].text);return r}}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Rn(n[1])}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Rn(n[0]):n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;let a=Hf(r.slice(0,-1),"\\");if((r.length-a.length)%2==0)return}else{let a=_P(n[2],"()");if(a>-1){let f=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,f).trim(),n[3]=""}}let i=n[2],o="";if(this.options.pedantic){let a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],o=a[3])}else o=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),Dy(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i){let o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return Dy(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;let o=i[1]||i[2]||"";if(!o||o&&(r===""||this.rules.inline.punctuation.exec(r))){let a=i[0].length-1,u,f,c=a,d=0,m=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(m.lastIndex=0,n=n.slice(-1*e.length+a);(i=m.exec(n))!=null;){if(u=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!u)continue;if(f=u.length,i[3]||i[4]){c+=f;continue}else if((i[5]||i[6])&&a%3&&!((a+f)%3)){d+=f;continue}if(c-=f,c>0)continue;f=Math.min(f,f+c+d);let h=e.slice(0,a+i.index+(i[0].length-u.length)+f);if(Math.min(a,f)%2){let _=h.slice(1,-1);return{type:"em",raw:h,text:_,tokens:this.lexer.inlineTokens(_)}}let v=h.slice(2,-2);return{type:"strong",raw:h,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," "),i=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return i&&o&&(r=r.substring(1,r.length-1)),r=Rn(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){let r=this.rules.inline.autolink.exec(e);if(r){let i,o;return r[2]==="@"?(i=Rn(this.options.mangle?n(r[1]):r[1]),o="mailto:"+i):(i=Rn(r[1]),o=i),{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let i,o;if(r[2]==="@")i=Rn(this.options.mangle?n(r[0]):r[0]),o="mailto:"+i;else{let a;do a=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(a!==r[0]);i=Rn(r[0]),r[1]==="www."?o="http://"+r[0]:o=r[0]}return{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){let r=this.rules.inline.text.exec(e);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Rn(r[0]):r[0]:i=Rn(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}},Ie={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:zf,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ie._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Ie._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Ie.def=Gt(Ie.def).replace("label",Ie._label).replace("title",Ie._title).getRegex();Ie.bullet=/(?:[*+-]|\d{1,9}[.)])/;Ie.listItemStart=Gt(/^( *)(bull) */).replace("bull",Ie.bullet).getRegex();Ie.list=Gt(Ie.list).replace(/bull/g,Ie.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ie.def.source+")").getRegex();Ie._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Ie._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Ie.html=Gt(Ie.html,"i").replace("comment",Ie._comment).replace("tag",Ie._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Ie.paragraph=Gt(Ie._paragraph).replace("hr",Ie.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ie._tag).getRegex();Ie.blockquote=Gt(Ie.blockquote).replace("paragraph",Ie.paragraph).getRegex();Ie.normal=ii({},Ie);Ie.gfm=ii({},Ie.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Ie.gfm.table=Gt(Ie.gfm.table).replace("hr",Ie.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ie._tag).getRegex();Ie.gfm.paragraph=Gt(Ie._paragraph).replace("hr",Ie.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ie.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ie._tag).getRegex();Ie.pedantic=ii({},Ie.normal,{html:Gt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ie._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:zf,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Gt(Ie.normal._paragraph).replace("hr",Ie.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ie.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Ce={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:zf,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:zf,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Ce._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Ce.punctuation=Gt(Ce.punctuation).replace(/punctuation/g,Ce._punctuation).getRegex();Ce.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Ce.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;Ce._comment=Gt(Ie._comment).replace("(?:-->|$)","-->").getRegex();Ce.emStrong.lDelim=Gt(Ce.emStrong.lDelim).replace(/punct/g,Ce._punctuation).getRegex();Ce.emStrong.rDelimAst=Gt(Ce.emStrong.rDelimAst,"g").replace(/punct/g,Ce._punctuation).getRegex();Ce.emStrong.rDelimUnd=Gt(Ce.emStrong.rDelimUnd,"g").replace(/punct/g,Ce._punctuation).getRegex();Ce._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Ce._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Ce._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Ce.autolink=Gt(Ce.autolink).replace("scheme",Ce._scheme).replace("email",Ce._email).getRegex();Ce._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Ce.tag=Gt(Ce.tag).replace("comment",Ce._comment).replace("attribute",Ce._attribute).getRegex();Ce._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Ce._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Ce._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Ce.link=Gt(Ce.link).replace("label",Ce._label).replace("href",Ce._href).replace("title",Ce._title).getRegex();Ce.reflink=Gt(Ce.reflink).replace("label",Ce._label).replace("ref",Ie._label).getRegex();Ce.nolink=Gt(Ce.nolink).replace("ref",Ie._label).getRegex();Ce.reflinkSearch=Gt(Ce.reflinkSearch,"g").replace("reflink",Ce.reflink).replace("nolink",Ce.nolink).getRegex();Ce.normal=ii({},Ce);Ce.pedantic=ii({},Ce.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Gt(/^!?\[(label)\]\((.*?)\)/).replace("label",Ce._label).getRegex(),reflink:Gt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ce._label).getRegex()});Ce.gfm=ii({},Ce.normal,{escape:Gt(Ce.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});Ce.gfm.url=Gt(Ce.gfm.url,"i").replace("email",Ce.gfm._extended_email).getRegex();Ce.breaks=ii({},Ce.gfm,{br:Gt(Ce.br).replace("{2,}","*").getRegex(),text:Gt(Ce.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function wP(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Oy(t){let e="",n,r,i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}var _i=class{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||_a,this.options.tokenizer=this.options.tokenizer||new Vf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={block:Ie.normal,inline:Ce.normal};this.options.pedantic?(n.block=Ie.pedantic,n.inline=Ce.pedantic):this.options.gfm&&(n.block=Ie.gfm,this.options.breaks?n.inline=Ce.breaks:n.inline=Ce.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ie,inline:Ce}}static lex(e,n){return new _i(n).lex(e)}static lexInline(e,n){return new _i(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(u,f,c)=>f+"    ".repeat(c.length));let r,i,o,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(r=u.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let u=1/0,f=e.slice(1),c;this.options.extensions.startBlock.forEach(function(d){c=d.call({lexer:this},f),typeof c=="number"&&c>=0&&(u=Math.min(u,c))}),u<1/0&&u>=0&&(o=e.substring(0,u+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){i=n[n.length-1],a&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),a=o.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){let u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,o,a=e,u,f,c;if(this.tokens.links){let d=Object.keys(this.tokens.links);if(d.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)d.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,u.index)+"["+Sy("a",u[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,u.index)+"["+Sy("a",u[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.escapedEmSt.exec(a))!=null;)a=a.slice(0,u.index+u[0].length-2)+"++"+a.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(f||(c=""),f=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(r=d.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,a,c)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,Oy)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,Oy))){e=e.substring(r.raw.length),n.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0,m=e.slice(1),h;this.options.extensions.startInline.forEach(function(v){h=v.call({lexer:this},m),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(o=e.substring(0,d+1))}if(r=this.tokenizer.inlineText(o,wP)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(c=r.raw.slice(-1)),f=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}},qf=class{constructor(e){this.options=e||_a}code(e,n,r){let i=(n||"").match(/\S*/)[0];if(this.options.highlight){let o=this.options.highlight(e,i);o!=null&&o!==e&&(r=!0,e=o)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+Rn(i)+'">'+(r?e:Rn(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Rn(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,n,r,i){if(this.options.headerIds){let o=this.options.headerPrefix+i.slug(r);return`<h${n} id="${o}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){let i=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+i+o+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){let r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(e=Ey(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){if(e=Ey(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}},Bm=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}},Gm=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do i++,r=e+"-"+i;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=i,this.seen[r]=0),r}slug(e,n={}){let r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}},oi=class{constructor(e){this.options=e||_a,this.options.renderer=this.options.renderer||new qf,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Bm,this.slugger=new Gm}static parse(e,n){return new oi(n).parse(e)}static parseInline(e,n){return new oi(n).parseInline(e)}parse(e,n=!0){let r="",i,o,a,u,f,c,d,m,h,v,_,b,E,w,C,A,Y,M,P,L=e.length;for(i=0;i<L;i++){if(v=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[v.type]&&(P=this.options.extensions.renderers[v.type].call({parser:this},v),P!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(v.type))){r+=P||"";continue}switch(v.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(v.tokens),v.depth,ky(this.parseInline(v.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(v.text,v.lang,v.escaped);continue}case"table":{for(m="",d="",u=v.header.length,o=0;o<u;o++)d+=this.renderer.tablecell(this.parseInline(v.header[o].tokens),{header:!0,align:v.align[o]});for(m+=this.renderer.tablerow(d),h="",u=v.rows.length,o=0;o<u;o++){for(c=v.rows[o],d="",f=c.length,a=0;a<f;a++)d+=this.renderer.tablecell(this.parseInline(c[a].tokens),{header:!1,align:v.align[a]});h+=this.renderer.tablerow(d)}r+=this.renderer.table(m,h);continue}case"blockquote":{h=this.parse(v.tokens),r+=this.renderer.blockquote(h);continue}case"list":{for(_=v.ordered,b=v.start,E=v.loose,u=v.items.length,h="",o=0;o<u;o++)C=v.items[o],A=C.checked,Y=C.task,w="",C.task&&(M=this.renderer.checkbox(A),E?C.tokens.length>0&&C.tokens[0].type==="paragraph"?(C.tokens[0].text=M+" "+C.tokens[0].text,C.tokens[0].tokens&&C.tokens[0].tokens.length>0&&C.tokens[0].tokens[0].type==="text"&&(C.tokens[0].tokens[0].text=M+" "+C.tokens[0].tokens[0].text)):C.tokens.unshift({type:"text",text:M}):w+=M),w+=this.parse(C.tokens,E),h+=this.renderer.listitem(w,Y,A);r+=this.renderer.list(h,_,b);continue}case"html":{r+=this.renderer.html(v.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(v.tokens));continue}case"text":{for(h=v.tokens?this.parseInline(v.tokens):v.text;i+1<L&&e[i+1].type==="text";)v=e[++i],h+=`
`+(v.tokens?this.parseInline(v.tokens):v.text);r+=n?this.renderer.paragraph(h):h;continue}default:{let S='Token with "'+v.type+'" type was not found.';if(this.options.silent){console.error(S);return}else throw new Error(S)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",i,o,a,u=e.length;for(i=0;i<u;i++){if(o=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(a=this.options.extensions.renderers[o.type].call({parser:this},o),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type))){r+=a||"";continue}switch(o.type){case"escape":{r+=n.text(o.text);break}case"html":{r+=n.html(o.text);break}case"link":{r+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break}case"image":{r+=n.image(o.href,o.title,o.text);break}case"strong":{r+=n.strong(this.parseInline(o.tokens,n));break}case"em":{r+=n.em(this.parseInline(o.tokens,n));break}case"codespan":{r+=n.codespan(o.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(o.tokens,n));break}case"text":{r+=n.text(o.text);break}default:{let f='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(f);return}else throw new Error(f)}}}return r}};function Ne(t,e,n){if(typeof t=="undefined"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(n=e,e=null),e=ii({},Ne.defaults,e||{}),Cy(e),n){let i=e.highlight,o;try{o=_i.lex(t,e)}catch(f){return n(f)}let a=function(f){let c;if(!f)try{e.walkTokens&&Ne.walkTokens(o,e.walkTokens),c=oi.parse(o,e)}catch(d){f=d}return e.highlight=i,f?n(f):n(null,c)};if(!i||i.length<3||(delete e.highlight,!o.length))return a();let u=0;Ne.walkTokens(o,function(f){f.type==="code"&&(u++,setTimeout(()=>{i(f.text,f.lang,function(c,d){if(c)return a(c);d!=null&&d!==f.text&&(f.text=d,f.escaped=!0),u--,u===0&&a()})},0))}),u===0&&a();return}function r(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Rn(i.message+"",!0)+"</pre>";throw i}try{let i=_i.lex(t,e);if(e.walkTokens){if(e.async)return Promise.all(Ne.walkTokens(i,e.walkTokens)).then(()=>oi.parse(i,e)).catch(r);Ne.walkTokens(i,e.walkTokens)}return oi.parse(i,e)}catch(i){r(i)}}Ne.options=Ne.setOptions=function(t){return ii(Ne.defaults,t),sP(Ne.defaults),Ne};Ne.getDefaults=_y;Ne.defaults=_a;Ne.use=function(...t){let e=Ne.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(n=>{let r=ii({},n);if(r.async=Ne.defaults.async||r.async,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){let o=e.renderers[i.name];o?e.renderers[i.name]=function(...a){let u=i.renderer.apply(this,a);return u===!1&&(u=o.apply(this,a)),u}:e.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),n.renderer){let i=Ne.defaults.renderer||new qf;for(let o in n.renderer){let a=i[o];i[o]=(...u)=>{let f=n.renderer[o].apply(i,u);return f===!1&&(f=a.apply(i,u)),f}}r.renderer=i}if(n.tokenizer){let i=Ne.defaults.tokenizer||new Vf;for(let o in n.tokenizer){let a=i[o];i[o]=(...u)=>{let f=n.tokenizer[o].apply(i,u);return f===!1&&(f=a.apply(i,u)),f}}r.tokenizer=i}if(n.walkTokens){let i=Ne.defaults.walkTokens;r.walkTokens=function(o){let a=[];return a.push(n.walkTokens.call(this,o)),i&&(a=a.concat(i.call(this,o))),a}}Ne.setOptions(r)})};Ne.walkTokens=function(t,e){let n=[];for(let r of t)switch(n=n.concat(e.call(Ne,r)),r.type){case"table":{for(let i of r.header)n=n.concat(Ne.walkTokens(i.tokens,e));for(let i of r.rows)for(let o of i)n=n.concat(Ne.walkTokens(o.tokens,e));break}case"list":{n=n.concat(Ne.walkTokens(r.items,e));break}default:Ne.defaults.extensions&&Ne.defaults.extensions.childTokens&&Ne.defaults.extensions.childTokens[r.type]?Ne.defaults.extensions.childTokens[r.type].forEach(function(i){n=n.concat(Ne.walkTokens(r[i],e))}):r.tokens&&(n=n.concat(Ne.walkTokens(r.tokens,e)))}return n};Ne.parseInline=function(t,e){if(typeof t=="undefined"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=ii({},Ne.defaults,e||{}),Cy(e);try{let n=_i.lexInline(t,e);return e.walkTokens&&Ne.walkTokens(n,e.walkTokens),oi.parseInline(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Rn(n.message+"",!0)+"</pre>";throw n}};Ne.Parser=oi;Ne.parser=oi.parse;Ne.Renderer=qf;Ne.TextRenderer=Bm;Ne.Lexer=_i;Ne.lexer=_i.lex;Ne.Tokenizer=Vf;Ne.Slugger=Gm;Ne.parse=Ne;var Sj=Ne.options,Dj=Ne.setOptions,Oj=Ne.use,Aj=Ne.walkTokens,Mj=Ne.parseInline;var xj=oi.parse,Pj=_i.lex;function bP(t){dt(t,"svelte-1oo9xzi",".gcal-description-label.svelte-1oo9xzi.svelte-1oo9xzi{display:flex;align-items:center;justify-content:space-between;margin:10px 0 }.gcal-description-texarea.svelte-1oo9xzi.svelte-1oo9xzi{width:100%;height:150px;background:transparent;border:none;resize:vertical;padding:0;margin:0}.gcal-description-texarea.svelte-1oo9xzi.svelte-1oo9xzi:focus{outline:none;box-shadow:none}.gcal-icon-button.svelte-1oo9xzi.svelte-1oo9xzi{display:flex;justify-content:center;align-items:center;border-radius:20%;background-color:var(--color-primary);color:var(--color-primary-text);cursor:pointer;width:30px;height:30px;padding:0}.gcal-icon-button.svelte-1oo9xzi svg.svelte-1oo9xzi{width:24px;height:24px}.gcal-description-container.svelte-1oo9xzi.svelte-1oo9xzi{width:100%;border-radius:10px;padding:10px;overflow:scroll;border:var(--input-border-width) solid var(--background-modifier-border)}.gcal-description-container.svelte-1oo9xzi.svelte-1oo9xzi:focus-within{box-shadow:0 0 0 2px var(--background-modifier-border-focus)}")}function kP(t){let e,n,r,i;return{c(){e=N("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pen-line svelte-1oo9xzi"><path d="M12 20h9"></path><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"></path></svg>',k(e,"class",n=""+(Ft("gcal-icon-button")+" svelte-1oo9xzi"))},m(o,a){B(o,e,a),r||(i=ne(e,"click",t[4]),r=!0)},p:ve,d(o){o&&W(e),r=!1,i()}}}function EP(t){let e,n,r,i;return{c(){e=N("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open svelte-1oo9xzi"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>',k(e,"class",n=""+(Ft("gcal-icon-button")+" svelte-1oo9xzi"))},m(o,a){B(o,e,a),r||(i=ne(e,"click",t[4]),r=!0)},p:ve,d(o){o&&W(e),r=!1,i()}}}function TP(t){let e,n,r,i,o;return{c(){e=N("div"),n=N("textarea"),k(n,"class","gcal-description-texarea svelte-1oo9xzi"),n.value=r=t[2](),k(e,"class","gcal-description-container svelte-1oo9xzi"),he(e,"padding","10px 0 0 10px")},m(a,u){B(a,e,u),x(e,n),i||(o=ne(n,"change",t[3]),i=!0)},p:ve,d(a){a&&W(e),i=!1,o()}}}function CP(t){var r;let e,n=ga((r=t[0].description)!=null?r:"")+"";return{c(){e=N("div"),k(e,"class","gcal-description-container svelte-1oo9xzi")},m(i,o){B(i,e,o),e.innerHTML=n},p(i,o){var a;o&1&&n!==(n=ga((a=i[0].description)!=null?a:"")+"")&&(e.innerHTML=n)},d(i){i&&W(e)}}}function SP(t){let e,n,r,i,o;function a(h,v){return h[1]?EP:kP}let u=a(t,-1),f=u(t);function c(h,v){return h[1]?CP:TP}let d=c(t,-1),m=d(t);return{c(){e=N("div"),n=N("label"),r=N("span"),r.textContent="Description",i=ee(),f.c(),o=ee(),m.c(),k(n,"for","description"),k(n,"class","gcal-description-label svelte-1oo9xzi")},m(h,v){B(h,e,v),x(e,n),x(n,r),x(n,i),f.m(n,null),x(e,o),m.m(e,null)},p(h,[v]){u===(u=a(h,v))&&f?f.p(h,v):(f.d(1),f=u(h),f&&(f.c(),f.m(n,null))),d===(d=c(h,v))&&m?m.p(h,v):(m.d(1),m=d(h),m&&(m.c(),m.m(e,null)))},i:ve,o:ve,d(h){h&&W(e),f.d(),m.d()}}}function DP(t,e,n){let{event:r}=e,i=r.id!==void 0,o=()=>{var f;return new vy().turndown((f=r.description)!==null&&f!==void 0?f:"").replace(/\\\[\\\[([^(\\\])]*)\\\]\\\]/g,"[[$1]]")},a=f=>{let c=f.target.value,d=Ne(c);n(0,r.description=d,r)},u=()=>{n(1,i=!i)};return t.$$set=f=>{"event"in f&&n(0,r=f.event)},[r,i,o,a,u]}var Ay=class extends We{constructor(e){super();je(this,e,DP,SP,Re,{event:0},bP)}},My=Ay;function OP(t,e){return $(this,null,function*(){var a,u;let n=structuredClone(t),r=we.getInstance();if(!Ot())throw new Dt("Not logged in",null,401,{error:"Not logged in"});let i="";if(((a=n==null?void 0:n.parent)==null?void 0:a.id)?i=n.parent.id:i=r.settings.defaultCalendar,i==="")throw new Dt("Could not switch Calendar for Event because no default calendar selected in Settings",null,999,{error:"No calendar set"});yield Zn(`https://www.googleapis.com/calendar/v3/calendars/${i}/events/${(u=n.recurringEventId)!=null?u:n.id}/move?destination=${e}`,"POST",n);let o=yield gr();return t.parent=o.find(f=>f.id===e),t})}function xy(t,e){return $(this,null,function*(){try{let n=yield OP(t,e);return Pe(`Google Event ${n.summary} switched calendar.`),n}catch(n){switch(n.status){case 401:break;case 999:Pe(n.message);break;default:Pe(`Google Event ${t.summary} could not switch calendar.`),sr(n);break}return null}})}function AP(t){dt(t,"svelte-14yltwl",`.buttonRow.svelte-14yltwl.svelte-14yltwl{display:flex;flex-direction:row;align-items:center;justify-content:space-around;padding:5px}.summaryInput.svelte-14yltwl.svelte-14yltwl{border:none;border-bottom:2px solid;border-radius:0px;height:40px;font-size:35px;text-align:center}input[type="text"].svelte-14yltwl.svelte-14yltwl,input[type="datetime-local"].svelte-14yltwl.svelte-14yltwl,input[type="date"].svelte-14yltwl.svelte-14yltwl{background:var(--background)}input[type='date'].svelte-14yltwl.svelte-14yltwl,input[type='datetime-local'].svelte-14yltwl.svelte-14yltwl{background:var(--background-modifier-form-field);border:1px solid var(--background-modifier-border);color:var(--text-normal);font-family:inherit;padding:5px 25px;font-size:16px;border-radius:4px;outline:none;height:30px}label.svelte-14yltwl.svelte-14yltwl{margin-top:5px}.googleFullDayContainer.svelte-14yltwl.svelte-14yltwl{margin-top:10px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.googleEventButtonContainer.svelte-14yltwl.svelte-14yltwl{margin-top:10px;display:flex;flex-direction:column;justify-content:space-around}.googleEventButtonContainer.svelte-14yltwl button.svelte-14yltwl{width:40%}`)}function Ny(t,e,n){let r=t.slice();return r[38]=e[n],r}function MP(t){let e,n,r,i,o,a=t[1],u=[];for(let f=0;f<a.length;f+=1)u[f]=Ry(Ny(t,a,f));return{c(){e=N("label"),e.textContent="Calendar",n=ee(),r=N("select");for(let f=0;f<u.length;f+=1)u[f].c();k(e,"for","calendar"),k(e,"class","svelte-14yltwl"),k(r,"name","calendar"),k(r,"class","dropdown")},m(f,c){B(f,e,c),B(f,n,c),B(f,r,c);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(r,null);i||(o=ne(r,"change",t[14]),i=!0)},p(f,c){if(c[0]&34){a=f[1];let d;for(d=0;d<a.length;d+=1){let m=Ny(f,a,d);u[d]?u[d].p(m,c):(u[d]=Ry(m),u[d].c(),u[d].m(r,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=a.length}},d(f){f&&W(e),f&&W(n),f&&W(r),Nt(u,f),i=!1,o()}}}function xP(t){let e;return{c(){e=N("span"),e.textContent="Loading"},m(n,r){B(n,e,r)},p:ve,d(n){n&&W(e)}}}function Ry(t){let e,n=t[38].summary+"",r,i,o,a;return{c(){e=N("option"),r=Fe(n),k(e,"id",i=t[38].id),e.__value=o=t[38].id,e.value=e.__value,e.selected=a=t[38].id===t[5]},m(u,f){B(u,e,f),x(e,r)},p(u,f){f[0]&2&&n!==(n=u[38].summary+"")&&Ve(r,n),f[0]&2&&i!==(i=u[38].id)&&k(e,"id",i),f[0]&2&&o!==(o=u[38].id)&&(e.__value=o,e.value=e.__value),f[0]&34&&a!==(a=u[38].id===u[5])&&(e.selected=a)},d(u){u&&W(e)}}}function PP(t){let e,n,r,i,o,a,u,f,c;return{c(){e=N("label"),e.textContent="Start Date",n=ee(),r=N("input"),i=ee(),o=N("label"),o.textContent="End Date",a=ee(),u=N("input"),k(e,"for","eventStartDate"),k(e,"class","svelte-14yltwl"),k(r,"type","datetime-local"),k(r,"name","eventStartDate"),r.value=t[6],k(r,"class","svelte-14yltwl"),k(o,"for","eventEndDate"),k(o,"class","svelte-14yltwl"),k(u,"type","datetime-local"),k(u,"name","eventEndDate"),u.value=t[7],k(u,"class","svelte-14yltwl")},m(d,m){B(d,e,m),B(d,n,m),B(d,r,m),B(d,i,m),B(d,o,m),B(d,a,m),B(d,u,m),t[32](u),f||(c=[ne(r,"change",t[23]),ne(u,"change",t[24])],f=!0)},p(d,m){m[0]&64&&(r.value=d[6]),m[0]&128&&(u.value=d[7])},d(d){d&&W(e),d&&W(n),d&&W(r),d&&W(i),d&&W(o),d&&W(a),d&&W(u),t[32](null),f=!1,ze(c)}}}function NP(t){let e,n,r,i,o,a,u,f,c;return{c(){e=N("label"),e.textContent="Start Date",n=ee(),r=N("input"),i=ee(),o=N("label"),o.textContent="End Date",a=ee(),u=N("input"),k(e,"for","eventStartDate"),k(e,"class","svelte-14yltwl"),k(r,"type","date"),k(r,"name","eventDate"),r.value=t[8],k(r,"class","svelte-14yltwl"),k(o,"for","eventEndDate"),k(o,"class","svelte-14yltwl"),k(u,"type","date"),k(u,"name","eventDate"),u.value=t[9],k(u,"class","svelte-14yltwl")},m(d,m){B(d,e,m),B(d,n,m),B(d,r,m),B(d,i,m),B(d,o,m),B(d,a,m),B(d,u,m),t[31](u),f||(c=[ne(r,"change",t[25]),ne(u,"change",t[26])],f=!0)},p(d,m){m[0]&256&&(r.value=d[8]),m[0]&512&&(u.value=d[9])},d(d){d&&W(e),d&&W(n),d&&W(r),d&&W(i),d&&W(o),d&&W(a),d&&W(u),t[31](null),f=!1,ze(c)}}}function RP(t){let e,n,r,i;return{c(){e=N("div"),n=N("button"),n.textContent="Create",k(n,"class","svelte-14yltwl"),k(e,"class","buttonRow svelte-14yltwl")},m(o,a){B(o,e,a),x(e,n),r||(i=ne(n,"click",t[15]),r=!0)},p:ve,d(o){o&&W(e),r=!1,i()}}}function IP(t){let e,n,r,i,o,a,u,f,c,d,m;function h(A,Y){return A[10]!=""?FP:LP}let v=h(t,[-1,-1]),_=v(t);function b(A,Y){return A[11].file?YP:WP}let E=b(t,[-1,-1]),w=E(t),C=t[10]!=""&&Iy(t);return{c(){e=N("div"),_.c(),n=ee(),w.c(),r=ee(),i=N("div"),o=N("button"),o.textContent="Update",a=ee(),u=N("button"),u.textContent="Delete",f=ee(),C&&C.c(),c=Lt(),k(e,"class","buttonRow svelte-14yltwl"),k(o,"class","svelte-14yltwl"),k(u,"class","svelte-14yltwl"),k(i,"class","buttonRow svelte-14yltwl")},m(A,Y){B(A,e,Y),_.m(e,null),x(e,n),w.m(e,null),B(A,r,Y),B(A,i,Y),x(i,o),x(i,a),x(i,u),B(A,f,Y),C&&C.m(A,Y),B(A,c,Y),d||(m=[ne(o,"click",t[18]),ne(u,"click",t[16])],d=!0)},p(A,Y){v===(v=h(A,Y))&&_?_.p(A,Y):(_.d(1),_=v(A),_&&(_.c(),_.m(e,n))),E===(E=b(A,Y))&&w?w.p(A,Y):(w.d(1),w=E(A),w&&(w.c(),w.m(e,null))),A[10]!=""?C?C.p(A,Y):(C=Iy(A),C.c(),C.m(c.parentNode,c)):C&&(C.d(1),C=null)},d(A){A&&W(e),_.d(),w.d(),A&&W(r),A&&W(i),A&&W(f),C&&C.d(A),A&&W(c),d=!1,ze(m)}}}function LP(t){let e,n,r;return{c(){e=N("button"),e.textContent="Show Single Event",k(e,"class","svelte-14yltwl")},m(i,o){B(i,e,o),n||(r=ne(e,"click",t[22]),n=!0)},p:ve,d(i){i&&W(e),n=!1,r()}}}function FP(t){let e,n,r;return{c(){e=N("button"),e.textContent="Show Recurring Event",k(e,"class","svelte-14yltwl")},m(i,o){B(i,e,o),n||(r=ne(e,"click",t[22]),n=!0)},p:ve,d(i){i&&W(e),n=!1,r()}}}function WP(t){let e,n,r;return{c(){e=N("button"),e.textContent="Create Event Note",k(e,"class","svelte-14yltwl")},m(i,o){B(i,e,o),n||(r=ne(e,"click",t[21]),n=!0)},p:ve,d(i){i&&W(e),n=!1,r()}}}function YP(t){let e,n,r;return{c(){e=N("button"),e.textContent="Open Event Note",k(e,"class","svelte-14yltwl")},m(i,o){B(i,e,o),n||(r=ne(e,"click",t[20]),n=!0)},p:ve,d(i){i&&W(e),n=!1,r()}}}function Iy(t){let e,n,r,i,o,a;return{c(){e=N("div"),n=N("button"),n.textContent="Update All",r=ee(),i=N("button"),i.textContent="Delete All",k(n,"class","svelte-14yltwl"),k(i,"class","svelte-14yltwl"),k(e,"class","buttonRow svelte-14yltwl")},m(u,f){B(u,e,f),x(e,n),x(e,r),x(e,i),o||(a=[ne(n,"click",t[19]),ne(i,"click",t[17])],o=!0)},p:ve,d(u){u&&W(e),o=!1,ze(a)}}}function BP(t){let e,n,r,i,o,a,u,f,c,d,m,h,v,_,b,E,w,C,A,Y,M,P,L,S,F,ae,z;function X(Q){t[29](Q)}let V={};t[0]!==void 0&&(V.event=t[0]),i=new My({props:V}),Se.push(()=>Ke(i,"event",X));function pe(Q,ge){return Q[2]?xP:MP}let O=pe(t,[-1,-1]),Z=O(t);function te(Q,ge){return Q[3]?NP:PP}let U=te(t,[-1,-1]),J=U(t);function se(Q,ge){return Q[0].id?IP:RP}let j=se(t,[-1,-1]),K=j(t);return{c(){e=N("div"),n=N("input"),r=ee(),rt(i.$$.fragment),a=ee(),Z.c(),u=ee(),f=N("div"),c=N("label"),c.textContent="Full Day",d=ee(),m=N("input"),h=ee(),J.c(),v=ee(),_=N("label"),_.textContent="Reoccurring",b=ee(),E=N("input"),C=ee(),A=N("div"),Y=N("label"),Y.textContent="Show me as Busy?",M=ee(),P=N("input"),L=ee(),S=N("div"),K.c(),k(n,"class","summaryInput svelte-14yltwl"),k(n,"name","summary"),k(n,"type","text"),k(n,"placeholder","Summary"),k(c,"for","fullDay"),k(c,"class","svelte-14yltwl"),k(m,"type","checkbox"),k(m,"name","fullDay"),k(f,"class","googleFullDayContainer svelte-14yltwl"),k(_,"for","reoccurring"),k(_,"class","svelte-14yltwl"),k(E,"type","text"),k(E,"name","Reoccurring"),E.disabled=w=t[0].id!=null,k(E,"class","svelte-14yltwl"),k(Y,"for","isBusy"),k(Y,"class","svelte-14yltwl"),k(P,"type","checkbox"),k(P,"name","isBusy"),k(A,"class","googleFullDayContainer svelte-14yltwl"),k(S,"class","googleEventButtonContainer svelte-14yltwl"),k(e,"class","googleEventDetails")},m(Q,ge){B(Q,e,ge),x(e,n),go(n,t[0].summary),x(e,r),tt(i,e,null),x(e,a),Z.m(e,null),x(e,u),x(e,f),x(f,c),x(f,d),x(f,m),m.checked=t[3],x(e,h),J.m(e,null),x(e,v),x(e,_),x(e,b),x(e,E),go(E,t[10]),x(e,C),x(e,A),x(A,Y),x(A,M),x(A,P),P.checked=t[4],x(e,L),x(e,S),K.m(S,null),F=!0,ae||(z=[ne(n,"input",t[28]),ne(m,"change",t[30]),ne(E,"input",t[33]),ne(P,"change",t[34])],ae=!0)},p(Q,ge){ge[0]&1&&n.value!==Q[0].summary&&go(n,Q[0].summary);let ue={};!o&&ge[0]&1&&(o=!0,ue.event=Q[0],qe(()=>o=!1)),i.$set(ue),O===(O=pe(Q,ge))&&Z?Z.p(Q,ge):(Z.d(1),Z=O(Q),Z&&(Z.c(),Z.m(e,u))),ge[0]&8&&(m.checked=Q[3]),U===(U=te(Q,ge))&&J?J.p(Q,ge):(J.d(1),J=U(Q),J&&(J.c(),J.m(e,v))),(!F||ge[0]&1&&w!==(w=Q[0].id!=null))&&(E.disabled=w),ge[0]&1024&&E.value!==Q[10]&&go(E,Q[10]),ge[0]&16&&(P.checked=Q[4]),j===(j=se(Q,ge))&&K?K.p(Q,ge):(K.d(1),K=j(Q),K&&(K.c(),K.m(S,null)))},i(Q){F||(ie(i.$$.fragment,Q),F=!0)},o(Q){ce(i.$$.fragment,Q),F=!1},d(Q){Q&&W(e),Je(i),Z.d(),J.d(),K.d(),ae=!1,ze(z)}}}function Ly(){let t=15,e=1e3*60*t;return window.moment(new Date(Math.round(new Date().getTime()/e)*e))}function GP(t,e,n){let{event:r}=e,{closeFunction:i}=e,o,a=!0,u,f,c="",d=we.getInstance(),m,h,v,_,b="",E=ko(r,d),w=null,C=null;function A(ue){let _e=Py.default.cloneDeep(ue);return _e.parent=o.find(De=>De.id===c),u?(_e.start.date=window.moment(v).format("YYYY-MM-DD"),_e.end.date=window.moment(_).add(1,"day").format("YYYY-MM-DD"),delete _e.start.dateTime,delete _e.end.dateTime):(_e.start.dateTime=window.moment(m).format(),_e.end.dateTime=window.moment(h).format(),delete _e.start.date,delete _e.end.date),f?_e.transparency="opaque":_e.transparency="transparent",_e}Hi(()=>kt(void 0,void 0,void 0,function*(){var ue,_e,De,nt,ut,ye,Ee,pt;if(r.eventType==="multiDay"&&n(0,r=yield ri(r.id,r.parent.id)),n(3,u=((ue=r==null?void 0:r.start)===null||ue===void 0?void 0:ue.dateTime)==null&&((_e=r==null?void 0:r.start)===null||_e===void 0?void 0:_e.date)!==void 0),(r==null?void 0:r.transparency)?n(4,f=(r==null?void 0:r.transparency)=="opaque"):n(4,f=!0),n(1,o=yield Pr()),n(5,c=(nt=(De=r==null?void 0:r.parent)===null||De===void 0?void 0:De.id)!==null&&nt!==void 0?nt:(ut=d==null?void 0:d.settings)===null||ut===void 0?void 0:ut.defaultCalendar),c||n(5,c=o[0].id),n(2,a=!1),r.id==null){n(0,r.summary=(ye=r.summary)!==null&&ye!==void 0?ye:"",r),n(0,r.description=(Ee=r.description)!==null&&Ee!==void 0?Ee:"",r),n(10,b="");let Tt=Ly();n(6,m=Tt.format("YYYY-MM-DDTHH:mm")),n(7,h=Tt.add(1,"hour").format("YYYY-MM-DDTHH:mm")),n(8,v=Tt.format("YYYY-MM-DD")),n(9,_=Tt.format("YYYY-MM-DD")),r.start.date&&n(8,v=window.moment(r.start.date).format("YYYY-MM-DD")),r.end.date&&n(9,_=window.moment(r.end.date).subtract(1,"day").format("YYYY-MM-DD")),r.start.dateTime&&r.end.dateTime&&(n(6,m=window.moment(r.start.dateTime).format("YYYY-MM-DDTHH:mm")),n(7,h=window.moment(r.end.dateTime).format("YYYY-MM-DDTHH:mm")))}else{let Tt=yield ri((pt=r.recurringEventId)!==null&&pt!==void 0?pt:r.id,r.parent.id);if(Tt==null?void 0:Tt.recurrence){let On=pa(Tt.recurrence[0]);n(10,b=On.toText())}else n(10,b="");if(u){let On=Ly();n(6,m=On.format("YYYY-MM-DDTHH:mm")),n(7,h=On.add(1,"hour").format("YYYY-MM-DDTHH:mm")),n(8,v=window.moment(r.start.date).format("YYYY-MM-DD")),n(9,_=window.moment(r.end.date).subtract(1).format("YYYY-MM-DD"))}else n(6,m=window.moment(r.start.dateTime).format("YYYY-MM-DDTHH:mm")),n(7,h=window.moment(r.end.dateTime).format("YYYY-MM-DDTHH:mm")),n(8,v=window.moment().format("YYYY-MM-DD")),n(9,_=window.moment().format("YYYY-MM-DD"))}}));let Y=ue=>kt(void 0,void 0,void 0,function*(){let _e=ue.target;if(_e instanceof HTMLSelectElement){let De=_e.value;n(5,c=De)}r.id&&(yield xy(r,c),n(0,r.parent=o.find(De=>De.id===c),r),tn())}),M=()=>kt(void 0,void 0,void 0,function*(){if(b&&b!="")try{let _e=Ae.fromText(b),De=new ps;De.rrule(_e);let nt=De.valueOf();if(b&&nt[0]==""){Pe("Event not created. Error in recurrence text.",!0);return}n(0,r.recurrence=nt,r)}catch(_e){Pe("Event not created. Error in recurrence text.",!0);return}let ue=yield Nf(A(r));(ue==null?void 0:ue.id)&&i()}),P=ue=>kt(void 0,void 0,void 0,function*(){let _e=!1;r.recurringEventId?_e=yield xf(r):_e=yield xf(r),_e&&i()}),L=()=>kt(void 0,void 0,void 0,function*(){(yield xf(A(r),!0))&&i()}),S=()=>{if(u){let _e=window.moment(v).isSameOrBefore(window.moment(_));return!_e&&C instanceof HTMLInputElement&&(C.setCustomValidity("End date must be after start date"),C.reportValidity()),_e}let ue=window.moment(m).isBefore(window.moment(h));return!ue&&w instanceof HTMLInputElement&&(w.setCustomValidity("End date must be after start date"),w.reportValidity()),ue},F=()=>kt(void 0,void 0,void 0,function*(){if(!S())return;let ue=A(r),_e;ue.recurringEventId?_e=yield ls(ue):_e=yield ls(ue),_e.id&&i()}),ae=()=>kt(void 0,void 0,void 0,function*(){if(!S())return;(yield ls(A(r),!0)).id&&i()}),z=()=>kt(void 0,void 0,void 0,function*(){app.workspace.getLeaf(!0).openFile(E.file),i()}),X=()=>kt(void 0,void 0,void 0,function*(){!S()||(d.settings.useDefaultTemplate&&d.settings.defaultFolder&&d.settings.defaultFolder?yr(r,d.settings.defaultFolder,d.settings.defaultTemplate):new Eo(r,ue=>n(11,E.file=ue,E)).open())}),V=()=>{window.open(r.htmlLink)},pe=ue=>{if(!ue.target.value||!window.moment(ue.target.value).isValid()){ue.preventDefault();return}n(6,m=ue.target.value)},O=ue=>{if(!ue.target.value||!window.moment(ue.target.value).isValid()){ue.preventDefault();return}n(7,h=ue.target.value)},Z=ue=>{if(!ue.target.value||!window.moment(ue.target.value).isValid()){ue.preventDefault();return}n(8,v=ue.target.value)},te=ue=>{if(!ue.target.value||!window.moment(ue.target.value).isValid()){ue.preventDefault();return}n(9,_=ue.target.value)};function U(){r.summary=this.value,n(0,r)}function J(ue){r=ue,n(0,r)}function se(){u=this.checked,n(3,u)}function j(ue){Se[ue?"unshift":"push"](()=>{C=ue,n(13,C)})}function K(ue){Se[ue?"unshift":"push"](()=>{w=ue,n(12,w)})}function Q(){b=this.value,n(10,b)}function ge(){f=this.checked,n(4,f)}return t.$$set=ue=>{"event"in ue&&n(0,r=ue.event),"closeFunction"in ue&&n(27,i=ue.closeFunction)},[r,o,a,u,f,c,m,h,v,_,b,E,w,C,Y,M,P,L,F,ae,z,X,V,pe,O,Z,te,i,U,J,se,j,K,Q,ge]}var Fy=class extends We{constructor(e){super();je(this,e,GP,BP,Re,{event:0,closeFunction:27},AP,[-1,-1])}},Kf=Fy;var wr=class extends Wy.Modal{constructor(e,n){super(we.getInstance().app);this.selectedEvent=e,n&&(this.closeFunction=n)}onOpen(){return $(this,null,function*(){let{contentEl:e}=this;new Kf({target:e,props:{event:this.selectedEvent,closeFunction:()=>{this.closeFunction&&this.closeFunction(),this.close()}}})})}onClose(){let{contentEl:e}=this;e.empty()}};var Gy=Me(ff());var Yy=Me(require("obsidian"));var Qn="google-calendar-view-event_details",Zf=class extends Yy.ItemView{constructor(e,n,r){super(e);this.setEvent=e=>{this.event=e,this.onClose(),this.onOpen()};this.setCloseFunction=e=>{this.closeFunction=e,this.onClose(),this.onOpen()};this.event=n,this.closeFunction=r}getViewType(){return Qn}getDisplayText(){return"GCal EventDetails View"}getIcon(){return"calendar-plus"}onOpen(){return $(this,null,function*(){this.eventDetails=new Kf({target:this.contentEl,props:{event:this.event,closeFunction:this.closeFunction}})})}onClose(){return $(this,null,function*(){this.eventDetails.$destroy()})}};var br=class extends By.FuzzySuggestModal{constructor(e,n,r=window.moment(),i=!1,o){super(window.app);this.plugin=we.getInstance();this.eventList=[...e],this.modalSelectMode=n,this.setPlaceholder(`${r.format("MM/DD/YYYY")} Arrow left/right to switch day`),this.emptyStateText="No events found enter to create a new one",this.eventsChanged=i,this.currentDate=r.clone(),o&&(this.closeFunction=o),this.inputEl.addEventListener("keydown",a=>$(this,null,function*(){let u=!1,f=this.getSuggestions(this.inputEl.value),c={summary:this.inputEl.value,start:{date:r.format()},end:{}};!f.length&&a.key=="Enter"&&(a.shiftKey?(this.plugin.initView(Qn,c,()=>{tn()}),this.onClose()):new wr(c,()=>{this.eventsChanged=!0,this.close()}).open()),a.key=="ArrowRight"?(a.ctrlKey?this.currentDate=this.currentDate.add(1,"month"):a.shiftKey?this.currentDate=this.currentDate.add(1,"week"):this.currentDate=this.currentDate.add(1,"day"),u=!0):a.key=="ArrowLeft"&&(a.ctrlKey?this.currentDate=this.currentDate.subtract(1,"month"):a.shiftKey?this.currentDate=this.currentDate.subtract(1,"week"):this.currentDate=this.currentDate.subtract(1,"day"),u=!0),u&&(this.setPlaceholder("Loading"),this.eventList=yield Ut({startDate:this.currentDate}),this.inputEl.dispatchEvent(new Event("input")),this.setPlaceholder(`${this.currentDate.format("MM/DD/YYYY")} Arrow left and right to switch day`))}))}getItems(){return this.plugin.settings.activateDailyNoteAddon?[{id:"xxx",start:null,end:null},...this.eventList]:this.eventList}getItemText(e){return e.id=="xxx"?is(this.currentDate)?"Open daily note":"Create daily note":e.start.date?`${e.start.date}		 | ${e.summary}	`:`${window.moment(e.start.dateTime).format("YYYY-MM-DD HH:mm")}	 | ${e.summary}	`}onChooseItem(e,n){return $(this,null,function*(){if(e.id=="xxx"){let r=is(this.currentDate);r||(r=yield(0,Gy.createDailyNote)(this.currentDate)),yield app.workspace.getLeaf(!1).openFile(r,{active:!0});return}this.modalSelectMode=="details"?(this.open(),n.shiftKey?(this.plugin.initView(Qn,e,()=>{tn()}),this.onClose()):new wr(e,()=>this.eventsChanged=!0).open()):this.modalSelectMode=="createNote"&&(this.plugin.settings.useDefaultTemplate?yr(e,this.plugin.settings.defaultFolder,this.plugin.settings.defaultTemplate):new Eo(e,()=>{}).open())})}onClose(){this.closeFunction&&this.eventsChanged&&this.closeFunction()}};var jm=class extends jy.FuzzySuggestModal{constructor(e){super(we.getInstance().app);this.calendarList=e,this.setPlaceholder("Select a calendar to view it")}getItems(){return this.calendarList}getItemText(e){return`${e.summary}	`}onChooseItem(e){return $(this,null,function*(){let n=yield Ut({include:[e.id]});new br(n,"details").open()})}};function Gl(t,e){let n=e.replace(/\((?!\?)/g,"(?:");return`${t}${n}\\s{0,5}(?:,?\\s{0,5}${n}){0,10}`}function jP(t){let e;return t instanceof Array?e=[...t]:t instanceof Map?e=Array.from(t.keys()):e=Object.keys(t),e}function Ht(t){return`(?:${jP(t).sort((n,r)=>r.length-n.length).join("|").replace(/\./g,"\\.")})`}var Uy=Me(yi());function ya(t){return t<100&&(t>50?t=t+1900:t=t+2e3),t}function wi(t,e,n){let r=(0,Uy.default)(t),i=r;i=i.month(n-1),i=i.date(e),i=i.year(r.year());let o=i.add(1,"y"),a=i.add(-1,"y");return Math.abs(o.diff(r))<Math.abs(i.diff(r))?i=o:Math.abs(a.diff(r))<Math.abs(i.diff(r))&&(i=a),i.year()}var Hm={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6},Vm={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},Yr=Ju(hr({},Vm),{jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12}),qm={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},Km={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31},zy={second:"second",seconds:"second",minute:"minute",minutes:"minute",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",quarter:"quarter",quarters:"quarter",year:"year",years:"year"},jl=hr({s:"second",sec:"second",second:"second",seconds:"second",m:"minute",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",d:"d",day:"d",days:"d",w:"w",week:"week",weeks:"week",mo:"month",mon:"month",mos:"month",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year"},zy),Hy=`(?:${Ht(qm)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|the|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function UP(t){let e=t.toLowerCase();return qm[e]!==void 0?qm[e]:e==="a"||e==="an"||e=="the"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}var wa=`(?:${Ht(Km)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function ba(t){let e=t.toLowerCase();return Km[e]!==void 0?Km[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}var ka="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9])";function Ea(t){if(/BE/i.test(t))return t=t.replace(/BE/i,""),parseInt(t)-543;if(/BCE?/i.test(t))return t=t.replace(/BCE?/i,""),-parseInt(t);if(/(AD|CE)/i.test(t))return t=t.replace(/(AD|CE)/i,""),parseInt(t);let e=parseInt(t);return ya(e)}var Vy=`(${Hy})\\s{0,3}(${Ht(jl)})`,qy=new RegExp(Vy,"i"),zP=`(${Hy})\\s{0,3}(${Ht(zy)})`,Ki=Gl("(?:(?:about|around)\\s{0,3})?",Vy),To=Gl("(?:(?:about|around)\\s{0,3})?",zP);function bi(t){let e={},n=t,r=qy.exec(n);for(;r;)HP(e,r),n=n.substring(r[0].length).trim(),r=qy.exec(n);return e}function HP(t,e){let n=UP(e[1]),r=jl[e[2].toLowerCase()];t[r]=n}var Jy=Me(Ky()),Ul=Me(yi());function Jm(t,e){e=e.add(1,"day"),jn(t,e),Br(t,e)}function Zy(t,e){e=e.add(1,"day"),hs(t,e),Br(t,e)}function jn(t,e){t.assign("day",e.date()),t.assign("month",e.month()+1),t.assign("year",e.year())}function Xf(t,e){t.assign("hour",e.hour()),t.assign("minute",e.minute()),t.assign("second",e.second()),t.assign("millisecond",e.millisecond()),t.get("hour")<12?t.assign("meridiem",Ye.AM):t.assign("meridiem",Ye.PM)}function hs(t,e){t.imply("day",e.date()),t.imply("month",e.month()+1),t.imply("year",e.year())}function Br(t,e){t.imply("hour",e.hour()),t.imply("minute",e.minute()),t.imply("second",e.second()),t.imply("millisecond",e.millisecond())}var Qm=Me(yi());var VP={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:{timezoneOffsetDuringDst:2*60,timezoneOffsetNonDst:60,dstStart:t=>Xy(t,kr.MARCH,dn.SUNDAY,2),dstEnd:t=>Xy(t,kr.OCTOBER,dn.SUNDAY,3)},CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CT:{timezoneOffsetDuringDst:-5*60,timezoneOffsetNonDst:-6*60,dstStart:t=>Co(t,kr.MARCH,dn.SUNDAY,2,2),dstEnd:t=>Co(t,kr.NOVEMBER,dn.SUNDAY,1,2)},CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:{timezoneOffsetDuringDst:-4*60,timezoneOffsetNonDst:-5*60,dstStart:t=>Co(t,kr.MARCH,dn.SUNDAY,2,2),dstEnd:t=>Co(t,kr.NOVEMBER,dn.SUNDAY,1,2)},FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MT:{timezoneOffsetDuringDst:-6*60,timezoneOffsetNonDst:-7*60,dstStart:t=>Co(t,kr.MARCH,dn.SUNDAY,2,2),dstEnd:t=>Co(t,kr.NOVEMBER,dn.SUNDAY,1,2)},MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:{timezoneOffsetDuringDst:-7*60,timezoneOffsetNonDst:-8*60,dstStart:t=>Co(t,kr.MARCH,dn.SUNDAY,2,2),dstEnd:t=>Co(t,kr.NOVEMBER,dn.SUNDAY,1,2)},PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function Co(t,e,n,r,i=0){let o=0,a=0;for(;a<r;)o++,new Date(t,e-1,o).getDay()===n&&a++;return new Date(t,e-1,o,i)}function Xy(t,e,n,r=0){let i=n===0?7:n,o=new Date(t,e-1+1,1,12),a=o.getDay()===0?7:o.getDay(),u;return a===i?u=7:a<i?u=7+a-i:u=a-i,o.setDate(o.getDate()-u),new Date(t,e-1,o.getDate(),r)}function Jf(t,e,n={}){var i;if(t==null)return null;if(typeof t=="number")return t;let r=(i=n[t])!=null?i:VP[t];return r==null?null:typeof r=="number"?r:e==null?null:(0,Qm.default)(e).isAfter(r.dstStart(e.getFullYear()))&&!(0,Qm.default)(e).isAfter(r.dstEnd(e.getFullYear()))?r.timezoneOffsetDuringDst:r.timezoneOffsetNonDst}Ul.default.extend(Jy.default);var zl=class{constructor(e){var n;e=e!=null?e:new Date,e instanceof Date?this.instant=e:(this.instant=(n=e.instant)!=null?n:new Date,this.timezoneOffset=Jf(e.timezone,this.instant))}getDateWithAdjustedTimezone(){return new Date(this.instant.getTime()+this.getSystemTimezoneAdjustmentMinute(this.instant)*6e4)}getSystemTimezoneAdjustmentMinute(e,n){var o;(!e||e.getTime()<0)&&(e=new Date);let r=-e.getTimezoneOffset(),i=(o=n!=null?n:this.timezoneOffset)!=null?o:r;return r-i}},gt=class{constructor(e,n){if(this.reference=e,this.knownValues={},this.impliedValues={},n)for(let i in n)this.knownValues[i]=n[i];let r=(0,Ul.default)(e.instant);this.imply("day",r.date()),this.imply("month",r.month()+1),this.imply("year",r.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,n){return e in this.knownValues?this:(this.impliedValues[e]=n,this)}assign(e,n){return this.knownValues[e]=n,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){let e=new gt(this.reference);e.knownValues={},e.impliedValues={};for(let n in this.knownValues)e.knownValues[n]=this.knownValues[n];for(let n in this.impliedValues)e.impliedValues[n]=this.impliedValues[n];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isDateWithUnknownYear(){return this.isCertain("month")&&!this.isCertain("year")}isValidDate(){let e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||this.get("hour")!=null&&e.getHours()!=this.get("hour")||this.get("minute")!=null&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {knownValues: ${JSON.stringify(this.knownValues)}, impliedValues: ${JSON.stringify(this.impliedValues)}}, reference: ${JSON.stringify(this.reference)}]`}dayjs(){return(0,Ul.default)(this.date())}date(){let e=this.dateWithoutTimezoneAdjustment(),n=this.reference.getSystemTimezoneAdjustmentMinute(e,this.get("timezoneOffset"));return new Date(e.getTime()+n*6e4)}dateWithoutTimezoneAdjustment(){let e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}static createRelativeFromReference(e,n){let r=(0,Ul.default)(e.instant);for(let o in n)r=r.add(n[o],o);let i=new gt(e);return n.hour||n.minute||n.second?(Xf(i,r),jn(i,r),e.timezoneOffset!==null&&i.assign("timezoneOffset",-e.instant.getTimezoneOffset())):(Br(i,r),e.timezoneOffset!==null&&i.imply("timezoneOffset",-e.instant.getTimezoneOffset()),n.d?(i.assign("day",r.date()),i.assign("month",r.month()+1),i.assign("year",r.year())):(n.week&&i.imply("weekday",r.day()),i.imply("day",r.date()),n.month?(i.assign("month",r.month()+1),i.assign("year",r.year())):(i.imply("month",r.month()+1),n.year?i.assign("year",r.year()):i.imply("year",r.year())))),i}},So=class{constructor(e,n,r,i,o){this.reference=e,this.refDate=e.instant,this.index=n,this.text=r,this.start=i||new gt(e),this.end=o}clone(){let e=new So(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}toString(){return`[ParsingResult {index: ${this.index}, text: '${this.text}', ...}]`}};var st=class{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}patternLeftBoundary(){return"(\\W|^)"}pattern(e){let n=this.innerPattern(e);return n==this.cachedInnerPattern?this.cachedPattern:(this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${n.source}`,n.flags),this.cachedInnerPattern=n,this.cachedPattern)}extract(e,n){var i;let r=(i=n[1])!=null?i:"";n.index=n.index+r.length,n[0]=n[0].substring(r.length);for(let o=2;o<n.length;o++)n[o-1]=n[o];return this.innerExtract(e,n)}};var qP=new RegExp(`(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Ki})(?=\\W|$)`,"i"),KP=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Ki})(?=\\W|$)`,"i"),ZP=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${To})(?=\\W|$)`,"i"),Qf=class extends st{constructor(e){super();this.strictMode=e}innerPattern(e){return this.strictMode?ZP:e.option.forwardDate?qP:KP}innerExtract(e,n){let r=bi(n[1]);return gt.createRelativeFromReference(e.reference,r)}};var XP=new RegExp(`(?:on\\s{0,3})?(${wa})(?:\\s{0,3}(?:to|\\-|\\\u2013|until|through|till)?\\s{0,3}(${wa}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${Ht(Yr)})(?:(?:-|/|,?\\s{0,3})(${ka}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),Qy=1,$y=2,JP=3,ew=4,$f=class extends st{innerPattern(){return XP}innerExtract(e,n){let r=e.createParsingResult(n.index,n[0]),i=Yr[n[JP].toLowerCase()],o=ba(n[Qy]);if(o>31)return n.index=n.index+n[Qy].length,null;if(r.start.assign("month",i),r.start.assign("day",o),n[ew]){let a=Ea(n[ew]);r.start.assign("year",a)}else{let a=wi(e.refDate,o,i);r.start.imply("year",a)}if(n[$y]){let a=ba(n[$y]);r.end=r.start.clone(),r.end.assign("day",a)}return r}};var QP=new RegExp(`(${Ht(Yr)})(?:-|/|\\s*,?\\s*)(${wa})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${wa})\\s*)?(?:(?:-|/|\\s*,?\\s*)(${ka}))?(?=\\W|$)(?!\\:\\d)`,"i"),$P=1,eN=2,tw=3,nw=4,ec=class extends st{innerPattern(){return QP}innerExtract(e,n){let r=Yr[n[$P].toLowerCase()],i=ba(n[eN]);if(i>31)return null;let o=e.createParsingComponents({day:i,month:r});if(n[nw]){let f=Ea(n[nw]);o.assign("year",f)}else{let f=wi(e.refDate,i,r);o.imply("year",f)}if(!n[tw])return o;let a=ba(n[tw]),u=e.createParsingResult(n.index,n[0]);return u.start=o,u.end=o.clone(),u.end.assign("day",a),u}};var tN=new RegExp(`((?:in)\\s*)?(${Ht(Yr)})\\s*(?:[,-]?\\s*(${ka})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),nN=1,rN=2,rw=3,tc=class extends st{innerPattern(){return tN}innerExtract(e,n){let r=n[rN].toLowerCase();if(n[0].length<=3&&!Vm[r])return null;let i=e.createParsingResult(n.index+(n[nN]||"").length,n.index+n[0].length);i.start.imply("day",1);let o=Yr[r];if(i.start.assign("month",o),n[rw]){let a=Ea(n[rw]);i.start.assign("year",a)}else{let a=wi(e.refDate,1,o);i.start.imply("year",a)}return i}};var iN=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${Ht(Yr)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),oN=1,sN=2,iw=3,aN=4,nc=class extends st{innerPattern(){return iN}innerExtract(e,n){let r=n[iw]?parseInt(n[iw]):Yr[n[sN].toLowerCase()];if(r<1||r>12)return null;let i=parseInt(n[oN]);return{day:parseInt(n[aN]),month:r,year:i}}};var lN=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),uN=1,fN=2,rc=class extends st{innerPattern(){return lN}innerExtract(e,n){let r=parseInt(n[fN]),i=parseInt(n[uN]);return e.createParsingComponents().imply("day",1).assign("month",i).assign("year",r)}};function cN(t,e,n,r){return new RegExp(`${t}${e}(\\d{1,4})(?:(?:\\.|:|\uFF1A)(\\d{1,2})(?:(?::|\uFF1A)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${n}`,r)}function dN(t,e){return new RegExp(`^(${t})(\\d{1,4})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,"i")}var ow=2,Ta=3,ic=4,oc=5,Hl=6,Vl=class{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?=\\W|$)"}followingSuffix(){return"(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,n){let r=this.extractPrimaryTimeComponents(e,n);if(!r)return n.index+=n[0].length,null;let i=n.index+n[1].length,o=n[0].substring(n[1].length),a=e.createParsingResult(i,o,r);n.index+=n[0].length;let u=e.text.substring(n.index),c=this.getFollowingTimePatternThroughCache().exec(u);return o.match(/^\d{3,4}/)&&c&&c[0].match(/^\s*([+-])\s*\d{2,4}$/)?null:!c||c[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(a):(a.end=this.extractFollowingTimeComponents(e,c,a),a.end&&(a.text+=c[0]),this.checkAndReturnWithFollowingPattern(a))}extractPrimaryTimeComponents(e,n,r=!1){let i=e.createParsingComponents(),o=0,a=null,u=parseInt(n[ow]);if(u>100){if(this.strictMode||n[Ta]!=null)return null;o=u%100,u=Math.floor(u/100)}if(u>24)return null;if(n[Ta]!=null){if(n[Ta].length==1&&!n[Hl])return null;o=parseInt(n[Ta])}if(o>=60)return null;if(u>12&&(a=Ye.PM),n[Hl]!=null){if(u>12)return null;let f=n[Hl][0].toLowerCase();f=="a"&&(a=Ye.AM,u==12&&(u=0)),f=="p"&&(a=Ye.PM,u!=12&&(u+=12))}if(i.assign("hour",u),i.assign("minute",o),a!==null?i.assign("meridiem",a):u<12?i.imply("meridiem",Ye.AM):i.imply("meridiem",Ye.PM),n[oc]!=null){let f=parseInt(n[oc].substring(0,3));if(f>=1e3)return null;i.assign("millisecond",f)}if(n[ic]!=null){let f=parseInt(n[ic]);if(f>=60)return null;i.assign("second",f)}return i}extractFollowingTimeComponents(e,n,r){let i=e.createParsingComponents();if(n[oc]!=null){let f=parseInt(n[oc].substring(0,3));if(f>=1e3)return null;i.assign("millisecond",f)}if(n[ic]!=null){let f=parseInt(n[ic]);if(f>=60)return null;i.assign("second",f)}let o=parseInt(n[ow]),a=0,u=-1;if(n[Ta]!=null?a=parseInt(n[Ta]):o>100&&(a=o%100,o=Math.floor(o/100)),a>=60||o>24)return null;if(o>=12&&(u=Ye.PM),n[Hl]!=null){if(o>12)return null;let f=n[Hl][0].toLowerCase();f=="a"&&(u=Ye.AM,o==12&&(o=0,i.isCertain("day")||i.imply("day",i.get("day")+1))),f=="p"&&(u=Ye.PM,o!=12&&(o+=12)),r.start.isCertain("meridiem")||(u==Ye.AM?(r.start.imply("meridiem",Ye.AM),r.start.get("hour")==12&&r.start.assign("hour",0)):(r.start.imply("meridiem",Ye.PM),r.start.get("hour")!=12&&r.start.assign("hour",r.start.get("hour")+12)))}return i.assign("hour",o),i.assign("minute",a),u>=0?i.assign("meridiem",u):r.start.isCertain("meridiem")&&r.start.get("hour")>12?r.start.get("hour")-12>o?i.imply("meridiem",Ye.AM):o<=12&&(i.assign("hour",o+12),i.assign("meridiem",Ye.PM)):o>12?i.imply("meridiem",Ye.PM):o<=12&&i.imply("meridiem",Ye.AM),i.date().getTime()<r.start.date().getTime()&&i.imply("day",i.get("day")+1),i}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/)||e.text.match(/^\d\d\d+$/)||e.text.match(/\d[apAP]$/))return null;let n=e.text.match(/[^\d:.](\d[\d.]+)$/);if(n){let r=n[1];if(this.strictMode||r.includes(".")&&!r.match(/\d(\.\d{2})+$/)||parseInt(r)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;let n=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(n){if(this.strictMode)return null;let r=n[1],i=n[2];if(i.includes(".")&&!i.match(/\d(\.\d{2})+$/))return null;let o=parseInt(i),a=parseInt(r);if(o>24||a>24)return null}return e}getPrimaryTimePatternThroughCache(){let e=this.primaryPrefix(),n=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===n?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=cN(this.primaryPatternLeftBoundary(),e,n,this.patternFlags()),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=n,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){let e=this.followingPhase(),n=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===n?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=dN(e,n),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=n,this.cachedFollowingTimePatten)}};var sc=class extends Vl{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|to|until|through|till|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,n){let r=super.extractPrimaryTimeComponents(e,n);if(r){if(n[0].endsWith("night")){let i=r.get("hour");i>=6&&i<12?(r.assign("hour",r.get("hour")+12),r.assign("meridiem",Ye.PM)):i<6&&r.assign("meridiem",Ye.AM)}if(n[0].endsWith("afternoon")){r.assign("meridiem",Ye.PM);let i=r.get("hour");i>=0&&i<=6&&r.assign("hour",r.get("hour")+12)}n[0].endsWith("morning")&&(r.assign("meridiem",Ye.AM),r.get("hour")<12&&r.assign("hour",r.get("hour")))}return r}};function Do(t){let e={};for(let n in t)e[n]=-t[n];return e}function ac(t,e){let n=t.clone(),r=t.dayjs();for(let i in e)r=r.add(e[i],i);return("day"in e||"d"in e||"week"in e||"month"in e||"year"in e)&&(n.imply("day",r.date()),n.imply("month",r.month()+1),n.imply("year",r.year())),("second"in e||"minute"in e||"hour"in e)&&(n.imply("second",r.second()),n.imply("minute",r.minute()),n.imply("hour",r.hour())),n}var pN=new RegExp(`(${Ki})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i"),mN=new RegExp(`(${To})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i"),lc=class extends st{constructor(e){super();this.strictMode=e}innerPattern(){return this.strictMode?mN:pN}innerExtract(e,n){let r=bi(n[1]),i=Do(r);return gt.createRelativeFromReference(e.reference,i)}};var hN=new RegExp(`(${Ki})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),gN=new RegExp("("+To+")(later|from now)(?=(?:\\W|$))","i"),vN=1,uc=class extends st{constructor(e){super();this.strictMode=e}innerPattern(){return this.strictMode?gN:hN}innerExtract(e,n){let r=bi(n[vN]);return gt.createRelativeFromReference(e.reference,r)}};var $m=class{refine(e,n){return n.filter(r=>this.isValid(e,r))}},Zi=class{refine(e,n){if(n.length<2)return n;let r=[],i=n[0],o=null;for(let a=1;a<n.length;a++){o=n[a];let u=e.text.substring(i.index+i.text.length,o.index);if(!this.shouldMergeResults(u,i,o,e))r.push(i),i=o;else{let f=i,c=o,d=this.mergeResults(u,f,c,e);e.debug(()=>{console.log(`${this.constructor.name} merged ${f} and ${c} into ${d}`)}),i=d}}return i!=null&&r.push(i),r}};var Ca=class extends Zi{shouldMergeResults(e,n,r){return!n.end&&!r.end&&e.match(this.patternBetween())!=null}mergeResults(e,n,r){if(!n.start.isOnlyWeekdayComponent()&&!r.start.isOnlyWeekdayComponent()&&(r.start.getCertainComponents().forEach(o=>{n.start.isCertain(o)||n.start.imply(o,r.start.get(o))}),n.start.getCertainComponents().forEach(o=>{r.start.isCertain(o)||r.start.imply(o,n.start.get(o))})),n.start.date().getTime()>r.start.date().getTime()){let o=n.start.dayjs(),a=r.start.dayjs();r.start.isOnlyWeekdayComponent()&&a.add(7,"days").isAfter(o)?(a=a.add(7,"days"),r.start.imply("day",a.date()),r.start.imply("month",a.month()+1),r.start.imply("year",a.year())):n.start.isOnlyWeekdayComponent()&&o.add(-7,"days").isBefore(a)?(o=o.add(-7,"days"),n.start.imply("day",o.date()),n.start.imply("month",o.month()+1),n.start.imply("year",o.year())):r.start.isDateWithUnknownYear()&&a.add(1,"years").isAfter(o)?(a=a.add(1,"years"),r.start.imply("year",a.year())):n.start.isDateWithUnknownYear()&&o.add(-1,"years").isBefore(a)?(o=o.add(-1,"years"),n.start.imply("year",o.year())):[r,n]=[n,r]}let i=n.clone();return i.start=n.start,i.end=r.start,i.index=Math.min(n.index,r.index),n.index<r.index?i.text=n.text+e+r.text:i.text=r.text+e+n.text,i}};var fc=class extends Ca{patternBetween(){return/^\s*(to|-|–|until|through|till)\s*$/i}};function eh(t,e){let n=t.clone(),r=t.start,i=e.start;if(n.start=sw(r,i),t.end!=null||e.end!=null){let o=t.end==null?t.start:t.end,a=e.end==null?e.start:e.end,u=sw(o,a);if(t.end==null&&u.date().getTime()<n.start.date().getTime()){let f=u.dayjs().add(1,"day");u.isCertain("day")?jn(u,f):hs(u,f)}n.end=u}return n}function sw(t,e){let n=t.clone();return e.isCertain("hour")?(n.assign("hour",e.get("hour")),n.assign("minute",e.get("minute")),e.isCertain("second")?(n.assign("second",e.get("second")),e.isCertain("millisecond")?n.assign("millisecond",e.get("millisecond")):n.imply("millisecond",e.get("millisecond"))):(n.imply("second",e.get("second")),n.imply("millisecond",e.get("millisecond")))):(n.imply("hour",e.get("hour")),n.imply("minute",e.get("minute")),n.imply("second",e.get("second")),n.imply("millisecond",e.get("millisecond"))),e.isCertain("timezoneOffset")&&n.assign("timezoneOffset",e.get("timezoneOffset")),e.isCertain("meridiem")?n.assign("meridiem",e.get("meridiem")):e.get("meridiem")!=null&&n.get("meridiem")==null&&n.imply("meridiem",e.get("meridiem")),n.get("meridiem")==Ye.PM&&n.get("hour")<12&&(e.isCertain("hour")?n.assign("hour",n.get("hour")+12):n.imply("hour",n.get("hour")+12)),n}var Sa=class extends Zi{shouldMergeResults(e,n,r){return(n.start.isOnlyDate()&&r.start.isOnlyTime()||r.start.isOnlyDate()&&n.start.isOnlyTime())&&e.match(this.patternBetween())!=null}mergeResults(e,n,r){let i=n.start.isOnlyDate()?eh(n,r):eh(r,n);return i.index=n.index,i.text=n.text+e+r.text,i}};var cc=class extends Sa{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-)?\\s*$")}};var _N=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i"),dc=class{constructor(e){this.timezoneOverrides=e}refine(e,n){var i;let r=(i=e.option.timezones)!=null?i:{};return n.forEach(o=>{var v,_;let a=e.text.substring(o.index+o.text.length),u=_N.exec(a);if(!u)return;let f=u[1].toUpperCase(),c=(_=(v=o.start.date())!=null?v:o.refDate)!=null?_:new Date,d=hr(hr({},this.timezoneOverrides),r),m=Jf(f,c,d);if(m==null)return;e.debug(()=>{console.log(`Extracting timezone: '${f}' into: ${m} for: ${o.start}`)});let h=o.start.get("timezoneOffset");h!==null&&m!=h&&(o.start.isCertain("timezoneOffset")||f!=u[1])||o.start.isOnlyDate()&&f!=u[1]||(o.text+=u[0],o.start.isCertain("timezoneOffset")||o.start.assign("timezoneOffset",m),o.end!=null&&!o.end.isCertain("timezoneOffset")&&o.end.assign("timezoneOffset",m))}),n}};var yN=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),wN=1,bN=2,kN=3,pc=class{refine(e,n){return n.forEach(function(r){if(r.start.isCertain("timezoneOffset"))return;let i=e.text.substring(r.index+r.text.length),o=yN.exec(i);if(!o)return;e.debug(()=>{console.log(`Extracting timezone: '${o[0]}' into : ${r}`)});let a=parseInt(o[bN]),u=parseInt(o[kN]||"0"),f=a*60+u;f>14*60||(o[wN]==="-"&&(f=-f),r.end!=null&&r.end.assign("timezoneOffset",f),r.start.assign("timezoneOffset",f),r.text+=o[0])}),n}};var ql=class{refine(e,n){if(n.length<2)return n;let r=[],i=n[0];for(let o=1;o<n.length;o++){let a=n[o];a.index<i.index+i.text.length?a.text.length>i.text.length&&(i=a):(r.push(i),i=a)}return i!=null&&r.push(i),r}};var aw=Me(yi());var mc=class{refine(e,n){return e.option.forwardDate&&n.forEach(function(r){let i=(0,aw.default)(e.refDate);if(r.start.isOnlyTime()&&i.isAfter(r.start.dayjs())&&(i=i.add(1,"day"),hs(r.start,i),r.end&&r.end.isOnlyTime()&&(hs(r.end,i),r.start.dayjs().isAfter(r.end.dayjs())&&(i=i.add(1,"day"),hs(r.end,i)))),r.start.isOnlyWeekdayComponent()&&i.isAfter(r.start.dayjs())&&(i.day()>=r.start.get("weekday")?i=i.day(r.start.get("weekday")+7):i=i.day(r.start.get("weekday")),r.start.imply("day",i.date()),r.start.imply("month",i.month()+1),r.start.imply("year",i.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${r} (${r.start})`)}),r.end&&r.end.isOnlyWeekdayComponent()&&(i.day()>r.end.get("weekday")?i=i.day(r.end.get("weekday")+7):i=i.day(r.end.get("weekday")),r.end.imply("day",i.date()),r.end.imply("month",i.month()+1),r.end.imply("year",i.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${r} (${r.end})`)}))),r.start.isDateWithUnknownYear()&&i.isAfter(r.start.dayjs()))for(let o=0;o<3&&i.isAfter(r.start.dayjs());o++)r.start.imply("year",r.start.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${r} (${r.start})`)}),r.end&&!r.end.isCertain("year")&&(r.end.imply("year",r.end.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${r} (${r.end})`)}))}),n}};var hc=class extends $m{constructor(e){super();this.strictMode=e}isValid(e,n){return n.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug(()=>{console.log(`Removing unlikely result '${n.text}'`)}),!1):n.start.isValidDate()?n.end&&!n.end.isValidDate()?(e.debug(()=>{console.log(`Removing invalid result: ${n} (${n.end})`)}),!1):this.strictMode?this.isStrictModeValid(e,n):!0:(e.debug(()=>{console.log(`Removing invalid result: ${n} (${n.start})`)}),!1)}isStrictModeValid(e,n){return n.start.isOnlyWeekdayComponent()?(e.debug(()=>{console.log(`(Strict) Removing weekday only component: ${n} (${n.end})`)}),!1):n.start.isOnlyTime()&&(!n.start.isCertain("hour")||!n.start.isCertain("minute"))?(e.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${n} (${n.end})`)}),!1):!0}};var EN=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(?:Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),TN=1,CN=2,SN=3,lw=4,DN=5,uw=6,fw=7,cw=8,dw=9,Da=class extends st{innerPattern(){return EN}innerExtract(e,n){let r={};if(r.year=parseInt(n[TN]),r.month=parseInt(n[CN]),r.day=parseInt(n[SN]),n[lw]!=null)if(r.hour=parseInt(n[lw]),r.minute=parseInt(n[DN]),n[uw]!=null&&(r.second=parseInt(n[uw])),n[fw]!=null&&(r.millisecond=parseInt(n[fw])),n[cw]==null)r.timezoneOffset=0;else{let i=parseInt(n[cw]),o=0;n[dw]!=null&&(o=parseInt(n[dw]));let a=i*60;a<0?a-=o:a+=o,r.timezoneOffset=a}return r}};var gc=class extends Zi{mergeResults(e,n,r){let i=r.clone();return i.index=n.index,i.text=n.text+e+i.text,i.start.assign("weekday",n.start.get("weekday")),i.end&&i.end.assign("weekday",n.start.get("weekday")),i}shouldMergeResults(e,n,r){return n.start.isOnlyWeekdayComponent()&&!n.start.isCertain("hour")&&r.start.isCertain("day")&&e.match(/^,?\s*$/)!=null}};function vc(t,e=!1){return t.parsers.unshift(new Da),t.refiners.unshift(new gc),t.refiners.unshift(new pc),t.refiners.unshift(new ql),t.refiners.push(new dc),t.refiners.push(new ql),t.refiners.push(new mc),t.refiners.push(new hc(e)),t}var kw=Me(yi());var Oa=Me(yi());function _c(t){let e=(0,Oa.default)(t.instant),n=new gt(t,{});return jn(n,e),Xf(n,e),t.timezoneOffset!==null&&n.assign("timezoneOffset",e.utcOffset()),n}function yc(t){let e=(0,Oa.default)(t.instant),n=new gt(t,{});return jn(n,e),Br(n,e),n}function pw(t){return ON(t,1)}function ON(t,e){return hw(t,-e)}function mw(t){return hw(t,1)}function hw(t,e){let n=(0,Oa.default)(t.instant),r=new gt(t,{});return n=n.add(e,"day"),jn(r,n),Br(r,n),r}function gw(t,e=22){let n=(0,Oa.default)(t.instant),r=new gt(t,{});return r.imply("hour",e),r.imply("meridiem",Ye.PM),jn(r,n),r}function vw(t,e=20){let n=new gt(t,{});return n.imply("meridiem",Ye.PM),n.imply("hour",e),n}function _w(t){let e=new gt(t,{}),n=(0,Oa.default)(t.instant);return n.hour()>2&&Zy(e,n),e.assign("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e}function yw(t,e=6){let n=new gt(t,{});return n.imply("meridiem",Ye.AM),n.imply("hour",e),n.imply("minute",0),n.imply("second",0),n.imply("millisecond",0),n}function ww(t,e=15){let n=new gt(t,{});return n.imply("meridiem",Ye.PM),n.imply("hour",e),n.imply("minute",0),n.imply("second",0),n.imply("millisecond",0),n}function bw(t){let e=new gt(t,{});return e.imply("meridiem",Ye.AM),e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e}var AN=/(now|today|tonight|tomorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i,wc=class extends st{innerPattern(e){return AN}innerExtract(e,n){let r=(0,kw.default)(e.refDate),i=n[0].toLowerCase(),o=e.createParsingComponents();switch(i){case"now":return _c(e.reference);case"today":return yc(e.reference);case"yesterday":return pw(e.reference);case"tomorrow":case"tmr":case"tmrw":return mw(e.reference);case"tonight":return gw(e.reference);default:i.match(/last\s*night/)&&(r.hour()>6&&(r=r.add(-1,"day")),jn(o,r),o.imply("hour",0));break}return o}};var MN=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|midday|noon)(?=\W|$)/i,bc=class extends st{innerPattern(){return MN}innerExtract(e,n){switch(n[1].toLowerCase()){case"afternoon":return ww(e.reference);case"evening":case"night":return vw(e.reference);case"midnight":return _w(e.reference);case"morning":return yw(e.reference);case"noon":case"midday":return bw(e.reference)}return null}};function kc(t,e,n){let r=t.getDateWithAdjustedTimezone(),i=xN(r,e,n),o=new gt(t);return o=ac(o,{day:i}),o.assign("weekday",e),o}function xN(t,e,n){let r=t.getDay();switch(n){case"this":return Ec(t,e);case"last":return Ew(t,e);case"next":return r==dn.SUNDAY?e==dn.SUNDAY?7:e:r==dn.SATURDAY?e==dn.SATURDAY?7:e==dn.SUNDAY?8:1+e:e<r&&e!=dn.SUNDAY?Ec(t,e):Ec(t,e)+7}return PN(t,e)}function PN(t,e){let n=Ew(t,e),r=Ec(t,e);return r<-n?r:n}function Ec(t,e){let n=t.getDay(),r=e-n;return r<0&&(r+=7),r}function Ew(t,e){let n=t.getDay(),r=e-n;return r>=0&&(r-=7),r}var NN=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${Ht(Hm)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),RN=1,IN=2,LN=3,Tc=class extends st{innerPattern(){return NN}innerExtract(e,n){let r=n[IN].toLowerCase(),i=Hm[r],o=n[RN],a=n[LN],u=o||a;u=u||"",u=u.toLowerCase();let f=null;return u=="last"||u=="past"?f="last":u=="next"?f="next":u=="this"&&(f="this"),kc(e.reference,i,f)}};var Tw=Me(yi());var FN=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${Ht(jl)})(?=\\s*)(?=\\W|$)`,"i"),WN=1,YN=2,Cc=class extends st{innerPattern(){return FN}innerExtract(e,n){let r=n[WN].toLowerCase(),i=n[YN].toLowerCase(),o=jl[i];if(r=="next"||r.startsWith("after")){let f={};return f[o]=1,gt.createRelativeFromReference(e.reference,f)}if(r=="last"||r=="past"){let f={};return f[o]=-1,gt.createRelativeFromReference(e.reference,f)}let a=e.createParsingComponents(),u=(0,Tw.default)(e.reference.instant);return i.match(/week/i)?(u=u.add(-u.get("d"),"d"),a.imply("day",u.date()),a.imply("month",u.month()+1),a.imply("year",u.year())):i.match(/month/i)?(u=u.add(-u.date()+1,"d"),a.imply("day",u.date()),a.assign("year",u.year()),a.assign("month",u.month()+1)):i.match(/year/i)&&(u=u.add(-u.date()+1,"d"),u=u.add(-u.month(),"month"),a.imply("day",u.date()),a.imply("month",u.month()+1),a.assign("year",u.year())),a}};var si=class{constructor(e){e=e||th(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new si({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,n,r){let i=this.parse(e,n,r);return i.length>0?i[0].start.date():null}parse(e,n,r){let i=new Cw(e,n,r),o=[];return this.parsers.forEach(a=>{let u=si.executeParser(i,a);o=o.concat(u)}),o.sort((a,u)=>a.index-u.index),this.refiners.forEach(function(a){o=a.refine(i,o)}),o}static executeParser(e,n){let r=[],i=n.pattern(e),o=e.text,a=e.text,u=i.exec(a);for(;u;){let f=u.index+o.length-a.length;u.index=f;let c=n.extract(e,u);if(!c){a=o.substring(u.index+1),u=i.exec(a);continue}let d=null;c instanceof So?d=c:c instanceof gt?(d=e.createParsingResult(u.index,u[0]),d.start=c):d=e.createParsingResult(u.index,u[0],c),e.debug(()=>console.log(`${n.constructor.name} extracted result ${d}`)),r.push(d),a=o.substring(f+d.text.length),u=i.exec(a)}return r}},Cw=class{constructor(e,n,r){this.text=e,this.reference=new zl(n),this.option=r!=null?r:{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof gt?e:new gt(this.reference,e)}createParsingResult(e,n,r,i){let o=typeof n=="string"?n:this.text.substring(e,n),a=r?this.createParsingComponents(r):null,u=i?this.createParsingComponents(i):null;return new So(this.reference,e,o,a,u)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}};var BN=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),Sc=1,GN=5,Sw=2,Dw=3,nh=4,Aa=class{constructor(e){this.groupNumberMonth=e?Dw:Sw,this.groupNumberDay=e?Sw:Dw}pattern(){return BN}extract(e,n){if(n[Sc].length==0&&n.index>0&&n.index<e.text.length){let f=e.text[n.index-1];if(f>="0"&&f<="9")return}let r=n.index+n[Sc].length,i=n[0].substr(n[Sc].length,n[0].length-n[Sc].length-n[GN].length);if(i.match(/^\d\.\d$/)||i.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!n[nh]&&n[0].indexOf("/")<0)return;let o=e.createParsingResult(r,i),a=parseInt(n[this.groupNumberMonth]),u=parseInt(n[this.groupNumberDay]);if((a<1||a>12)&&a>12)if(u>=1&&u<=12&&a<=31)[u,a]=[a,u];else return null;if(u<1||u>31)return null;if(o.start.assign("day",u),o.start.assign("month",a),n[nh]){let f=parseInt(n[nh]),c=ya(f);o.start.assign("year",c)}else{let f=wi(e.refDate,u,a);o.start.imply("year",f)}return o}};var jN=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${Ki})(?=\\W|$)`,"i"),UN=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${To})(?=\\W|$)`,"i"),Dc=class extends st{constructor(e=!0){super();this.allowAbbreviations=e}innerPattern(){return this.allowAbbreviations?jN:UN}innerExtract(e,n){let r=n[1].toLowerCase(),i=bi(n[2]);switch(r){case"last":case"past":case"-":i=Do(i);break}return gt.createRelativeFromReference(e.reference,i)}};function Ow(t){return t.text.match(/\s+(before|from)$/i)!=null}function zN(t){return t.text.match(/\s+(after|since)$/i)!=null}var Oc=class extends Zi{patternBetween(){return/^\s*$/i}shouldMergeResults(e,n,r){return!e.match(this.patternBetween())||!Ow(n)&&!zN(n)?!1:!!r.start.get("day")&&!!r.start.get("month")&&!!r.start.get("year")}mergeResults(e,n,r){let i=bi(n.text);Ow(n)&&(i=Do(i));let o=gt.createRelativeFromReference(new zl(r.start.date()),i);return new So(r.reference,n.index,`${n.text}${e}${r.text}`,o)}};var HN=new si(th(!1)),Tz=new si(rh(!0,!1)),Cz=new si(rh(!1,!0));function th(t=!1){let e=rh(!1,t);return e.parsers.unshift(new wc),e.parsers.unshift(new bc),e.parsers.unshift(new tc),e.parsers.unshift(new Cc),e.parsers.unshift(new Dc),e}function rh(t=!0,e=!1){return vc({parsers:[new Aa(e),new Qf(t),new $f,new ec,new Tc,new nc,new rc,new sc(t),new lc(t),new uc(t)],refiners:[new Oc,new cc,new fc]},t)}var Fc={};i_(Fc,{casual:()=>uh,createCasualConfiguration:()=>Uw,createConfiguration:()=>fh,parse:()=>s6,parseDate:()=>a6,strict:()=>o6});var Ac=class extends Vl{primaryPrefix(){return"(?:(?:um|von)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|bis)\\s*"}extractPrimaryTimeComponents(e,n){return n[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,n)}};var ih={sonntag:0,so:0,montag:1,mo:1,dienstag:2,di:2,mittwoch:3,mi:3,donnerstag:4,do:4,freitag:5,fr:5,samstag:6,sa:6},oh={januar:1,j\u00E4nner:1,janner:1,jan:1,"jan.":1,februar:2,feber:2,feb:2,"feb.":2,m\u00E4rz:3,maerz:3,m\u00E4r:3,"m\xE4r.":3,mrz:3,"mrz.":3,april:4,apr:4,"apr.":4,mai:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,august:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,dezember:12,dez:12,"dez.":12},sh={eins:1,eine:1,einem:1,einen:1,einer:1,zwei:2,drei:3,vier:4,f\u00FCnf:5,fuenf:5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,zw\u00F6lf:12,zwoelf:12},Kl={sek:"second",sekunde:"second",sekunden:"second",min:"minute",minute:"minute",minuten:"minute",h:"hour",std:"hour",stunde:"hour",stunden:"hour",tag:"d",tage:"d",tagen:"d",woche:"week",wochen:"week",monat:"month",monate:"month",monaten:"month",monats:"month",quartal:"quarter",quartals:"quarter",quartale:"quarter",quartalen:"quarter",a:"year",j:"year",jr:"year",jahr:"year",jahre:"year",jahren:"year",jahres:"year"},ah=`(?:${Ht(sh)}|[0-9]+|[0-9]+\\.[0-9]+|halb?|halbe?|einigen?|wenigen?|mehreren?)`;function lh(t){let e=t.toLowerCase();return sh[e]!==void 0?sh[e]:e==="ein"||e==="einer"||e==="einem"||e==="einen"||e==="eine"?1:e.match(/wenigen/)?2:e.match(/halb/)||e.match(/halben/)?.5:e.match(/einigen/)?3:e.match(/mehreren/)?7:parseFloat(e)}var Aw="(?:[0-9]{1,4}(?:\\s*[vn]\\.?\\s*(?:C(?:hr)?|(?:u\\.?|d\\.?(?:\\s*g\\.?)?)?\\s*Z)\\.?|\\s*(?:u\\.?|d\\.?(?:\\s*g\\.)?)\\s*Z\\.?)?)";function Mw(t){if(/v/i.test(t))return-parseInt(t.replace(/[^0-9]+/gi,""));if(/n/i.test(t))return parseInt(t.replace(/[^0-9]+/gi,""));if(/z/i.test(t))return parseInt(t.replace(/[^0-9]+/gi,""));let e=parseInt(t);return ya(e)}var xw=`(${ah})\\s{0,5}(${Ht(Kl)})\\s{0,5}`,Pw=new RegExp(xw,"i"),Nw=Gl("",xw);function Rw(t){let e={},n=t,r=Pw.exec(n);for(;r;)VN(e,r),n=n.substring(r[0].length),r=Pw.exec(n);return e}function VN(t,e){let n=lh(e[1]),r=Kl[e[2].toLowerCase()];t[r]=n}var qN=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:a[mn]\\s*?)?(?:(diese[mn]|letzte[mn]|n(?:\xE4|ae)chste[mn])\\s*)?(${Ht(ih)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(diese|letzte|n(?:\xE4|ae)chste)\\s*woche)?(?=\\W|$)`,"i"),KN=1,ZN=3,XN=2,Mc=class extends st{innerPattern(){return qN}innerExtract(e,n){let r=n[XN].toLowerCase(),i=ih[r],o=n[KN],a=n[ZN],u=o||a;u=u||"",u=u.toLowerCase();let f=null;return u.match(/letzte/)?f="last":u.match(/chste/)?f="next":u.match(/diese/)&&(f="this"),kc(e.reference,i,f)}};var JN=new RegExp("(^|\\s|T)(?:(?:um|von)\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),QN=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|bis(?:\\s+um)?|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),$N=2,Iw=3,Lw=4,Fw=5,gs=class{pattern(e){return JN}extract(e,n){let r=e.createParsingResult(n.index+n[1].length,n[0].substring(n[1].length));if(r.text.match(/^\d{4}$/)||(r.start=gs.extractTimeComponent(r.start.clone(),n),!r.start))return n.index+=n[0].length,null;let i=e.text.substring(n.index+n[0].length),o=QN.exec(i);return o&&(r.end=gs.extractTimeComponent(r.start.clone(),o),r.end&&(r.text+=o[0])),r}static extractTimeComponent(e,n){let r=0,i=0,o=null;if(r=parseInt(n[$N]),n[Iw]!=null&&(i=parseInt(n[Iw])),i>=60||r>24)return null;if(r>=12&&(o=Ye.PM),n[Fw]!=null){if(r>12)return null;let a=n[Fw].toLowerCase();a.match(/morgen|vormittag/)&&(o=Ye.AM,r==12&&(r=0)),a.match(/nachmittag|abend/)&&(o=Ye.PM,r!=12&&(r+=12)),a.match(/nacht/)&&(r==12?(o=Ye.AM,r=0):r<6?o=Ye.AM:(o=Ye.PM,r+=12))}if(e.assign("hour",r),e.assign("minute",i),o!==null?e.assign("meridiem",o):r<12?e.imply("meridiem",Ye.AM):e.imply("meridiem",Ye.PM),n[Lw]!=null){let a=parseInt(n[Lw]);if(a>=60)return null;e.assign("second",a)}return e}};var xc=class extends Ca{patternBetween(){return/^\s*(bis(?:\s*(?:am|zum))?|-)\s*$/i}};var Pc=class extends Sa{patternBetween(){return new RegExp("^\\s*(T|um|am|,|-)?\\s*$")}};var Yw=Me(yi());var Ww=Me(yi());var Oo=class extends st{innerPattern(e){return/(diesen)?\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht)(?=\W|$)/i}innerExtract(e,n){let r=(0,Ww.default)(e.refDate),i=n[2].toLowerCase(),o=e.createParsingComponents();return Br(o,r),Oo.extractTimeComponents(o,i)}static extractTimeComponents(e,n){switch(n){case"morgen":e.imply("hour",6),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Ye.AM);break;case"vormittag":e.imply("hour",9),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Ye.AM);break;case"mittag":case"mittags":e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Ye.AM);break;case"nachmittag":e.imply("hour",15),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Ye.PM);break;case"abend":e.imply("hour",18),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Ye.PM);break;case"nacht":e.imply("hour",22),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Ye.PM);break;case"mitternacht":e.get("hour")>1&&(e=ac(e,{day:1})),e.imply("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Ye.AM);break}return e}};var e6=new RegExp("(jetzt|heute|morgen|\xFCbermorgen|uebermorgen|gestern|vorgestern|letzte\\s*nacht)(?:\\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht))?(?=\\W|$)","i"),t6=1,n6=2,Nc=class extends st{innerPattern(e){return e6}innerExtract(e,n){let r=(0,Yw.default)(e.refDate),i=(n[t6]||"").toLowerCase(),o=(n[n6]||"").toLowerCase(),a=e.createParsingComponents();switch(i){case"jetzt":a=_c(e.reference);break;case"heute":a=yc(e.reference);break;case"morgen":Jm(a,r);break;case"\xFCbermorgen":case"uebermorgen":r=r.add(1,"day"),Jm(a,r);break;case"gestern":r=r.add(-1,"day"),jn(a,r),Br(a,r);break;case"vorgestern":r=r.add(-2,"day"),jn(a,r),Br(a,r);break;default:i.match(/letzte\s*nacht/)&&(r.hour()>6&&(r=r.add(-1,"day")),jn(a,r),a.imply("hour",0));break}return o&&(a=Oo.extractTimeComponents(a,o)),a}};var r6=new RegExp(`(?:am\\s*?)?(?:den\\s*?)?([0-9]{1,2})\\.(?:\\s*(?:bis(?:\\s*(?:am|zum))?|\\-|\\\u2013|\\s)\\s*([0-9]{1,2})\\.?)?\\s*(${Ht(oh)})(?:(?:-|/|,?\\s*)(${Aw}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),Bw=1,Gw=2,i6=3,jw=4,Rc=class extends st{innerPattern(){return r6}innerExtract(e,n){let r=e.createParsingResult(n.index,n[0]),i=oh[n[i6].toLowerCase()],o=parseInt(n[Bw]);if(o>31)return n.index=n.index+n[Bw].length,null;if(r.start.assign("month",i),r.start.assign("day",o),n[jw]){let a=Mw(n[jw]);r.start.assign("year",a)}else{let a=wi(e.refDate,o,i);r.start.imply("year",a)}if(n[Gw]){let a=parseInt(n[Gw]);r.end=r.start.clone(),r.end.assign("day",a)}return r}};var Ic=class extends st{constructor(){super()}innerPattern(){return new RegExp(`(?:\\s*((?:n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?|vor|in)\\s*)?(${ah})?(?:\\s*(n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?)?\\s*(${Ht(Kl)})`,"i")}innerExtract(e,n){let r=n[2]?lh(n[2]):1,i=Kl[n[4].toLowerCase()],o={};o[i]=r;let a=n[1]||n[3]||"";if(a=a.toLowerCase(),!!a)return(/vor/.test(a)||/letzte/.test(a)||/vergangen/.test(a))&&(o=Do(o)),gt.createRelativeFromReference(e.reference,o)}};var Lc=class extends st{innerPattern(){return new RegExp(`(?:in|f\xFCr|w\xE4hrend)\\s*(${Nw})(?=\\W|$)`,"i")}innerExtract(e,n){let r=Rw(n[1]);return gt.createRelativeFromReference(e.reference,r)}};var uh=new si(Uw()),o6=new si(fh(!0));function s6(t,e,n){return uh.parse(t,e,n)}function a6(t,e,n){return uh.parseDate(t,e,n)}function Uw(t=!0){let e=fh(!1,t);return e.parsers.unshift(new Oo),e.parsers.unshift(new Nc),e.parsers.unshift(new Ic),e}function fh(t=!0,e=!0){return vc({parsers:[new Da,new Aa(e),new Ac,new gs,new Rc,new Mc,new Lc],refiners:[new xc,new Pc]},t)}var Ye;(function(t){t[t.AM=0]="AM",t[t.PM=1]="PM"})(Ye||(Ye={}));var dn;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(dn||(dn={}));var kr;(function(t){t[t.JANUARY=1]="JANUARY",t[t.FEBRUARY=2]="FEBRUARY",t[t.MARCH=3]="MARCH",t[t.APRIL=4]="APRIL",t[t.MAY=5]="MAY",t[t.JUNE=6]="JUNE",t[t.JULY=7]="JULY",t[t.AUGUST=8]="AUGUST",t[t.SEPTEMBER=9]="SEPTEMBER",t[t.OCTOBER=10]="OCTOBER",t[t.NOVEMBER=11]="NOVEMBER",t[t.DECEMBER=12]="DECEMBER"})(kr||(kr={}));var l6=HN;function Wc(t,e,n){return l6.parseDate(t,e,n)}var od=Me(require("obsidian"));function u6(t){dt(t,"svelte-66wdl1","div.svelte-66wdl1{display:inline-block;vertical-align:middle;margin:0 3pt;border-width:calc(1em / 5);border-style:solid;border-radius:50%;animation:var(--duration) infinite svelte-66wdl1-rotate}@keyframes svelte-66wdl1-rotate{100%{transform:rotate(360deg)}}")}function f6(t){let e,n=`${t[0]} transparent ${t[0]}
  ${t[0]}`;return{c(){e=N("div"),he(e,"--duration",t[1]),k(e,"class","svelte-66wdl1"),he(e,"border-color",n),he(e,"width",t[2]),he(e,"height",t[2])},m(r,i){B(r,e,i)},p(r,[i]){i&2&&he(e,"--duration",r[1]);let o=i&2;(o||i&3&&n!==(n=`${r[0]} transparent ${r[0]}
  ${r[0]}`))&&he(e,"border-color",n),(o||i&6)&&he(e,"width",r[2]),(o||i&6)&&he(e,"height",r[2])},i:ve,o:ve,d(r){r&&W(e)}}}function c6(t,e,n){let{color:r="cornflowerblue"}=e,{duration:i="1.5s"}=e,{size:o="1em"}=e;return t.$$set=a=>{"color"in a&&n(0,r=a.color),"duration"in a&&n(1,i=a.duration),"size"in a&&n(2,o=a.size)},[r,i,o]}var zw=class extends We{constructor(e){super();je(this,e,c6,f6,Re,{color:0,duration:1,size:2},u6)}},ch=zw;function Yc(t){let e=t-1;return e*e*e+1}function Hw(t){return--t*t*t*t*t+1}function d6(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Vw(t){var{fallback:e}=t,n=d6(t,["fallback"]);let r=new Map,i=new Map;function o(u,f,c){let{delay:d=0,duration:m=L=>Math.sqrt(L)*30,easing:h=Yc}=vn(vn({},n),c),v=u.getBoundingClientRect(),_=f.getBoundingClientRect(),b=v.left-_.left,E=v.top-_.top,w=v.width/_.width,C=v.height/_.height,A=Math.sqrt(b*b+E*E),Y=getComputedStyle(f),M=Y.transform==="none"?"":Y.transform,P=+Y.opacity;return{delay:d,duration:nn(m)?m(A):m,easing:h,css:(L,S)=>`
				opacity: ${L*P};
				transform-origin: top left;
				transform: ${M} translate(${S*b}px,${S*E}px) scale(${L+(1-L)*w}, ${L+(1-L)*C});
			`}}function a(u,f,c){return(d,m)=>(u.set(m.key,d),()=>{if(f.has(m.key)){let h=f.get(m.key);return f.delete(m.key),o(h,d,m)}return u.delete(m.key),e&&e(d,m,c)})}return[a(i,r,!1),a(r,i,!0)]}function qw(t,{from:e,to:n},r={}){let i=getComputedStyle(t),o=i.transform==="none"?"":i.transform,[a,u]=i.transformOrigin.split(" ").map(parseFloat),f=e.left+e.width*a/n.width-(n.left+a),c=e.top+e.height*u/n.height-(n.top+u),{delay:d=0,duration:m=v=>Math.sqrt(v)*120,easing:h=Yc}=r;return{delay:d,duration:nn(m)?m(Math.sqrt(f*f+c*c)):m,easing:h,css:(v,_)=>{let b=_*f,E=_*c,w=v+_*e.width/n.width,C=v+_*e.height/n.height;return`transform: ${o} translate(${b}px, ${E}px) scale(${w}, ${C});`}}}function p6(t){let e,n,r=[t[0],{fill:"currentColor"},{viewBox:"0 0 16 16"}],i={};for(let o=0;o<r.length;o+=1)i=vn(i,r[o]);return{c(){e=ni("svg"),n=ni("path"),k(n,"d","M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"),hi(e,i)},m(o,a){B(o,e,a),x(e,n)},p(o,[a]){hi(e,i=_o(r,[a&1&&o[0],{fill:"currentColor"},{viewBox:"0 0 16 16"}]))},i:ve,o:ve,d(o){o&&W(e)}}}function m6(t,e,n){return t.$$set=r=>{n(0,e=vn(vn({},e),ti(r)))},e=ti(e),[e]}var Kw=class extends We{constructor(e){super();je(this,e,m6,p6,Re,{})}},dh=Kw;function h6(t){let e,n,r=[t[0],{viewBox:"0 0 24 24"},{fill:"currentColor"}],i={};for(let o=0;o<r.length;o+=1)i=vn(i,r[o]);return{c(){e=ni("svg"),n=ni("path"),k(n,"d","M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"),hi(e,i)},m(o,a){B(o,e,a),x(e,n)},p(o,[a]){hi(e,i=_o(r,[a&1&&o[0],{viewBox:"0 0 24 24"},{fill:"currentColor"}]))},i:ve,o:ve,d(o){o&&W(e)}}}function g6(t,e,n){return t.$$set=r=>{n(0,e=vn(vn({},e),ti(r)))},e=ti(e),[e]}var Zw=class extends We{constructor(e){super();je(this,e,g6,h6,Re,{})}},Bc=Zw;function v6(t){let e,n,r=[t[0],{viewBox:"0 0 24 24"},{fill:"currentColor"}],i={};for(let o=0;o<r.length;o+=1)i=vn(i,r[o]);return{c(){e=ni("svg"),n=ni("path"),k(n,"d","M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12s4.477 10 10 10Zm-4.906-3.68L18.32 7.094A8 8 0 0 1 7.094 18.32ZM5.68 16.906A8 8 0 0 1 16.906 5.68L5.68 16.906Z"),hi(e,i)},m(o,a){B(o,e,a),x(e,n)},p(o,[a]){hi(e,i=_o(r,[a&1&&o[0],{viewBox:"0 0 24 24"},{fill:"currentColor"}]))},i:ve,o:ve,d(o){o&&W(e)}}}function _6(t,e,n){return t.$$set=r=>{n(0,e=vn(vn({},e),ti(r)))},e=ti(e),[e]}var Xw=class extends We{constructor(e){super();je(this,e,_6,v6,Re,{})}},ph=Xw;var{Boolean:y6}=Df;function w6(t){dt(t,"svelte-1h68wu3",".svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect){position:relative;align-items:center;display:flex;cursor:text;box-sizing:border-box;border:var(--sms-border, 1pt solid lightgray);border-radius:var(--sms-border-radius, 3pt);background:var(--sms-bg);width:var(--sms-width);max-width:var(--sms-max-width);padding:var(--sms-padding, 0 3pt);color:var(--sms-text-color);font-size:var(--sms-font-size, inherit);min-height:var(--sms-min-height, 22pt);margin:var(--sms-margin)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect.open){z-index:var(--sms-open-z-index, 4)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect:focus-within){border:var(--sms-focus-border, 1pt solid var(--sms-active-color, cornflowerblue))}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect.disabled){background:var(--sms-disabled-bg, lightgray);cursor:not-allowed}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.selected){display:flex;flex:1;padding:0;margin:0;flex-wrap:wrap}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.selected > li){align-items:center;border-radius:3pt;display:flex;margin:2pt;line-height:normal;transition:0.3s;white-space:nowrap;background:var(--sms-selected-bg, rgba(0, 0, 0, 0.15));padding:var(--sms-selected-li-padding, 1pt 5pt);color:var(--sms-selected-text-color, var(--sms-text-color))}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.selected > li[draggable='true']){cursor:grab}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.selected > li.active){background:var(--sms-li-active-bg, var(--sms-active-color, rgba(0, 0, 0, 0.15)))}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect button){border-radius:50%;display:flex;transition:0.2s;color:inherit;background:transparent;border:none;cursor:pointer;outline:none;padding:0;margin:0 0 0 3pt}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect button.remove-all){margin:0 3pt}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(ul.selected > li button:hover, button.remove-all:hover, button:focus){color:var(--sms-remove-btn-hover-color, lightskyblue);background:var(--sms-remove-btn-hover-bg, rgba(0, 0, 0, 0.2))}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect input){margin:auto 0;padding:0}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.selected > input){border:none;outline:none;background:none;flex:1;min-width:2em;color:var(--sms-text-color);font-size:inherit;cursor:inherit;border-radius:0}div.multiselect.svelte-1h68wu3>ul.selected.svelte-1h68wu3>input.svelte-1h68wu3::placeholder{padding-left:5pt;color:var(--sms-placeholder-color);opacity:var(--sms-placeholder-opacity)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > input.form-control){width:2em;position:absolute;background:transparent;border:none;outline:none;z-index:-1;opacity:0;pointer-events:none}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.options){list-style:none;top:100%;left:0;width:100%;position:absolute;overflow:auto;transition:all 0.2s;box-sizing:border-box;background:var(--sms-options-bg, white);max-height:var(--sms-options-max-height, 50vh);overscroll-behavior:var(--sms-options-overscroll, none);box-shadow:var(--sms-options-shadow, 0 0 14pt -8pt black);border:var(--sms-options-border);border-width:var(--sms-options-border-width);border-radius:var(--sms-options-border-radius, 1ex);padding:var(--sms-options-padding);margin:var(--sms-options-margin, inherit)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.options.hidden){visibility:hidden;opacity:0;transform:translateY(50px)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.options > li){padding:3pt 2ex;cursor:pointer;scroll-margin:var(--sms-options-scroll-margin, 100px)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.options span){padding:3pt 2ex}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.options > li.selected){background:var(--sms-li-selected-bg);color:var(--sms-li-selected-color)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.options > li.active){background:var(--sms-li-active-bg, var(--sms-active-color, rgba(0, 0, 0, 0.15)))}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.options > li.disabled){cursor:not-allowed;background:var(--sms-li-disabled-bg, #f5f5f6);color:var(--sms-li-disabled-text, #b8b8b8)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(span.max-select-msg){padding:0 3pt}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3::highlight(search-results){color:var(--sms-highlight-color, orange);background:var(--sms-highlight-bg);text-decoration:var(--sms-highlight-text-decoration);text-decoration-color:var(--sms-highlight-text-decoration-color)}")}function Jw(t,e,n){let r=t.slice();r[111]=e[n],r[118]=n;let i=r[111]instanceof Object?r[111]:{label:r[111]};r[112]=i.label,r[41]=i.disabled!==void 0?i.disabled:null,r[113]=i.title!==void 0?i.title:null,r[114]=i.selectedTitle!==void 0?i.selectedTitle:null,r[115]=i.disabledTitle!==void 0?i.disabledTitle:r[13];let o=r[0]===r[118];return r[116]=o,r}var b6=t=>({option:t[0]&2}),Qw=t=>({option:t[111],idx:t[118]}),k6=t=>({}),$w=t=>({}),E6=t=>({}),eb=t=>({}),T6=t=>({}),tb=t=>({});function nb(t,e,n){let r=t.slice();return r[111]=e[n],r[118]=n,r}var C6=t=>({}),rb=t=>({}),S6=t=>({option:t[0]&16,idx:t[0]&16}),ib=t=>({option:t[111],idx:t[118]}),D6=t=>({open:t[0]&256}),ob=t=>({open:t[8]});function O6(t){let e,n;return e=new dh({props:{width:"15px",style:"min-width: 1em; padding: 0 1pt; cursor: pointer;"}}),{c(){rt(e.$$.fragment)},m(r,i){tt(e,r,i),n=!0},p:ve,i(r){n||(ie(e.$$.fragment,r),n=!0)},o(r){ce(e.$$.fragment,r),n=!1},d(r){Je(e,r)}}}function A6(t){let e=t[48](t[111])+"",n;return{c(){n=Fe(e)},m(r,i){B(r,n,i)},p(r,i){i[0]&16&&e!==(e=r[48](r[111])+"")&&Ve(n,e)},d(r){r&&W(n)}}}function M6(t){let e,n=t[48](t[111])+"",r;return{c(){e=new wf(!1),r=Lt(),e.a=r},m(i,o){e.m(n,i,o),B(i,r,o)},p(i,o){o[0]&16&&n!==(n=i[48](i[111])+"")&&e.p(n)},d(i){i&&W(r),i&&e.d()}}}function x6(t){let e;function n(o,a){return o[31]?M6:A6}let r=n(t,[-1,-1,-1,-1]),i=r(t);return{c(){i.c(),e=Lt()},m(o,a){i.m(o,a),B(o,e,a)},p(o,a){r===(r=n(o,a))&&i?i.p(o,a):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&W(e)}}}function sb(t){let e,n,r,i,o,a=t[69]["remove-icon"],u=Jr(a,t,t[108],rb),f=u||P6(t);function c(){return t[89](t[111])}function d(){return t[90](t[111])}return{c(){e=N("button"),f&&f.c(),k(e,"type","button"),k(e,"title",n=""+(t[35]+" "+t[48](t[111]))),k(e,"class","remove svelte-1h68wu3")},m(m,h){B(m,e,h),f&&f.m(e,null),r=!0,i||(o=[ne(e,"mouseup",mi(c)),ne(e,"keydown",function(){nn(t[54](d))&&t[54](d).apply(this,arguments)})],i=!0)},p(m,h){t=m,u&&u.p&&(!r||h[3]&32768)&&$r(u,a,t,t[108],r?Qr(a,t[108],h,C6):ei(t[108]),rb),(!r||h[0]&16|h[1]&16&&n!==(n=""+(t[35]+" "+t[48](t[111]))))&&k(e,"title",n)},i(m){r||(ie(f,m),r=!0)},o(m){ce(f,m),r=!1},d(m){m&&W(e),f&&f.d(m),i=!1,ze(o)}}}function P6(t){let e,n;return e=new Bc({props:{width:"15px"}}),{c(){rt(e.$$.fragment)},m(r,i){tt(e,r,i),n=!0},p:ve,i(r){n||(ie(e.$$.fragment,r),n=!0)},o(r){ce(e.$$.fragment,r),n=!1},d(r){Je(e,r)}}}function ab(t,e){let n,r,i,o,a,u=ve,f,c,d,m=e[69].selected,h=Jr(m,e,e[108],ib),v=h||x6(e),_=!e[41]&&(e[36]===null||e[4].length>e[36])&&sb(e);function b(){return e[91](e[118])}return{key:t,first:null,c(){n=N("li"),v&&v.c(),r=ee(),_&&_.c(),k(n,"class",i=""+(Ft(e[23])+" svelte-1h68wu3")),k(n,"draggable",o=e[38]&&!e[41]&&e[4].length>1),ke(n,"active",e[45]===e[118]),this.first=n},m(E,w){B(E,n,w),v&&v.m(n,null),x(n,r),_&&_.m(n,null),f=!0,c||(d=[ne(n,"dragstart",function(){nn(e[57](e[118]))&&e[57](e[118]).apply(this,arguments)}),ne(n,"drop",pi(function(){nn(e[56](e[118]))&&e[56](e[118]).apply(this,arguments)})),ne(n,"dragenter",b),ne(n,"dragover",pi(e[85]))],c=!0)},p(E,w){e=E,h?h.p&&(!f||w[0]&16|w[3]&32768)&&$r(h,m,e,e[108],f?Qr(m,e[108],w,S6):ei(e[108]),ib):v&&v.p&&(!f||w[0]&16|w[1]&1)&&v.p(e,f?w:[-1,-1,-1,-1]),!e[41]&&(e[36]===null||e[4].length>e[36])?_?(_.p(e,w),w[0]&16|w[1]&1056&&ie(_,1)):(_=sb(e),_.c(),ie(_,1),_.m(n,null)):_&&($e(),ce(_,1,1,()=>{_=null}),et()),(!f||w[0]&8388608&&i!==(i=""+(Ft(e[23])+" svelte-1h68wu3")))&&k(n,"class",i),(!f||w[0]&16|w[1]&1152&&o!==(o=e[38]&&!e[41]&&e[4].length>1))&&k(n,"draggable",o),(!f||w[0]&8388624|w[1]&16384)&&ke(n,"active",e[45]===e[118])},r(){a=n.getBoundingClientRect()},f(){b1(n),u()},a(){u(),u=w1(n,a,qw,{duration:100})},i(E){f||(ie(v,E),ie(_),f=!0)},o(E){ce(v,E),ce(_),f=!1},d(E){E&&W(n),v&&v.d(E),_&&_.d(),c=!1,ze(d)}}}function lb(t){let e,n=t[69].spinner,r=Jr(n,t,t[108],tb),i=r||N6(t);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){r&&r.p&&(!e||a[3]&32768)&&$r(r,n,o,o[108],e?Qr(n,o[108],a,T6):ei(o[108]),tb)},i(o){e||(ie(i,o),e=!0)},o(o){ce(i,o),e=!1},d(o){i&&i.d(o)}}}function N6(t){let e,n;return e=new ch({}),{c(){rt(e.$$.fragment)},m(r,i){tt(e,r,i),n=!0},i(r){n||(ie(e.$$.fragment,r),n=!0)},o(r){ce(e.$$.fragment,r),n=!1},d(r){Je(e,r)}}}function R6(t){let e,n,r,i=t[25]&&(t[25]>1||t[26])&&ub(t),o=t[25]!==1&&t[4].length>1&&fb(t);return{c(){i&&i.c(),e=ee(),o&&o.c(),n=Lt()},m(a,u){i&&i.m(a,u),B(a,e,u),o&&o.m(a,u),B(a,n,u),r=!0},p(a,u){a[25]&&(a[25]>1||a[26])?i?(i.p(a,u),u[0]&100663296&&ie(i,1)):(i=ub(a),i.c(),ie(i,1),i.m(e.parentNode,e)):i&&($e(),ce(i,1,1,()=>{i=null}),et()),a[25]!==1&&a[4].length>1?o?(o.p(a,u),u[0]&33554448&&ie(o,1)):(o=fb(a),o.c(),ie(o,1),o.m(n.parentNode,n)):o&&($e(),ce(o,1,1,()=>{o=null}),et())},i(a){r||(ie(i),ie(o),r=!0)},o(a){ce(i),ce(o),r=!1},d(a){i&&i.d(a),a&&W(e),o&&o.d(a),a&&W(n)}}}function I6(t){let e,n=t[69]["disabled-icon"],r=Jr(n,t,t[108],eb),i=r||W6(t);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){r&&r.p&&(!e||a[3]&32768)&&$r(r,n,o,o[108],e?Qr(n,o[108],a,E6):ei(o[108]),eb)},i(o){e||(ie(i,o),e=!0)},o(o){ce(i,o),e=!1},d(o){i&&i.d(o)}}}function ub(t){let e,n,r;function i(a){t[94](a)}let o={angle:20,$$slots:{default:[L6]},$$scope:{ctx:t}};return t[42]!==void 0&&(o.wiggle=t[42]),e=new mh({props:o}),Se.push(()=>Ke(e,"wiggle",i)),{c(){rt(e.$$.fragment)},m(a,u){tt(e,a,u),r=!0},p(a,u){let f={};u[0]&234881040|u[3]&32768&&(f.$$scope={dirty:u,ctx:a}),!n&&u[1]&2048&&(n=!0,f.wiggle=a[42],qe(()=>n=!1)),e.$set(f)},i(a){r||(ie(e.$$.fragment,a),r=!0)},o(a){ce(e.$$.fragment,a),r=!1},d(a){Je(e,a)}}}function L6(t){var o;let e,n=((o=t[26])==null?void 0:o.call(t,t[4].length,t[25]))+"",r,i;return{c(){e=N("span"),r=Fe(n),k(e,"class",i="max-select-msg "+t[27]+" svelte-1h68wu3")},m(a,u){B(a,e,u),x(e,r)},p(a,u){var f;u[0]&100663312&&n!==(n=((f=a[26])==null?void 0:f.call(a,a[4].length,a[25]))+"")&&Ve(r,n),u[0]&134217728&&i!==(i="max-select-msg "+a[27]+" svelte-1h68wu3")&&k(e,"class",i)},d(a){a&&W(e)}}}function fb(t){let e,n,r,i,o=t[69]["remove-icon"],a=Jr(o,t,t[108],$w),u=a||F6(t);return{c(){e=N("button"),u&&u.c(),k(e,"type","button"),k(e,"class","remove remove-all svelte-1h68wu3"),k(e,"title",t[34])},m(f,c){B(f,e,c),u&&u.m(e,null),n=!0,r||(i=[ne(e,"mouseup",mi(t[53])),ne(e,"keydown",t[54](t[53]))],r=!0)},p(f,c){a&&a.p&&(!n||c[3]&32768)&&$r(a,o,f,f[108],n?Qr(o,f[108],c,k6):ei(f[108]),$w),(!n||c[1]&8)&&k(e,"title",f[34])},i(f){n||(ie(u,f),n=!0)},o(f){ce(u,f),n=!1},d(f){f&&W(e),u&&u.d(f),r=!1,ze(i)}}}function F6(t){let e,n;return e=new Bc({props:{width:"15px"}}),{c(){rt(e.$$.fragment)},m(r,i){tt(e,r,i),n=!0},p:ve,i(r){n||(ie(e.$$.fragment,r),n=!0)},o(r){ce(e.$$.fragment,r),n=!1},d(r){Je(e,r)}}}function W6(t){let e,n;return e=new ph({props:{width:"14pt",style:"margin: 0 2pt;","data-name":"disabled-icon"}}),{c(){rt(e.$$.fragment)},m(r,i){tt(e,r,i),n=!0},p:ve,i(r){n||(ie(e.$$.fragment,r),n=!0)},o(r){ce(e.$$.fragment,r),n=!1},d(r){Je(e,r)}}}function cb(t){let e,n,r,i=t[1],o=[];for(let f=0;f<i.length;f+=1)o[f]=pb(Jw(t,i,f));let a=f=>ce(o[f],1,1,()=>{o[f]=null}),u=null;return i.length||(u=db(t)),{c(){e=N("ul");for(let f=0;f<o.length;f+=1)o[f].c();u&&u.c(),k(e,"class",n="options "+t[39]+" svelte-1h68wu3"),ke(e,"hidden",!t[8])},m(f,c){B(f,e,c);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(e,null);u&&u.m(e,null),t[106](e),r=!0},p(f,c){if(c[0]&543394843|c[1]&462849|c[3]&32768){i=f[1];let d;for(d=0;d<i.length;d+=1){let m=Jw(f,i,d);o[d]?(o[d].p(m,c),ie(o[d],1)):(o[d]=pb(m),o[d].c(),ie(o[d],1),o[d].m(e,null))}for($e(),d=i.length;d<o.length;d+=1)a(d);et(),!i.length&&u?u.p(f,c):i.length?u&&(u.d(1),u=null):(u=db(f),u.c(),u.m(e,null))}(!r||c[1]&256&&n!==(n="options "+f[39]+" svelte-1h68wu3"))&&k(e,"class",n),(!r||c[0]&256|c[1]&256)&&ke(e,"hidden",!f[8])},i(f){if(!r){for(let c=0;c<i.length;c+=1)ie(o[c]);r=!0}},o(f){o=o.filter(y6);for(let c=0;c<o.length;c+=1)ce(o[c]);r=!1},d(f){f&&W(e),Nt(o,f),u&&u.d(),t[106](null)}}}function db(t){let e;function n(o,a){return o[11]&&o[3]?B6:Y6}let r=n(t,[-1,-1,-1,-1]),i=r(t);return{c(){i.c(),e=Lt()},m(o,a){i.m(o,a),B(o,e,a)},p(o,a){r===(r=n(o,a))&&i?i.p(o,a):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&W(e)}}}function Y6(t){let e,n;return{c(){e=N("span"),n=Fe(t[29]),k(e,"class","svelte-1h68wu3")},m(r,i){B(r,e,i),x(e,n)},p(r,i){i[0]&536870912&&Ve(n,r[29])},d(r){r&&W(e)}}}function B6(t){let e,n=(!t[17]&&t[4].some(t[100])?t[16]:t[10])+"",r,i,o,a;return{c(){e=N("li"),r=Fe(n),i=ee(),k(e,"title",t[10]),k(e,"class","svelte-1h68wu3"),ke(e,"active",t[43])},m(u,f){B(u,e,f),x(e,r),x(e,i),o||(a=[ne(e,"mousedown",mi(t[71])),ne(e,"mouseup",mi(t[101])),ne(e,"mouseover",t[102]),ne(e,"focus",t[103]),ne(e,"mouseout",t[104]),ne(e,"blur",t[105])],o=!0)},p(u,f){f[0]&230424&&n!==(n=(!u[17]&&u[4].some(u[100])?u[16]:u[10])+"")&&Ve(r,n),f[0]&1024&&k(e,"title",u[10]),f[1]&4096&&ke(e,"active",u[43])},d(u){u&&W(e),o=!1,ze(a)}}}function G6(t){let e=t[48](t[111])+"",n;return{c(){n=Fe(e)},m(r,i){B(r,n,i)},p(r,i){i[0]&2&&e!==(e=r[48](r[111])+"")&&Ve(n,e)},d(r){r&&W(n)}}}function j6(t){let e,n=t[48](t[111])+"",r;return{c(){e=new wf(!1),r=Lt(),e.a=r},m(i,o){e.m(n,i,o),B(i,r,o)},p(i,o){o[0]&2&&n!==(n=i[48](i[111])+"")&&e.p(n)},d(i){i&&W(r),i&&e.d()}}}function U6(t){let e;function n(o,a){return o[31]?j6:G6}let r=n(t,[-1,-1,-1,-1]),i=r(t);return{c(){i.c(),e=Lt()},m(o,a){i.m(o,a),B(o,e,a)},p(o,a){r===(r=n(o,a))&&i?i.p(o,a):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&W(e)}}}function pb(t){let e,n,r,i,o,a,u,f=t[69].option,c=Jr(f,t,t[108],Qw),d=c||U6(t);function m(..._){return t[95](t[41],t[112],..._)}function h(){return t[96](t[41],t[118])}function v(){return t[97](t[41],t[118])}return{c(){e=N("li"),d&&d.c(),n=ee(),k(e,"title",r=t[41]?t[115]:t[47](t[112])&&t[114]||t[113]),k(e,"class",i=""+(t[22]+" "+(t[116]?t[21]:"")+" svelte-1h68wu3")),ke(e,"selected",t[47](t[112])),ke(e,"active",t[116]),ke(e,"disabled",t[41])},m(_,b){B(_,e,b),d&&d.m(e,null),x(e,n),o=!0,a||(u=[ne(e,"mousedown",mi(t[70])),ne(e,"mouseup",mi(m)),ne(e,"mouseover",h),ne(e,"focus",v),ne(e,"mouseout",t[98]),ne(e,"blur",t[99])],a=!0)},p(_,b){t=_,c?c.p&&(!o||b[0]&2|b[3]&32768)&&$r(c,f,t,t[108],o?Qr(f,t[108],b,b6):ei(t[108]),Qw):d&&d.p&&(!o||b[0]&2|b[1]&1)&&d.p(t,o?b:[-1,-1,-1,-1]),(!o||b[0]&2|b[1]&65536&&r!==(r=t[41]?t[115]:t[47](t[112])&&t[114]||t[113]))&&k(e,"title",r),(!o||b[0]&6291457&&i!==(i=""+(t[22]+" "+(t[116]?t[21]:"")+" svelte-1h68wu3")))&&k(e,"class",i),(!o||b[0]&6291459|b[1]&65536)&&ke(e,"selected",t[47](t[112])),(!o||b[0]&6291457)&&ke(e,"active",t[116]),(!o||b[0]&6291459)&&ke(e,"disabled",t[41])},i(_){o||(ie(d,_),o=!0)},o(_){ce(d,_),o=!1},d(_){_&&W(e),d&&d.d(_),a=!1,ze(u)}}}function z6(t){var se;let e,n,r,i,o,a,u,f=[],c=new Map,d,m,h,v,_,b,E,w,C,A,Y,M,P,L,S,F;rn(t[86]);let ae=t[69]["expand-icon"],z=Jr(ae,t,t[108],ob),X=z||O6(t),V=t[4],pe=j=>j[48](j[111]);for(let j=0;j<V.length;j+=1){let K=nb(t,V,j),Q=pe(K);c.set(Q,f[j]=ab(Q,K))}let O=t[24]&&lb(t),Z=[I6,R6],te=[];function U(j,K){return j[41]?0:j[4].length>0?1:-1}~(C=U(t,[-1,-1,-1,-1]))&&(A=te[C]=Z[C](t));let J=(t[3]&&t[29]||((se=t[2])==null?void 0:se.length)>0)&&cb(t);return{c(){e=N("div"),n=N("input"),o=ee(),X&&X.c(),a=ee(),u=N("ul");for(let j=0;j<f.length;j+=1)f[j].c();d=ee(),m=N("input"),E=ee(),O&&O.c(),w=ee(),A&&A.c(),Y=ee(),J&&J.c(),k(n,"name",t[28]),n.required=r=Boolean(t[37]),n.value=i=t[4].length>=t[37]?JSON.stringify(t[4]):null,k(n,"tabindex","-1"),k(n,"aria-hidden","true"),k(n,"aria-label","ignore this, used only to prevent form submission if select is required but empty"),k(n,"class","form-control svelte-1h68wu3"),k(m,"class",h=""+(Ft(t[19])+" svelte-1h68wu3")),k(m,"id",t[18]),m.disabled=t[41],k(m,"autocomplete",t[12]),k(m,"inputmode",t[20]),k(m,"pattern",t[32]),k(m,"placeholder",v=t[4].length==0?t[33]:null),k(m,"aria-invalid",_=t[7]?"true":null),k(m,"ondrop","return false"),k(u,"class",b="selected "+t[40]+" svelte-1h68wu3"),k(u,"aria-label","selected options"),k(e,"class",M="multiselect "+t[30]+" svelte-1h68wu3"),k(e,"title",P=t[41]?t[14]:null),k(e,"data-id",t[18]),ke(e,"disabled",t[41]),ke(e,"single",t[25]===1),ke(e,"open",t[8]),ke(e,"invalid",t[7])},m(j,K){B(j,e,K),x(e,n),t[87](n),x(e,o),X&&X.m(e,null),x(e,a),x(e,u);for(let Q=0;Q<f.length;Q+=1)f[Q]&&f[Q].m(u,null);x(u,d),x(u,m),t[92](m),go(m,t[3]),x(e,E),O&&O.m(e,null),x(e,w),~C&&te[C].m(e,null),x(e,Y),J&&J.m(e,null),t[107](e),L=!0,S||(F=[ne(window,"click",t[55]),ne(window,"touchstart",t[55]),ne(window,"resize",t[86]),ne(n,"invalid",t[88]),ne(m,"input",t[93]),ne(m,"mouseup",_1(mi(t[51]))),ne(m,"keydown",mi(t[52])),ne(m,"focus",t[72]),ne(m,"focus",t[51]),ne(m,"input",t[58]),ne(m,"blur",t[73]),ne(m,"change",t[74]),ne(m,"click",t[75]),ne(m,"keydown",t[76]),ne(m,"keyup",t[77]),ne(m,"mousedown",t[78]),ne(m,"mouseenter",t[79]),ne(m,"mouseleave",t[80]),ne(m,"touchcancel",t[81]),ne(m,"touchend",t[82]),ne(m,"touchmove",t[83]),ne(m,"touchstart",t[84]),ne(e,"mouseup",mi(t[51]))],S=!0)},p(j,K){var ge;if((!L||K[0]&268435456)&&k(n,"name",j[28]),(!L||K[1]&64&&r!==(r=Boolean(j[37])))&&(n.required=r),(!L||K[0]&16|K[1]&64&&i!==(i=j[4].length>=j[37]?JSON.stringify(j[4]):null)&&n.value!==i)&&(n.value=i),z&&z.p&&(!L||K[0]&256|K[3]&32768)&&$r(z,ae,j,j[108],L?Qr(ae,j[108],K,D6):ei(j[108]),ob),K[0]&8388624|K[1]&109724849|K[3]&32768){V=j[4],$e();for(let ue=0;ue<f.length;ue+=1)f[ue].r();f=aa(f,K,pe,1,j,V,c,u,A1,ab,d,nb);for(let ue=0;ue<f.length;ue+=1)f[ue].a();et()}(!L||K[0]&524288&&h!==(h=""+(Ft(j[19])+" svelte-1h68wu3")))&&k(m,"class",h),(!L||K[0]&262144)&&k(m,"id",j[18]),(!L||K[1]&1024)&&(m.disabled=j[41]),(!L||K[0]&4096)&&k(m,"autocomplete",j[12]),(!L||K[0]&1048576)&&k(m,"inputmode",j[20]),(!L||K[1]&2)&&k(m,"pattern",j[32]),(!L||K[0]&16|K[1]&4&&v!==(v=j[4].length==0?j[33]:null))&&k(m,"placeholder",v),(!L||K[0]&128&&_!==(_=j[7]?"true":null))&&k(m,"aria-invalid",_),K[0]&8&&m.value!==j[3]&&go(m,j[3]),(!L||K[1]&512&&b!==(b="selected "+j[40]+" svelte-1h68wu3"))&&k(u,"class",b),j[24]?O?(O.p(j,K),K[0]&16777216&&ie(O,1)):(O=lb(j),O.c(),ie(O,1),O.m(e,w)):O&&($e(),ce(O,1,1,()=>{O=null}),et());let Q=C;C=U(j,K),C===Q?~C&&te[C].p(j,K):(A&&($e(),ce(te[Q],1,1,()=>{te[Q]=null}),et()),~C?(A=te[C],A?A.p(j,K):(A=te[C]=Z[C](j),A.c()),ie(A,1),A.m(e,Y)):A=null),j[3]&&j[29]||((ge=j[2])==null?void 0:ge.length)>0?J?(J.p(j,K),K[0]&536870924&&ie(J,1)):(J=cb(j),J.c(),ie(J,1),J.m(e,null)):J&&($e(),ce(J,1,1,()=>{J=null}),et()),(!L||K[0]&1073741824&&M!==(M="multiselect "+j[30]+" svelte-1h68wu3"))&&k(e,"class",M),(!L||K[0]&16384|K[1]&1024&&P!==(P=j[41]?j[14]:null))&&k(e,"title",P),(!L||K[0]&262144)&&k(e,"data-id",j[18]),(!L||K[0]&1073741824|K[1]&1024)&&ke(e,"disabled",j[41]),(!L||K[0]&1107296256)&&ke(e,"single",j[25]===1),(!L||K[0]&1073742080)&&ke(e,"open",j[8]),(!L||K[0]&1073741952)&&ke(e,"invalid",j[7])},i(j){if(!L){ie(X,j);for(let K=0;K<V.length;K+=1)ie(f[K]);ie(O),ie(A),ie(J),L=!0}},o(j){ce(X,j);for(let K=0;K<f.length;K+=1)ce(f[K]);ce(O),ce(A),ce(J),L=!1},d(j){j&&W(e),t[87](null),X&&X.d(j);for(let K=0;K<f.length;K+=1)f[K].d();t[92](null),O&&O.d(),~C&&te[C].d(),J&&J.d(),t[107](null),S=!1,ze(F)}}}function H6(t,e,n){var fu;let r,{$$slots:i={},$$scope:o}=e,{activeIndex:a=null}=e,{activeOption:u=null}=e,{createOptionMsg:f="Create this option..."}=e,{allowUserOptions:c=!1}=e,{allowEmpty:d=!1}=e,{autocomplete:m="off"}=e,{autoScroll:h=!0}=e,{breakpoint:v=800}=e,{defaultDisabledTitle:_="This option is disabled"}=e,{disabled:b=!1}=e,{disabledInputTitle:E="This input is disabled"}=e,{duplicateFunc:w=(R,He)=>`${Vt(R)}`.toLowerCase()===`${Vt(He)}`.toLowerCase()}=e,{duplicateOptionMsg:C="This option is already selected"}=e,{duplicates:A=!1}=e,{filterFunc:Y=(R,He)=>He?`${Vt(R)}`.toLowerCase().includes(He.toLowerCase()):!0}=e,{focusInputOnSelect:M="desktop"}=e,{form_input:P=null}=e,{highlightMatches:L=!0}=e,{id:S=null}=e,{input:F=null}=e,{inputClass:ae=""}=e,{inputmode:z=null}=e,{invalid:X=!1}=e,{liActiveOptionClass:V=""}=e,{liOptionClass:pe=""}=e,{liSelectedClass:O=""}=e,{loading:Z=!1}=e,{matchingOptions:te=[]}=e,{maxSelect:U=null}=e,{maxSelectMsg:J=(R,He)=>He>1?`${R}/${He}`:""}=e,{maxSelectMsgClass:se=""}=e,{name:j=null}=e,{noMatchingOptionsMsg:K="No matching options"}=e,{open:Q=!1}=e,{options:ge}=e,{outerDiv:ue=null}=e,{outerDivClass:_e=""}=e,{parseLabelsAsHtml:De=!1}=e,{pattern:nt=null}=e,{placeholder:ut=null}=e,{removeAllTitle:ye="Remove all"}=e,{removeBtnTitle:Ee="Remove"}=e,{minSelect:pt=null}=e,{required:Tt=!1}=e,{resetFilterOnAdd:On=!0}=e,{searchText:ft=""}=e,{selected:Ze=(fu=ge==null?void 0:ge.filter(R=>R instanceof Object&&(R==null?void 0:R.preselected)).slice(0,U!=null?U:void 0))!=null?fu:[]}=e,{sortSelected:$n=!1}=e,{selectedOptionsDraggable:ar=!$n}=e,{ulOptionsClass:yn=""}=e,{ulSelectedClass:wn=""}=e,{value:Un=null}=e,Vt=R=>R instanceof Object?(R.label===void 0&&console.error(`MultiSelect option ${JSON.stringify(R)} is an object but has no label key`),R.label):R,zn=!1;(ge==null?void 0:ge.length)>0||(c||Z||b||d?ge=[]:console.error("MultiSelect received no options")),U!==null&&U<1&&console.error(`MultiSelect's maxSelect must be null or positive integer, got ${U}`),Array.isArray(Ze)||console.error(`MultiSelect's selected prop should always be an array, got ${Ze}`),U&&typeof Tt=="number"&&Tt>U&&console.error(`MultiSelect maxSelect=${U} < required=${Tt}, makes it impossible for users to submit a valid form`),De&&c&&console.warn("Don't combine parseLabelsAsHtml and allowUserOptions. It's susceptible to XSS attacks!"),$n&&ar&&console.warn("MultiSelect's sortSelected and selectedOptionsDraggable should not be combined as any user re-orderings of selected options will be undone by sortSelected on component re-renders.");let An=Al(),bn=!1,Hn;if(a!==null&&!te[a])throw`Run time error, activeIndex=${a} is out of bounds, matchingOptions.length=${te.length}`;function er(R,He){U&&U>1&&Ze.length>=U&&n(42,zn=!0),!isNaN(Number(R))&&typeof Ze.map(Vt)[0]=="number"&&(R=Number(R));let xt=Ze.some(St=>w(St,R));if((U===null||U===1||Ze.length<U)&&(A||!xt)){let St=ge.find(Gr=>Vt(Gr)===R);if(!St&&[!0,"append"].includes(c)&&ft.length>0&&(typeof ge[0]=="object"?St={label:ft}:(["number","undefined"].includes(typeof ge[0])&&!isNaN(Number(ft))?St=Number(ft):St=ft,An("create",{option:St})),c==="append"&&n(2,ge=[...ge,St])),St===void 0)throw`Run time error, option with label ${R} not found in options list`;if(On&&n(3,ft=""),["",void 0,null].includes(St)){console.error(`MultiSelect: encountered missing option with label ${R} (or option is poorly labeled)`);return}U===1?n(4,Ze=[St]):(n(4,Ze=[...Ze,St]),$n===!0?n(4,Ze=Ze.sort((Gr,Ga)=>{let[Yo,li]=[Vt(Gr),Vt(Ga)];return`${Yo}`.localeCompare(`${li}`)})):typeof $n=="function"&&n(4,Ze=Ze.sort($n))),Ze.length===U?ai(He):(M===!0||M==="desktop"&&Hn>v)&&(F==null||F.focus()),An("add",{option:St}),An("change",{option:St,type:"add"}),n(7,X=!1),P==null||P.setCustomValidity("")}}function tr(R){if(Ze.length===0)return;let He=Ze.find(xt=>Vt(xt)===R);if(He===void 0&&c&&(He=typeof ge[0]=="object"?{label:R}:R),He===void 0)return console.error(`Multiselect can't remove selected option ${R}, not found in selected list`);n(4,Ze=Ze.filter(xt=>Vt(xt)!==R)),n(7,X=!1),P==null||P.setCustomValidity(""),An("remove",{option:He}),An("change",{option:He,type:"remove"})}function $i(R){b||(n(8,Q=!0),R instanceof FocusEvent||F==null||F.focus(),An("open",{event:R}))}function ai(R){n(8,Q=!1),F==null||F.blur(),n(0,a=null),An("close",{event:R})}function Fo(R){return $(this,null,function*(){var He;if(R.key==="Escape"||R.key==="Tab")ai(R),n(3,ft="");else if(R.key==="Enter")if(R.preventDefault(),u){let xt=Vt(u);Ze.map(Vt).includes(xt)?tr(xt):er(xt,R),n(3,ft="")}else c&&ft.length>0?er(ft,R):$i(R);else if(["ArrowDown","ArrowUp"].includes(R.key)){if(a===null&&te.length>0){n(0,a=0);return}else if(c&&!te.length&&ft.length>0){n(43,bn=!bn);return}else if(a===null)return;R.preventDefault();let xt=R.key==="ArrowUp"?-1:1;if(n(0,a=(a+xt)%te.length),a<0&&n(0,a=te.length-1),h){yield Tf();let St=document.querySelector("ul.options > li.active");St&&((He=St.scrollIntoViewIfNeeded)==null||He.call(St))}}else R.key==="Backspace"&&Ze.length>0&&!ft?tr(Ze.map(Vt).at(-1)):te.length>0&&n(0,a=0)})}function Wo(){n(4,Ze=[]),n(3,ft=""),An("removeAll",{options:Ze}),An("change",{options:Ze,type:"removeAll"})}let re=R=>He=>{["Enter","Space"].includes(He.code)&&(He.preventDefault(),R())};function xe(R){ue&&!ue.contains(R.target)&&ai(R)}let Ct=null,At=R=>He=>{if(!He.dataTransfer)return;He.dataTransfer.dropEffect="move";let xt=parseInt(He.dataTransfer.getData("text/plain")),St=[...Ze];xt<R?(St.splice(R+1,0,St[xt]),St.splice(xt,1)):(St.splice(R,0,St[xt]),St.splice(xt+1,1)),n(4,Ze=St),n(45,Ct=null)},lr=R=>He=>{!He.dataTransfer||(He.dataTransfer.effectAllowed="move",He.dataTransfer.dropEffect="move",He.dataTransfer.setData("text/plain",`${R}`))},Si;function Cs(R){var Yo;if(!L||typeof CSS=="undefined"||!CSS.highlights)return;CSS.highlights.clear();let He=(Yo=R==null?void 0:R.target)==null?void 0:Yo.value.trim().toLowerCase();if(!He)return;let xt=document.createTreeWalker(Si,NodeFilter.SHOW_TEXT),St=[],Gr=xt.nextNode();for(;Gr;)St.push(Gr),Gr=xt.nextNode();let Ga=St.map(li=>{let ja=li.textContent.toLowerCase(),cu=[],As=0;for(;As<ja.length;){let Di=ja.indexOf(He,As);if(Di===-1)break;cu.push(Di),As=Di+He.length}return cu.map(Di=>{let Bo=new Range;return Bo.setStart(li,Di),Bo.setEnd(li,Di+He.length),Bo})});CSS.highlights.set("search-results",new Highlight(...Ga.flat()))}function Ss(R){Pn.call(this,t,R)}function ad(R){Pn.call(this,t,R)}function ld(R){Pn.call(this,t,R)}function ud(R){Pn.call(this,t,R)}function fd(R){Pn.call(this,t,R)}function ou(R){Pn.call(this,t,R)}function cd(R){Pn.call(this,t,R)}function dd(R){Pn.call(this,t,R)}function pd(R){Pn.call(this,t,R)}function Ya(R){Pn.call(this,t,R)}function md(R){Pn.call(this,t,R)}function Ba(R){Pn.call(this,t,R)}function hd(R){Pn.call(this,t,R)}function gd(R){Pn.call(this,t,R)}function vd(R){Pn.call(this,t,R)}function _d(R){Pn.call(this,t,R)}function yd(){n(44,Hn=window.innerWidth)}function wd(R){Se[R?"unshift":"push"](()=>{P=R,n(5,P)})}let bd=()=>{n(7,X=!0);let R;U&&U>1&&Tt>1?R=`Please select between ${Tt} and ${U} options`:Tt>1?R=`Please select at least ${Tt} options`:R="Please select an option",P==null||P.setCustomValidity(R)},kd=R=>tr(Vt(R)),su=R=>tr(Vt(R)),Ed=R=>n(45,Ct=R);function Td(R){Se[R?"unshift":"push"](()=>{F=R,n(6,F)})}function Cd(){ft=this.value,n(3,ft)}function Sd(R){zn=R,n(42,zn)}let Dd=(R,He,xt)=>{R||er(He,xt)},Od=(R,He)=>{R||n(0,a=He)},Ds=(R,He)=>{R||n(0,a=He)},Ad=()=>n(0,a=null),Os=()=>n(0,a=null),Md=R=>w(R,ft),xd=R=>er(ft,R),Pd=()=>n(43,bn=!0),au=()=>n(43,bn=!0),lu=()=>n(43,bn=!1),uu=()=>n(43,bn=!1);function Nd(R){Se[R?"unshift":"push"](()=>{Si=R,n(46,Si)})}function Rd(R){Se[R?"unshift":"push"](()=>{ue=R,n(9,ue)})}return t.$$set=R=>{"activeIndex"in R&&n(0,a=R.activeIndex),"activeOption"in R&&n(59,u=R.activeOption),"createOptionMsg"in R&&n(10,f=R.createOptionMsg),"allowUserOptions"in R&&n(11,c=R.allowUserOptions),"allowEmpty"in R&&n(61,d=R.allowEmpty),"autocomplete"in R&&n(12,m=R.autocomplete),"autoScroll"in R&&n(62,h=R.autoScroll),"breakpoint"in R&&n(63,v=R.breakpoint),"defaultDisabledTitle"in R&&n(13,_=R.defaultDisabledTitle),"disabled"in R&&n(41,b=R.disabled),"disabledInputTitle"in R&&n(14,E=R.disabledInputTitle),"duplicateFunc"in R&&n(15,w=R.duplicateFunc),"duplicateOptionMsg"in R&&n(16,C=R.duplicateOptionMsg),"duplicates"in R&&n(17,A=R.duplicates),"filterFunc"in R&&n(64,Y=R.filterFunc),"focusInputOnSelect"in R&&n(65,M=R.focusInputOnSelect),"form_input"in R&&n(5,P=R.form_input),"highlightMatches"in R&&n(66,L=R.highlightMatches),"id"in R&&n(18,S=R.id),"input"in R&&n(6,F=R.input),"inputClass"in R&&n(19,ae=R.inputClass),"inputmode"in R&&n(20,z=R.inputmode),"invalid"in R&&n(7,X=R.invalid),"liActiveOptionClass"in R&&n(21,V=R.liActiveOptionClass),"liOptionClass"in R&&n(22,pe=R.liOptionClass),"liSelectedClass"in R&&n(23,O=R.liSelectedClass),"loading"in R&&n(24,Z=R.loading),"matchingOptions"in R&&n(1,te=R.matchingOptions),"maxSelect"in R&&n(25,U=R.maxSelect),"maxSelectMsg"in R&&n(26,J=R.maxSelectMsg),"maxSelectMsgClass"in R&&n(27,se=R.maxSelectMsgClass),"name"in R&&n(28,j=R.name),"noMatchingOptionsMsg"in R&&n(29,K=R.noMatchingOptionsMsg),"open"in R&&n(8,Q=R.open),"options"in R&&n(2,ge=R.options),"outerDiv"in R&&n(9,ue=R.outerDiv),"outerDivClass"in R&&n(30,_e=R.outerDivClass),"parseLabelsAsHtml"in R&&n(31,De=R.parseLabelsAsHtml),"pattern"in R&&n(32,nt=R.pattern),"placeholder"in R&&n(33,ut=R.placeholder),"removeAllTitle"in R&&n(34,ye=R.removeAllTitle),"removeBtnTitle"in R&&n(35,Ee=R.removeBtnTitle),"minSelect"in R&&n(36,pt=R.minSelect),"required"in R&&n(37,Tt=R.required),"resetFilterOnAdd"in R&&n(67,On=R.resetFilterOnAdd),"searchText"in R&&n(3,ft=R.searchText),"selected"in R&&n(4,Ze=R.selected),"sortSelected"in R&&n(68,$n=R.sortSelected),"selectedOptionsDraggable"in R&&n(38,ar=R.selectedOptionsDraggable),"ulOptionsClass"in R&&n(39,yn=R.ulOptionsClass),"ulSelectedClass"in R&&n(40,wn=R.ulSelectedClass),"value"in R&&n(60,Un=R.value),"$$scope"in R&&n(108,o=R.$$scope)},t.$$.update=()=>{var R,He;if(t.$$.dirty[0]&33554448){e:n(60,Un=U===1?(R=Ze[0])!=null?R:null:Ze)}if(t.$$.dirty[0]&28|t.$$.dirty[2]&4){e:n(1,te=ge.filter(xt=>Y(xt,ft)&&!Ze.map(Vt).includes(Vt(xt))))}if(t.$$.dirty[0]&3){e:n(59,u=(He=te[a!=null?a:-1])!=null?He:null)}if(t.$$.dirty[0]&16){e:n(47,r=xt=>Ze.map(Vt).includes(xt))}},[a,te,ge,ft,Ze,P,F,X,Q,ue,f,c,m,_,E,w,C,A,S,ae,z,V,pe,O,Z,U,J,se,j,K,_e,De,nt,ut,ye,Ee,pt,Tt,ar,yn,wn,b,zn,bn,Hn,Ct,Si,r,Vt,er,tr,$i,Fo,Wo,re,xe,At,lr,Cs,u,Un,d,h,v,Y,M,L,On,$n,i,Ss,ad,ld,ud,fd,ou,cd,dd,pd,Ya,md,Ba,hd,gd,vd,_d,yd,wd,bd,kd,su,Ed,Td,Cd,Sd,Dd,Od,Ds,Ad,Os,Md,xd,Pd,au,lu,uu,Nd,Rd,o]}var mb=class extends We{constructor(e){super();je(this,e,H6,z6,Re,{activeIndex:0,activeOption:59,createOptionMsg:10,allowUserOptions:11,allowEmpty:61,autocomplete:12,autoScroll:62,breakpoint:63,defaultDisabledTitle:13,disabled:41,disabledInputTitle:14,duplicateFunc:15,duplicateOptionMsg:16,duplicates:17,filterFunc:64,focusInputOnSelect:65,form_input:5,highlightMatches:66,id:18,input:6,inputClass:19,inputmode:20,invalid:7,liActiveOptionClass:21,liOptionClass:22,liSelectedClass:23,loading:24,matchingOptions:1,maxSelect:25,maxSelectMsg:26,maxSelectMsgClass:27,name:28,noMatchingOptionsMsg:29,open:8,options:2,outerDiv:9,outerDivClass:30,parseLabelsAsHtml:31,pattern:32,placeholder:33,removeAllTitle:34,removeBtnTitle:35,minSelect:36,required:37,resetFilterOnAdd:67,searchText:3,selected:4,sortSelected:68,selectedOptionsDraggable:38,ulOptionsClass:39,ulSelectedClass:40,value:60},w6,[-1,-1,-1,-1])}},Ma=mb;var xa=[];function hb(t,e){return{subscribe:hh(t,e).subscribe}}function hh(t,e=ve){let n,r=new Set;function i(u){if(Re(t,u)&&(t=u,n)){let f=!xa.length;for(let c of r)c[1](),xa.push(c,t);if(f){for(let c=0;c<xa.length;c+=2)xa[c][0](xa[c+1]);xa.length=0}}}function o(u){i(u(t))}function a(u,f=ve){let c=[u,f];return r.add(c),r.size===1&&(n=e(i)||ve),u(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:a}}function gb(t){return Object.prototype.toString.call(t)==="[object Date]"}function gh(t,e,n,r){if(typeof n=="number"||gb(n)){let i=r-n,o=(n-e)/(t.dt||1/60),a=t.opts.stiffness*i,u=t.opts.damping*o,f=(a-u)*t.inv_mass,c=(o+f)*t.dt;return Math.abs(c)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,gb(n)?new Date(n.getTime()+c):n+c)}else{if(Array.isArray(n))return n.map((i,o)=>gh(t,e[o],n[o],r[o]));if(typeof n=="object"){let i={};for(let o in n)i[o]=gh(t,e[o],n[o],r[o]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function Gc(t,e={}){let n=hh(t),{stiffness:r=.15,damping:i=.8,precision:o=.01}=e,a,u,f,c=t,d=t,m=1,h=0,v=!1;function _(E,w={}){d=E;let C=f={};if(t==null||w.hard||b.stiffness>=1&&b.damping>=1)return v=!0,a=ea(),c=E,n.set(t=d),Promise.resolve();if(w.soft){let A=w.soft===!0?.5:+w.soft;h=1/(A*60),m=0}return u||(a=ea(),v=!1,u=Sl(A=>{if(v)return v=!1,u=null,!1;m=Math.min(m+h,1);let Y={inv_mass:m,opts:b,settled:!0,dt:(A-a)*60/1e3},M=gh(Y,c,t,d);return a=A,c=t,n.set(t=M),Y.settled&&(u=null),!Y.settled})),new Promise(A=>{u.promise.then(()=>{C===f&&A()})})}let b={set:_,update:(E,w)=>_(E(d,t),w),subscribe:n.subscribe,stiffness:r,damping:i,precision:o};return b}function V6(t){let e,n=`rotate(${t[0].angle}deg) scale(${t[0].scale}) translate(${t[0].dx}px,
  ${t[0].dy}px)`,r,i=t[11].default,o=Jr(i,t,t[10],null);return{c(){e=N("span"),o&&o.c(),he(e,"transform",n)},m(a,u){B(a,e,u),o&&o.m(e,null),r=!0},p(a,[u]){o&&o.p&&(!r||u&1024)&&$r(o,i,a,a[10],r?Qr(i,a[10],u,null):ei(a[10]),null),u&1&&n!==(n=`rotate(${a[0].angle}deg) scale(${a[0].scale}) translate(${a[0].dx}px,
  ${a[0].dy}px)`)&&he(e,"transform",n)},i(a){r||(ie(o,a),r=!0)},o(a){ce(o,a),r=!1},d(a){a&&W(e),o&&o.d(a)}}}function q6(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{wiggle:a=!1}=e,{angle:u=0}=e,{scale:f=1}=e,{dx:c=0}=e,{dy:d=0}=e,{duration:m=200}=e,{stiffness:h=.05}=e,{damping:v=.1}=e,_={angle:0,scale:1,dx:0,dy:0},b=Gc(_,{stiffness:h,damping:v});return _f(t,b,E=>n(0,r=E)),t.$$set=E=>{"wiggle"in E&&n(2,a=E.wiggle),"angle"in E&&n(3,u=E.angle),"scale"in E&&n(4,f=E.scale),"dx"in E&&n(5,c=E.dx),"dy"in E&&n(6,d=E.dy),"duration"in E&&n(7,m=E.duration),"stiffness"in E&&n(8,h=E.stiffness),"damping"in E&&n(9,v=E.damping),"$$scope"in E&&n(10,o=E.$$scope)},t.$$.update=()=>{if(t.$$.dirty&132){e:a&&setTimeout(()=>n(2,a=!1),m)}if(t.$$.dirty&124){e:b.set(a?{scale:f,angle:u,dx:c,dy:d}:_)}},[r,b,a,u,f,c,d,m,h,v,o,i]}var vb=class extends We{constructor(e){super();je(this,e,q6,V6,Re,{wiggle:2,angle:3,scale:4,dx:5,dy:6,duration:7,stiffness:8,damping:9})}},mh=vb;function K6(t=!0){let e=this,n=new IntersectionObserver(function([r]){let i=r.intersectionRatio;if(i<1){let o=i<=0&&t?"center":"nearest";e.scrollIntoView({block:o,inline:o})}this.disconnect()});return n.observe(this),n}var _b;typeof Element!="undefined"&&!((_b=Element.prototype)==null?void 0:_b.scrollIntoViewIfNeeded)&&typeof IntersectionObserver!="undefined"&&(Element.prototype.scrollIntoViewIfNeeded=K6);function Z6(t){dt(t,"svelte-1hozll4",'.switch.svelte-1hozll4.svelte-1hozll4{position:relative;display:inline-block;width:60px;height:34px}.switch.svelte-1hozll4 input.svelte-1hozll4{opacity:0;width:0;height:0}.slider.svelte-1hozll4.svelte-1hozll4{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#99a2a2;-webkit-transition:0.4s;transition:0.4s;border-radius:34px}.slider.svelte-1hozll4.svelte-1hozll4:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#d7dada;-webkit-transition:0.4s;transition:0.4s;border-radius:50%}input.svelte-1hozll4:checked+.slider.svelte-1hozll4{background-color:#2a4f4f}input.svelte-1hozll4:checked+.slider.svelte-1hozll4{box-shadow:0 0 1px #2a4f4f}input.svelte-1hozll4:checked+.slider.svelte-1hozll4:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px)}')}function X6(t){let e,n,r,i,o,a;return{c(){e=N("label"),n=N("input"),r=ee(),i=N("span"),k(n,"type","checkbox"),k(n,"class","svelte-1hozll4"),k(i,"class","slider svelte-1hozll4"),k(e,"class","switch svelte-1hozll4")},m(u,f){B(u,e,f),x(e,n),n.checked=t[0],x(e,r),x(e,i),o||(a=ne(n,"change",t[1]),o=!0)},p(u,[f]){f&1&&(n.checked=u[0])},i:ve,o:ve,d(u){u&&W(e),o=!1,a()}}}function J6(t,e,n){let{checked:r=!1}=e;function i(){r=this.checked,n(0,r)}return t.$$set=o=>{"checked"in o&&n(0,r=o.checked)},[r,i]}var yb=class extends We{constructor(e){super();je(this,e,J6,X6,Re,{checked:0},Z6)}},vh=yb;function Q6(t){dt(t,"svelte-19a3n3k",".rangeSlider{--pip:var(--range-pip, lightslategray);--pip-text:var(--range-pip-text, var(--pip));--pip-active:var(--range-pip-active, darkslategrey);--pip-active-text:var(--range-pip-active-text, var(--pip-active));--pip-hover:var(--range-pip-hover, darkslategrey);--pip-hover-text:var(--range-pip-hover-text, var(--pip-hover));--pip-in-range:var(--range-pip-in-range, var(--pip-active));--pip-in-range-text:var(--range-pip-in-range-text, var(--pip-active-text))}.rangePips{position:absolute;height:1em;left:0;right:0;bottom:-1em}.rangePips.vertical{height:auto;width:1em;left:100%;right:auto;top:0;bottom:0}.rangePips .pip{height:0.4em;position:absolute;top:0.25em;width:1px;white-space:nowrap}.rangePips.vertical .pip{height:1px;width:0.4em;left:0.25em;top:auto;bottom:auto}.rangePips .pipVal{position:absolute;top:0.4em;transform:translate(-50%, 25%)}.rangePips.vertical .pipVal{position:absolute;top:0;left:0.4em;transform:translate(25%, -50%)}.rangePips .pip{transition:all 0.15s ease}.rangePips .pipVal{transition:all 0.15s ease, font-weight 0s linear}.rangePips .pip{color:lightslategray;color:var(--pip-text);background-color:lightslategray;background-color:var(--pip)}.rangePips .pip.selected{color:darkslategrey;color:var(--pip-active-text);background-color:darkslategrey;background-color:var(--pip-active)}.rangePips.hoverable:not(.disabled) .pip:hover{color:darkslategrey;color:var(--pip-hover-text);background-color:darkslategrey;background-color:var(--pip-hover)}.rangePips .pip.in-range{color:darkslategrey;color:var(--pip-in-range-text);background-color:darkslategrey;background-color:var(--pip-in-range)}.rangePips .pip.selected{height:0.75em}.rangePips.vertical .pip.selected{height:1px;width:0.75em}.rangePips .pip.selected .pipVal{font-weight:bold;top:0.75em}.rangePips.vertical .pip.selected .pipVal{top:0;left:0.75em}.rangePips.hoverable:not(.disabled) .pip:not(.selected):hover{transition:none}.rangePips.hoverable:not(.disabled) .pip:not(.selected):hover .pipVal{transition:none;font-weight:bold}")}function wb(t,e,n){let r=t.slice();return r[28]=e[n],r[30]=n,r}function bb(t){let e,n,r,i,o=(t[6]==="label"||t[7]==="label")&&kb(t);return{c(){e=N("span"),o&&o.c(),k(e,"class","pip first"),k(e,"style",n=""+(t[14]+": 0%;")),ke(e,"selected",t[18](t[0])),ke(e,"in-range",t[17](t[0]))},m(a,u){B(a,e,u),o&&o.m(e,null),r||(i=[ne(e,"click",function(){nn(t[21](t[0]))&&t[21](t[0]).apply(this,arguments)}),ne(e,"touchend",pi(function(){nn(t[21](t[0]))&&t[21](t[0]).apply(this,arguments)}))],r=!0)},p(a,u){t=a,t[6]==="label"||t[7]==="label"?o?o.p(t,u):(o=kb(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null),u&16384&&n!==(n=""+(t[14]+": 0%;"))&&k(e,"style",n),u&262145&&ke(e,"selected",t[18](t[0])),u&131073&&ke(e,"in-range",t[17](t[0]))},d(a){a&&W(e),o&&o.d(),r=!1,ze(i)}}}function kb(t){let e,n=t[12](t[16](t[0]),0,0)+"",r,i=t[10]&&Eb(t),o=t[11]&&Tb(t);return{c(){e=N("span"),i&&i.c(),r=Fe(n),o&&o.c(),k(e,"class","pipVal")},m(a,u){B(a,e,u),i&&i.m(e,null),x(e,r),o&&o.m(e,null)},p(a,u){a[10]?i?i.p(a,u):(i=Eb(a),i.c(),i.m(e,r)):i&&(i.d(1),i=null),u&69633&&n!==(n=a[12](a[16](a[0]),0,0)+"")&&Ve(r,n),a[11]?o?o.p(a,u):(o=Tb(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(a){a&&W(e),i&&i.d(),o&&o.d()}}}function Eb(t){let e,n;return{c(){e=N("span"),n=Fe(t[10]),k(e,"class","pipVal-prefix")},m(r,i){B(r,e,i),x(e,n)},p(r,i){i&1024&&Ve(n,r[10])},d(r){r&&W(e)}}}function Tb(t){let e,n;return{c(){e=N("span"),n=Fe(t[11]),k(e,"class","pipVal-suffix")},m(r,i){B(r,e,i),x(e,n)},p(r,i){i&2048&&Ve(n,r[11])},d(r){r&&W(e)}}}function Cb(t){let e,n=Array(t[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=Mb(wb(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Lt()},m(i,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,o);B(i,e,o)},p(i,o){if(o&4120131){n=Array(i[20]+1);let a;for(a=0;a<n.length;a+=1){let u=wb(i,n,a);r[a]?r[a].p(u,o):(r[a]=Mb(u),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(i){Nt(r,i),i&&W(e)}}}function Sb(t){let e,n,r,i,o,a=(t[6]==="label"||t[9]==="label")&&Db(t);return{c(){e=N("span"),a&&a.c(),n=ee(),k(e,"class","pip"),k(e,"style",r=""+(t[14]+": "+t[15](t[19](t[30]))+"%;")),ke(e,"selected",t[18](t[19](t[30]))),ke(e,"in-range",t[17](t[19](t[30])))},m(u,f){B(u,e,f),a&&a.m(e,null),x(e,n),i||(o=[ne(e,"click",function(){nn(t[21](t[19](t[30])))&&t[21](t[19](t[30])).apply(this,arguments)}),ne(e,"touchend",pi(function(){nn(t[21](t[19](t[30])))&&t[21](t[19](t[30])).apply(this,arguments)}))],i=!0)},p(u,f){t=u,t[6]==="label"||t[9]==="label"?a?a.p(t,f):(a=Db(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),f&573440&&r!==(r=""+(t[14]+": "+t[15](t[19](t[30]))+"%;"))&&k(e,"style",r),f&786432&&ke(e,"selected",t[18](t[19](t[30]))),f&655360&&ke(e,"in-range",t[17](t[19](t[30])))},d(u){u&&W(e),a&&a.d(),i=!1,ze(o)}}}function Db(t){let e,n=t[12](t[19](t[30]),t[30],t[15](t[19](t[30])))+"",r,i=t[10]&&Ob(t),o=t[11]&&Ab(t);return{c(){e=N("span"),i&&i.c(),r=Fe(n),o&&o.c(),k(e,"class","pipVal")},m(a,u){B(a,e,u),i&&i.m(e,null),x(e,r),o&&o.m(e,null)},p(a,u){a[10]?i?i.p(a,u):(i=Ob(a),i.c(),i.m(e,r)):i&&(i.d(1),i=null),u&561152&&n!==(n=a[12](a[19](a[30]),a[30],a[15](a[19](a[30])))+"")&&Ve(r,n),a[11]?o?o.p(a,u):(o=Ab(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(a){a&&W(e),i&&i.d(),o&&o.d()}}}function Ob(t){let e,n;return{c(){e=N("span"),n=Fe(t[10]),k(e,"class","pipVal-prefix")},m(r,i){B(r,e,i),x(e,n)},p(r,i){i&1024&&Ve(n,r[10])},d(r){r&&W(e)}}}function Ab(t){let e,n;return{c(){e=N("span"),n=Fe(t[11]),k(e,"class","pipVal-suffix")},m(r,i){B(r,e,i),x(e,n)},p(r,i){i&2048&&Ve(n,r[11])},d(r){r&&W(e)}}}function Mb(t){let e=t[19](t[30])!==t[0]&&t[19](t[30])!==t[1],n,r=e&&Sb(t);return{c(){r&&r.c(),n=Lt()},m(i,o){r&&r.m(i,o),B(i,n,o)},p(i,o){o&524291&&(e=i[19](i[30])!==i[0]&&i[19](i[30])!==i[1]),e?r?r.p(i,o):(r=Sb(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&W(n)}}}function xb(t){let e,n,r,i,o=(t[6]==="label"||t[8]==="label")&&Pb(t);return{c(){e=N("span"),o&&o.c(),k(e,"class","pip last"),k(e,"style",n=""+(t[14]+": 100%;")),ke(e,"selected",t[18](t[1])),ke(e,"in-range",t[17](t[1]))},m(a,u){B(a,e,u),o&&o.m(e,null),r||(i=[ne(e,"click",function(){nn(t[21](t[1]))&&t[21](t[1]).apply(this,arguments)}),ne(e,"touchend",pi(function(){nn(t[21](t[1]))&&t[21](t[1]).apply(this,arguments)}))],r=!0)},p(a,u){t=a,t[6]==="label"||t[8]==="label"?o?o.p(t,u):(o=Pb(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null),u&16384&&n!==(n=""+(t[14]+": 100%;"))&&k(e,"style",n),u&262146&&ke(e,"selected",t[18](t[1])),u&131074&&ke(e,"in-range",t[17](t[1]))},d(a){a&&W(e),o&&o.d(),r=!1,ze(i)}}}function Pb(t){let e,n=t[12](t[16](t[1]),t[20],100)+"",r,i=t[10]&&Nb(t),o=t[11]&&Rb(t);return{c(){e=N("span"),i&&i.c(),r=Fe(n),o&&o.c(),k(e,"class","pipVal")},m(a,u){B(a,e,u),i&&i.m(e,null),x(e,r),o&&o.m(e,null)},p(a,u){a[10]?i?i.p(a,u):(i=Nb(a),i.c(),i.m(e,r)):i&&(i.d(1),i=null),u&1118210&&n!==(n=a[12](a[16](a[1]),a[20],100)+"")&&Ve(r,n),a[11]?o?o.p(a,u):(o=Rb(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(a){a&&W(e),i&&i.d(),o&&o.d()}}}function Nb(t){let e,n;return{c(){e=N("span"),n=Fe(t[10]),k(e,"class","pipVal-prefix")},m(r,i){B(r,e,i),x(e,n)},p(r,i){i&1024&&Ve(n,r[10])},d(r){r&&W(e)}}}function Rb(t){let e,n;return{c(){e=N("span"),n=Fe(t[11]),k(e,"class","pipVal-suffix")},m(r,i){B(r,e,i),x(e,n)},p(r,i){i&2048&&Ve(n,r[11])},d(r){r&&W(e)}}}function $6(t){let e,n,r,i=(t[6]&&t[7]!==!1||t[7])&&bb(t),o=(t[6]&&t[9]!==!1||t[9])&&Cb(t),a=(t[6]&&t[8]!==!1||t[8])&&xb(t);return{c(){e=N("div"),i&&i.c(),n=ee(),o&&o.c(),r=ee(),a&&a.c(),k(e,"class","rangePips"),ke(e,"disabled",t[5]),ke(e,"hoverable",t[4]),ke(e,"vertical",t[2]),ke(e,"reversed",t[3]),ke(e,"focus",t[13])},m(u,f){B(u,e,f),i&&i.m(e,null),x(e,n),o&&o.m(e,null),x(e,r),a&&a.m(e,null)},p(u,[f]){u[6]&&u[7]!==!1||u[7]?i?i.p(u,f):(i=bb(u),i.c(),i.m(e,n)):i&&(i.d(1),i=null),u[6]&&u[9]!==!1||u[9]?o?o.p(u,f):(o=Cb(u),o.c(),o.m(e,r)):o&&(o.d(1),o=null),u[6]&&u[8]!==!1||u[8]?a?a.p(u,f):(a=xb(u),a.c(),a.m(e,null)):a&&(a.d(1),a=null),f&32&&ke(e,"disabled",u[5]),f&16&&ke(e,"hoverable",u[4]),f&4&&ke(e,"vertical",u[2]),f&8&&ke(e,"reversed",u[3]),f&8192&&ke(e,"focus",u[13])},i:ve,o:ve,d(u){u&&W(e),i&&i.d(),o&&o.d(),a&&a.d()}}}function eR(t,e,n){let r,i,o,a,u,{range:f=!1}=e,{min:c=0}=e,{max:d=100}=e,{step:m=1}=e,{values:h=[(d+c)/2]}=e,{vertical:v=!1}=e,{reversed:_=!1}=e,{hoverable:b=!0}=e,{disabled:E=!1}=e,{pipstep:w=void 0}=e,{all:C=!0}=e,{first:A=void 0}=e,{last:Y=void 0}=e,{rest:M=void 0}=e,{prefix:P=""}=e,{suffix:L=""}=e,{formatter:S=(O,Z)=>O}=e,{focus:F=void 0}=e,{orientationStart:ae=void 0}=e,{percentOf:z=void 0}=e,{moveHandle:X=void 0}=e,{fixFloat:V=void 0}=e;function pe(O){E||X(void 0,O)}return t.$$set=O=>{"range"in O&&n(22,f=O.range),"min"in O&&n(0,c=O.min),"max"in O&&n(1,d=O.max),"step"in O&&n(23,m=O.step),"values"in O&&n(24,h=O.values),"vertical"in O&&n(2,v=O.vertical),"reversed"in O&&n(3,_=O.reversed),"hoverable"in O&&n(4,b=O.hoverable),"disabled"in O&&n(5,E=O.disabled),"pipstep"in O&&n(25,w=O.pipstep),"all"in O&&n(6,C=O.all),"first"in O&&n(7,A=O.first),"last"in O&&n(8,Y=O.last),"rest"in O&&n(9,M=O.rest),"prefix"in O&&n(10,P=O.prefix),"suffix"in O&&n(11,L=O.suffix),"formatter"in O&&n(12,S=O.formatter),"focus"in O&&n(13,F=O.focus),"orientationStart"in O&&n(14,ae=O.orientationStart),"percentOf"in O&&n(15,z=O.percentOf),"moveHandle"in O&&n(26,X=O.moveHandle),"fixFloat"in O&&n(16,V=O.fixFloat)},t.$$.update=()=>{if(t.$$.dirty&41943047){e:n(27,r=w||((d-c)/m>=(v?50:100)?(d-c)/(v?10:20):1))}if(t.$$.dirty&142606339){e:n(20,i=parseInt((d-c)/(m*r),10))}if(t.$$.dirty&142671873){e:n(19,o=function(O){return V(c+O*m*r)})}if(t.$$.dirty&16842752){e:n(18,a=function(O){return h.some(Z=>V(Z)===V(O))})}if(t.$$.dirty&20971520){e:n(17,u=function(O){if(f==="min")return h[0]>O;if(f==="max")return h[0]<O;if(f)return h[0]<O&&h[1]>O})}},[c,d,v,_,b,E,C,A,Y,M,P,L,S,F,ae,z,V,u,a,o,i,pe,f,m,h,w,X,r]}var Ib=class extends We{constructor(e){super();je(this,e,eR,$6,Re,{range:22,min:0,max:1,step:23,values:24,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:25,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:26,fixFloat:16},Q6)}},Lb=Ib;function tR(t){dt(t,"svelte-1wc6jll",'.rangeSlider{--slider:var(--range-slider, #d7dada);--handle-inactive:var(--range-handle-inactive, #99a2a2);--handle:var(--range-handle, #838de7);--handle-focus:var(--range-handle-focus, #4a40d4);--handle-border:var(--range-handle-border, var(--handle));--range-inactive:var(--range-range-inactive, var(--handle-inactive));--range:var(--range-range, var(--handle-focus));--float-inactive:var(--range-float-inactive, var(--handle-inactive));--float:var(--range-float, var(--handle-focus));--float-text:var(--range-float-text, white)}.rangeSlider{position:relative;border-radius:100px;height:0.5em;margin:1em;transition:opacity 0.2s ease;user-select:none}.rangeSlider *{user-select:none}.rangeSlider.pips{margin-bottom:1.8em}.rangeSlider.pip-labels{margin-bottom:2.8em}.rangeSlider.vertical{display:inline-block;border-radius:100px;width:0.5em;min-height:200px}.rangeSlider.vertical.pips{margin-right:1.8em;margin-bottom:1em}.rangeSlider.vertical.pip-labels{margin-right:2.8em;margin-bottom:1em}.rangeSlider .rangeHandle{position:absolute;display:block;height:1.4em;width:1.4em;top:0.25em;bottom:auto;transform:translateY(-50%) translateX(-50%);outline-offset:2px;outline:2px solid transparent;border-radius:100px;z-index:2}.rangeSlider.reversed .rangeHandle{transform:translateY(-50%) translateX(50%)}.rangeSlider.vertical .rangeHandle{left:0.25em;top:auto;transform:translateY(50%) translateX(-50%)}.rangeSlider.vertical.reversed .rangeHandle{transform:translateY(-50%) translateX(-50%)}.rangeSlider .rangeNub,.rangeSlider .rangeHandle:before{position:absolute;left:0;top:0;display:block;border-radius:10em;height:100%;width:100%;transition:box-shadow 0.2s ease}.rangeSlider .rangeHandle:before{content:"";left:1px;top:1px;bottom:1px;right:1px;height:auto;width:auto;box-shadow:0 0 0 0px var(--handle-border);opacity:0}.rangeSlider.hoverable:not(.disabled) .rangeHandle:hover:before{box-shadow:0 0 0 8px var(--handle-border);opacity:0.2}.rangeSlider.hoverable:not(.disabled) .rangeHandle.press:before,.rangeSlider.hoverable:not(.disabled) .rangeHandle.press:hover:before{box-shadow:0 0 0 12px var(--handle-border);opacity:0.4}.rangeSlider.range .rangeNub{border-radius:10em 10em 10em 1.6em}.rangeSlider.range.min .rangeNub{border-radius:10em  1.6em 10em 10em}.rangeSlider.range .rangeHandle:nth-of-type(1) .rangeNub{transform:rotate(-135deg)}.rangeSlider.range .rangeHandle:nth-of-type(2) .rangeNub{transform:rotate(45deg)}.rangeSlider.range.reversed .rangeHandle:nth-of-type(1) .rangeNub{transform:rotate(45deg)}.rangeSlider.range.reversed .rangeHandle:nth-of-type(2) .rangeNub{transform:rotate(-135deg)}.rangeSlider.range.vertical .rangeHandle:nth-of-type(1) .rangeNub{transform:rotate(135deg)}.rangeSlider.range.vertical .rangeHandle:nth-of-type(2) .rangeNub{transform:rotate(-45deg)}.rangeSlider.range.vertical.reversed .rangeHandle:nth-of-type(1) .rangeNub{transform:rotate(-45deg)}.rangeSlider.range.vertical.reversed .rangeHandle:nth-of-type(2) .rangeNub{transform:rotate(135deg)}.rangeSlider .rangeFloat{display:block;position:absolute;left:50%;top:-0.5em;transform:translate(-50%, -100%);font-size:1em;text-align:center;opacity:0;pointer-events:none;white-space:nowrap;transition:all 0.2s ease;font-size:0.9em;padding:0.2em 0.4em;border-radius:0.2em}.rangeSlider .rangeHandle.active .rangeFloat,.rangeSlider.hoverable .rangeHandle:hover .rangeFloat{opacity:1;top:-0.2em;transform:translate(-50%, -100%)}.rangeSlider .rangeHandle.active:focus-visible .rangeFloat{top:-0.35em}.rangeSlider .rangeBar{position:absolute;display:block;transition:background 0.2s ease;border-radius:1em;height:0.5em;top:0;user-select:none;z-index:1}.rangeSlider.vertical .rangeBar{width:0.5em;height:auto}.rangeSlider{background-color:#d7dada;background-color:var(--slider)}.rangeSlider .rangeBar{background-color:#99a2a2;background-color:var(--range-inactive)}.rangeSlider.focus .rangeBar{background-color:#838de7;background-color:var(--range)}.rangeSlider .rangeNub{background-color:#99a2a2;background-color:var(--handle-inactive)}.rangeSlider.focus .rangeNub{background-color:#838de7;background-color:var(--handle)}.rangeSlider .rangeHandle.active .rangeNub{background-color:#4a40d4;background-color:var(--handle-focus)}.rangeSlider .rangeFloat{color:white;color:var(--float-text);background-color:#99a2a2;background-color:var(--float-inactive)}.rangeSlider.focus .rangeFloat{background-color:#4a40d4;background-color:var(--float)}.rangeSlider.disabled{opacity:0.5}.rangeSlider.disabled .rangeNub{background-color:#d7dada;background-color:var(--slider)}.rangeSlider .rangeHandle:focus{outline:none}.rangeSlider .rangeHandle:focus-visible{outline:2px solid #334}@supports not selector(:focus-visible){.rangeSlider .rangeHandle:focus{outline:1px solid #334;outline-offset:1px}}')}function Fb(t,e,n){let r=t.slice();return r[64]=e[n],r[66]=n,r}function Wb(t){let e,n=t[21](t[64],t[66],t[23](t[64]))+"",r,i=t[18]&&Yb(t),o=t[19]&&Bb(t);return{c(){e=N("span"),i&&i.c(),r=Fe(n),o&&o.c(),k(e,"class","rangeFloat")},m(a,u){B(a,e,u),i&&i.m(e,null),x(e,r),o&&o.m(e,null)},p(a,u){a[18]?i?i.p(a,u):(i=Yb(a),i.c(),i.m(e,r)):i&&(i.d(1),i=null),u[0]&10485761&&n!==(n=a[21](a[64],a[66],a[23](a[64]))+"")&&Ve(r,n),a[19]?o?o.p(a,u):(o=Bb(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(a){a&&W(e),i&&i.d(),o&&o.d()}}}function Yb(t){let e,n;return{c(){e=N("span"),n=Fe(t[18]),k(e,"class","rangeFloat-prefix")},m(r,i){B(r,e,i),x(e,n)},p(r,i){i[0]&262144&&Ve(n,r[18])},d(r){r&&W(e)}}}function Bb(t){let e,n;return{c(){e=N("span"),n=Fe(t[19]),k(e,"class","rangeFloat-suffix")},m(r,i){B(r,e,i),x(e,n)},p(r,i){i[0]&524288&&Ve(n,r[19])},d(r){r&&W(e)}}}function Gb(t){let e,n,r,i,o,a,u,f,c,d,m,h,v,_=t[7]&&Wb(t);return{c(){e=N("span"),n=N("span"),r=ee(),_&&_.c(),k(n,"class","rangeNub"),k(e,"role","slider"),k(e,"class","rangeHandle"),k(e,"data-handle",i=t[66]),k(e,"style",o=""+(t[28]+": "+t[29][t[66]]+"%; z-index: "+(t[26]===t[66]?3:2)+";")),k(e,"aria-valuemin",a=t[2]===!0&&t[66]===1?t[0][0]:t[3]),k(e,"aria-valuemax",u=t[2]===!0&&t[66]===0?t[0][1]:t[4]),k(e,"aria-valuenow",f=t[64]),k(e,"aria-valuetext",c=""+(t[18]+t[21](t[64],t[66],t[23](t[64]))+t[19])),k(e,"aria-orientation",d=t[6]?"vertical":"horizontal"),k(e,"aria-disabled",t[10]),k(e,"disabled",t[10]),k(e,"tabindex",m=t[10]?-1:0),ke(e,"active",t[24]&&t[26]===t[66]),ke(e,"press",t[25]&&t[26]===t[66])},m(b,E){B(b,e,E),x(e,n),x(e,r),_&&_.m(e,null),h||(v=[ne(e,"blur",t[34]),ne(e,"focus",t[35]),ne(e,"keydown",t[36])],h=!0)},p(b,E){b[7]?_?_.p(b,E):(_=Wb(b),_.c(),_.m(e,null)):_&&(_.d(1),_=null),E[0]&872415232&&o!==(o=""+(b[28]+": "+b[29][b[66]]+"%; z-index: "+(b[26]===b[66]?3:2)+";"))&&k(e,"style",o),E[0]&13&&a!==(a=b[2]===!0&&b[66]===1?b[0][0]:b[3])&&k(e,"aria-valuemin",a),E[0]&21&&u!==(u=b[2]===!0&&b[66]===0?b[0][1]:b[4])&&k(e,"aria-valuemax",u),E[0]&1&&f!==(f=b[64])&&k(e,"aria-valuenow",f),E[0]&11272193&&c!==(c=""+(b[18]+b[21](b[64],b[66],b[23](b[64]))+b[19]))&&k(e,"aria-valuetext",c),E[0]&64&&d!==(d=b[6]?"vertical":"horizontal")&&k(e,"aria-orientation",d),E[0]&1024&&k(e,"aria-disabled",b[10]),E[0]&1024&&k(e,"disabled",b[10]),E[0]&1024&&m!==(m=b[10]?-1:0)&&k(e,"tabindex",m),E[0]&83886080&&ke(e,"active",b[24]&&b[26]===b[66]),E[0]&100663296&&ke(e,"press",b[25]&&b[26]===b[66])},d(b){b&&W(e),_&&_.d(),h=!1,ze(v)}}}function jb(t){let e,n;return{c(){e=N("span"),k(e,"class","rangeBar"),k(e,"style",n=""+(t[28]+": "+t[32](t[29])+"%; "+t[27]+": "+t[33](t[29])+"%;"))},m(r,i){B(r,e,i)},p(r,i){i[0]&939524096&&n!==(n=""+(r[28]+": "+r[32](r[29])+"%; "+r[27]+": "+r[33](r[29])+"%;"))&&k(e,"style",n)},d(r){r&&W(e)}}}function Ub(t){let e,n;return e=new Lb({props:{values:t[0],min:t[3],max:t[4],step:t[5],range:t[2],vertical:t[6],reversed:t[8],orientationStart:t[28],hoverable:t[9],disabled:t[10],all:t[13],first:t[14],last:t[15],rest:t[16],pipstep:t[12],prefix:t[18],suffix:t[19],formatter:t[20],focus:t[24],percentOf:t[23],moveHandle:t[31],fixFloat:t[30]}}),{c(){rt(e.$$.fragment)},m(r,i){tt(e,r,i),n=!0},p(r,i){let o={};i[0]&1&&(o.values=r[0]),i[0]&8&&(o.min=r[3]),i[0]&16&&(o.max=r[4]),i[0]&32&&(o.step=r[5]),i[0]&4&&(o.range=r[2]),i[0]&64&&(o.vertical=r[6]),i[0]&256&&(o.reversed=r[8]),i[0]&268435456&&(o.orientationStart=r[28]),i[0]&512&&(o.hoverable=r[9]),i[0]&1024&&(o.disabled=r[10]),i[0]&8192&&(o.all=r[13]),i[0]&16384&&(o.first=r[14]),i[0]&32768&&(o.last=r[15]),i[0]&65536&&(o.rest=r[16]),i[0]&4096&&(o.pipstep=r[12]),i[0]&262144&&(o.prefix=r[18]),i[0]&524288&&(o.suffix=r[19]),i[0]&1048576&&(o.formatter=r[20]),i[0]&16777216&&(o.focus=r[24]),i[0]&8388608&&(o.percentOf=r[23]),e.$set(o)},i(r){n||(ie(e.$$.fragment,r),n=!0)},o(r){ce(e.$$.fragment,r),n=!1},d(r){Je(e,r)}}}function nR(t){let e,n,r,i,o,a,u=t[0],f=[];for(let m=0;m<u.length;m+=1)f[m]=Gb(Fb(t,u,m));let c=t[2]&&jb(t),d=t[11]&&Ub(t);return{c(){e=N("div");for(let m=0;m<f.length;m+=1)f[m].c();n=ee(),c&&c.c(),r=ee(),d&&d.c(),k(e,"id",t[17]),k(e,"class","rangeSlider"),ke(e,"range",t[2]),ke(e,"disabled",t[10]),ke(e,"hoverable",t[9]),ke(e,"vertical",t[6]),ke(e,"reversed",t[8]),ke(e,"focus",t[24]),ke(e,"min",t[2]==="min"),ke(e,"max",t[2]==="max"),ke(e,"pips",t[11]),ke(e,"pip-labels",t[13]==="label"||t[14]==="label"||t[15]==="label"||t[16]==="label")},m(m,h){B(m,e,h);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(e,null);x(e,n),c&&c.m(e,null),x(e,r),d&&d.m(e,null),t[50](e),i=!0,o||(a=[ne(window,"mousedown",t[39]),ne(window,"touchstart",t[39]),ne(window,"mousemove",t[40]),ne(window,"touchmove",t[40]),ne(window,"mouseup",t[41]),ne(window,"touchend",t[42]),ne(window,"keydown",t[43]),ne(e,"mousedown",t[37]),ne(e,"mouseup",t[38]),ne(e,"touchstart",pi(t[37])),ne(e,"touchend",pi(t[38]))],o=!0)},p(m,h){if(h[0]&934020317|h[1]&56){u=m[0];let v;for(v=0;v<u.length;v+=1){let _=Fb(m,u,v);f[v]?f[v].p(_,h):(f[v]=Gb(_),f[v].c(),f[v].m(e,n))}for(;v<f.length;v+=1)f[v].d(1);f.length=u.length}m[2]?c?c.p(m,h):(c=jb(m),c.c(),c.m(e,r)):c&&(c.d(1),c=null),m[11]?d?(d.p(m,h),h[0]&2048&&ie(d,1)):(d=Ub(m),d.c(),ie(d,1),d.m(e,null)):d&&($e(),ce(d,1,1,()=>{d=null}),et()),(!i||h[0]&131072)&&k(e,"id",m[17]),(!i||h[0]&4)&&ke(e,"range",m[2]),(!i||h[0]&1024)&&ke(e,"disabled",m[10]),(!i||h[0]&512)&&ke(e,"hoverable",m[9]),(!i||h[0]&64)&&ke(e,"vertical",m[6]),(!i||h[0]&256)&&ke(e,"reversed",m[8]),(!i||h[0]&16777216)&&ke(e,"focus",m[24]),(!i||h[0]&4)&&ke(e,"min",m[2]==="min"),(!i||h[0]&4)&&ke(e,"max",m[2]==="max"),(!i||h[0]&2048)&&ke(e,"pips",m[11]),(!i||h[0]&122880)&&ke(e,"pip-labels",m[13]==="label"||m[14]==="label"||m[15]==="label"||m[16]==="label")},i(m){i||(ie(d),i=!0)},o(m){ce(d),i=!1},d(m){m&&W(e),Nt(f,m),c&&c.d(),d&&d.d(),t[50](null),o=!1,ze(a)}}}function zb(t){if(!t)return-1;for(var e=0;t=t.previousElementSibling;)e++;return e}function _h(t){return t.type.includes("touch")?t.touches[0]:t}function rR(t,e,n){let r,i,o,a,u,f,c=ve,d=()=>(c(),c=vf(ut,re=>n(29,f=re)),ut);t.$$.on_destroy.push(()=>c());let{slider:m=void 0}=e,{range:h=!1}=e,{pushy:v=!1}=e,{min:_=0}=e,{max:b=100}=e,{step:E=1}=e,{values:w=[(b+_)/2]}=e,{vertical:C=!1}=e,{float:A=!1}=e,{reversed:Y=!1}=e,{hoverable:M=!0}=e,{disabled:P=!1}=e,{pips:L=!1}=e,{pipstep:S=void 0}=e,{all:F=void 0}=e,{first:ae=void 0}=e,{last:z=void 0}=e,{rest:X=void 0}=e,{id:V=void 0}=e,{prefix:pe=""}=e,{suffix:O=""}=e,{formatter:Z=(re,xe,Ct)=>re}=e,{handleFormatter:te=Z}=e,{precision:U=2}=e,{springValues:J={stiffness:.15,damping:.4}}=e,se=Al(),j=0,K=!1,Q=!1,ge=!1,ue=!1,_e=w.length-1,De,nt,ut,ye=re=>parseFloat(re.toFixed(U));function Ee(re){let xe=m.querySelectorAll(".handle"),Ct=Array.prototype.includes.call(xe,re),At=Array.prototype.some.call(xe,lr=>lr.contains(re));return Ct||At}function pt(re){return h==="min"||h==="max"?re.slice(0,1):h?re.slice(0,2):re}function Tt(){return m.getBoundingClientRect()}function On(re){let xe=Tt(),Ct=0,At=0,lr=0;C?(Ct=re.clientY-xe.top,At=Ct/xe.height*100,At=Y?At:100-At):(Ct=re.clientX-xe.left,At=Ct/xe.width*100,At=Y?100-At:At),lr=(b-_)/100*At+_;let Si;return h===!0&&w[0]===w[1]?lr>w[1]?1:0:(Si=w.indexOf([...w].sort((Cs,Ss)=>Math.abs(lr-Cs)-Math.abs(lr-Ss))[0]),Si)}function ft(re){let xe=Tt(),Ct=0,At=0,lr=0;C?(Ct=re.clientY-xe.top,At=Ct/xe.height*100,At=Y?At:100-At):(Ct=re.clientX-xe.left,At=Ct/xe.width*100,At=Y?100-At:At),lr=(b-_)/100*At+_,Ze(_e,lr)}function Ze(re,xe){return xe=o(xe),typeof re=="undefined"&&(re=_e),h&&(re===0&&xe>w[1]?v?n(0,w[1]=xe,w):xe=w[1]:re===1&&xe<w[0]&&(v?n(0,w[0]=xe,w):xe=w[0])),w[re]!==xe&&n(0,w[re]=xe,w),nt!==xe&&(Fo(),nt=xe),xe}function $n(re){return h==="min"?0:re[0]}function ar(re){return h==="max"?0:h==="min"?100-re[0]:100-re[1]}function yn(re){ue&&(n(24,K=!1),Q=!1,n(25,ge=!1))}function wn(re){P||(n(26,_e=zb(re.target)),n(24,K=!0))}function Un(re){if(!P){let xe=zb(re.target),Ct=re.ctrlKey||re.metaKey||re.shiftKey?E*10:E,At=!1;switch(re.key){case"PageDown":Ct*=10;case"ArrowRight":case"ArrowUp":Ze(xe,w[xe]+Ct),At=!0;break;case"PageUp":Ct*=10;case"ArrowLeft":case"ArrowDown":Ze(xe,w[xe]-Ct),At=!0;break;case"Home":Ze(xe,_),At=!0;break;case"End":Ze(xe,b),At=!0;break}At&&(re.preventDefault(),re.stopPropagation())}}function Vt(re){if(!P){let xe=re.target,Ct=_h(re);n(24,K=!0),Q=!0,n(25,ge=!0),n(26,_e=On(Ct)),De=nt=o(w[_e]),$i(),re.type==="touchstart"&&!xe.matches(".pipVal")&&ft(Ct)}}function zn(re){re.type==="touchend"&&ai(),n(25,ge=!1)}function An(re){ue=!1,K&&re.target!==m&&!m.contains(re.target)&&n(24,K=!1)}function bn(re){P||Q&&ft(_h(re))}function Hn(re){if(!P){let xe=re.target;Q&&((xe===m||m.contains(xe))&&(n(24,K=!0),!Ee(xe)&&!xe.matches(".pipVal")&&ft(_h(re))),ai())}Q=!1,n(25,ge=!1)}function er(re){Q=!1,n(25,ge=!1)}function tr(re){P||(re.target===m||m.contains(re.target))&&(ue=!0)}function $i(){!P&&se("start",{activeHandle:_e,value:De,values:w.map(re=>o(re))})}function ai(){!P&&se("stop",{activeHandle:_e,startValue:De,value:w[_e],values:w.map(re=>o(re))})}function Fo(){!P&&se("change",{activeHandle:_e,startValue:De,previousValue:typeof nt=="undefined"?De:nt,value:w[_e],values:w.map(re=>o(re))})}function Wo(re){Se[re?"unshift":"push"](()=>{m=re,n(1,m)})}return t.$$set=re=>{"slider"in re&&n(1,m=re.slider),"range"in re&&n(2,h=re.range),"pushy"in re&&n(44,v=re.pushy),"min"in re&&n(3,_=re.min),"max"in re&&n(4,b=re.max),"step"in re&&n(5,E=re.step),"values"in re&&n(0,w=re.values),"vertical"in re&&n(6,C=re.vertical),"float"in re&&n(7,A=re.float),"reversed"in re&&n(8,Y=re.reversed),"hoverable"in re&&n(9,M=re.hoverable),"disabled"in re&&n(10,P=re.disabled),"pips"in re&&n(11,L=re.pips),"pipstep"in re&&n(12,S=re.pipstep),"all"in re&&n(13,F=re.all),"first"in re&&n(14,ae=re.first),"last"in re&&n(15,z=re.last),"rest"in re&&n(16,X=re.rest),"id"in re&&n(17,V=re.id),"prefix"in re&&n(18,pe=re.prefix),"suffix"in re&&n(19,O=re.suffix),"formatter"in re&&n(20,Z=re.formatter),"handleFormatter"in re&&n(21,te=re.handleFormatter),"precision"in re&&n(45,U=re.precision),"springValues"in re&&n(46,J=re.springValues)},t.$$.update=()=>{if(t.$$.dirty[0]&24){e:n(49,i=function(re){return re<=_?_:re>=b?b:re})}if(t.$$.dirty[0]&56|t.$$.dirty[1]&262144){e:n(48,o=function(re){if(re<=_)return ye(_);if(re>=b)return ye(b);let xe=(re-_)%E,Ct=re-xe;return Math.abs(xe)*2>=E&&(Ct+=xe>0?E:-E),Ct=i(Ct),ye(Ct)})}if(t.$$.dirty[0]&24){e:n(23,r=function(re){let xe=(re-_)/(b-_)*100;return isNaN(xe)||xe<=0?0:xe>=100?100:ye(xe)})}if(t.$$.dirty[0]&12582937|t.$$.dirty[1]&229376){e:Array.isArray(w)||(n(0,w=[(b+_)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),n(0,w=pt(w.map(re=>o(re)))),j!==w.length?d(n(22,ut=Gc(w.map(re=>r(re)),J))):ut.set(w.map(re=>r(re))),n(47,j=w.length)}if(t.$$.dirty[0]&320){e:n(28,a=C?Y?"top":"bottom":Y?"right":"left")}if(t.$$.dirty[0]&320){e:n(27,u=C?Y?"bottom":"top":Y?"left":"right")}},[w,m,h,_,b,E,C,A,Y,M,P,L,S,F,ae,z,X,V,pe,O,Z,te,ut,r,K,ge,_e,u,a,f,ye,Ze,$n,ar,yn,wn,Un,Vt,zn,An,bn,Hn,er,tr,v,U,J,j,o,i,Wo]}var Hb=class extends We{constructor(e){super();je(this,e,rR,nR,Re,{slider:1,range:2,pushy:44,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,precision:45,springValues:46},tR,[-1,-1,-1])}},Pa=Hb;var Vb=Me(require("obsidian"));function iR(t){dt(t,"svelte-1665e1",`.settingsContainerOpen.svelte-1665e1{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;gap:5px;border-radius:10px;padding:10px;width:auto;margin-bottom:10px;box-shadow:-5px 5px 3px 3px #161616}.settingsWrapper.svelte-1665e1{display:grid;gap:10px;grid-template-columns:1fr auto}label.svelte-1665e1{display:flex;align-items:center;height:30px;min-width:80px}.rangeSettings.svelte-1665e1{width:300px}.setting.svelte-1665e1{display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:5px}.copyButton.svelte-1665e1{filter:saturate(0)
    }`)}function qb(t){var _e,De,nt,ut;let e,n,r,i,o,a,u,f,c=["day","week","year","schedule"].includes(t[0].type),d,m=["day","week","schedule"].includes(t[0].type),h,v=["day","week","schedule"].includes(t[0].type),_,b=["week","schedule"].includes(t[0].type),E,w=["day","week","month","year","schedule","web"].includes(t[0].type),C,A=["year"].includes(t[0].type),Y,M,P,L=["web"].includes(t[0].type),S,F=["web"].includes(t[0].type),ae,z=["web"].includes(t[0].type),X,V,pe,O=c&&Kb(t),Z=m&&Zb(t),te=v&&Xb(t),U=b&&Jb(t),J=w&&Qb(t),se=A&&$b(t),j=t[6]!==void 0&&(((_e=t[7])==null?void 0:_e.length)===0||((De=t[6])==null?void 0:De.length)>0)&&ek(t),K=t[7]!==void 0&&(((nt=t[6])==null?void 0:nt.length)===0||((ut=t[7])==null?void 0:ut.length)>0)&&tk(t),Q=L&&nk(t),ge=F&&rk(t),ue=z&&ik(t);return{c(){e=N("div"),n=N("label"),n.textContent="Copy to Codeblock",r=ee(),i=N("div"),o=N("button"),o.textContent="\u{1F4CB}",a=ee(),u=N("button"),u.textContent="x",f=ee(),O&&O.c(),d=ee(),Z&&Z.c(),h=ee(),te&&te.c(),_=ee(),U&&U.c(),E=ee(),J&&J.c(),C=ee(),se&&se.c(),Y=ee(),j&&j.c(),M=ee(),K&&K.c(),P=ee(),Q&&Q.c(),S=ee(),ge&&ge.c(),ae=ee(),ue&&ue.c(),k(n,"for","hourRange"),k(n,"class","svelte-1665e1"),k(o,"class","copyButton svelte-1665e1"),k(i,"class","setting svelte-1665e1"),k(e,"class","settingsWrapper svelte-1665e1")},m(ye,Ee){B(ye,e,Ee),x(e,n),x(e,r),x(e,i),x(i,o),x(i,a),x(i,u),x(e,f),O&&O.m(e,null),x(e,d),Z&&Z.m(e,null),x(e,h),te&&te.m(e,null),x(e,_),U&&U.m(e,null),x(e,E),J&&J.m(e,null),x(e,C),se&&se.m(e,null),x(e,Y),j&&j.m(e,null),x(e,M),K&&K.m(e,null),x(e,P),Q&&Q.m(e,null),x(e,S),ge&&ge.m(e,null),x(e,ae),ue&&ue.m(e,null),X=!0,V||(pe=[ne(o,"click",t[14]),ne(u,"click",t[15])],V=!0)},p(ye,Ee){var pt,Tt,On,ft;Ee&1&&(c=["day","week","year","schedule"].includes(ye[0].type)),c?O?(O.p(ye,Ee),Ee&1&&ie(O,1)):(O=Kb(ye),O.c(),ie(O,1),O.m(e,d)):O&&($e(),ce(O,1,1,()=>{O=null}),et()),Ee&1&&(m=["day","week","schedule"].includes(ye[0].type)),m?Z?(Z.p(ye,Ee),Ee&1&&ie(Z,1)):(Z=Zb(ye),Z.c(),ie(Z,1),Z.m(e,h)):Z&&($e(),ce(Z,1,1,()=>{Z=null}),et()),Ee&1&&(v=["day","week","schedule"].includes(ye[0].type)),v?te?(te.p(ye,Ee),Ee&1&&ie(te,1)):(te=Xb(ye),te.c(),ie(te,1),te.m(e,_)):te&&($e(),ce(te,1,1,()=>{te=null}),et()),Ee&1&&(b=["week","schedule"].includes(ye[0].type)),b?U?(U.p(ye,Ee),Ee&1&&ie(U,1)):(U=Jb(ye),U.c(),ie(U,1),U.m(e,E)):U&&($e(),ce(U,1,1,()=>{U=null}),et()),Ee&1&&(w=["day","week","month","year","schedule","web"].includes(ye[0].type)),w?J?(J.p(ye,Ee),Ee&1&&ie(J,1)):(J=Qb(ye),J.c(),ie(J,1),J.m(e,C)):J&&($e(),ce(J,1,1,()=>{J=null}),et()),Ee&1&&(A=["year"].includes(ye[0].type)),A?se?(se.p(ye,Ee),Ee&1&&ie(se,1)):(se=$b(ye),se.c(),ie(se,1),se.m(e,Y)):se&&($e(),ce(se,1,1,()=>{se=null}),et()),ye[6]!==void 0&&(((pt=ye[7])==null?void 0:pt.length)===0||((Tt=ye[6])==null?void 0:Tt.length)>0)?j?(j.p(ye,Ee),Ee&192&&ie(j,1)):(j=ek(ye),j.c(),ie(j,1),j.m(e,M)):j&&($e(),ce(j,1,1,()=>{j=null}),et()),ye[7]!==void 0&&(((On=ye[6])==null?void 0:On.length)===0||((ft=ye[7])==null?void 0:ft.length)>0)?K?(K.p(ye,Ee),Ee&192&&ie(K,1)):(K=tk(ye),K.c(),ie(K,1),K.m(e,P)):K&&($e(),ce(K,1,1,()=>{K=null}),et()),Ee&1&&(L=["web"].includes(ye[0].type)),L?Q?Q.p(ye,Ee):(Q=nk(ye),Q.c(),Q.m(e,S)):Q&&(Q.d(1),Q=null),Ee&1&&(F=["web"].includes(ye[0].type)),F?ge?ge.p(ye,Ee):(ge=rk(ye),ge.c(),ge.m(e,ae)):ge&&(ge.d(1),ge=null),Ee&1&&(z=["web"].includes(ye[0].type)),z?ue?ue.p(ye,Ee):(ue=ik(ye),ue.c(),ue.m(e,null)):ue&&(ue.d(1),ue=null)},i(ye){X||(ie(O),ie(Z),ie(te),ie(U),ie(J),ie(se),ie(j),ie(K),X=!0)},o(ye){ce(O),ce(Z),ce(te),ce(U),ce(J),ce(se),ce(j),ce(K),X=!1},d(ye){ye&&W(e),O&&O.d(),Z&&Z.d(),te&&te.d(),U&&U.d(),J&&J.d(),se&&se.d(),j&&j.d(),K&&K.d(),Q&&Q.d(),ge&&ge.d(),ue&&ue.d(),V=!1,ze(pe)}}}function Kb(t){let e,n,r,i,o,a;function u(c){t[17](c)}let f={};return t[4]!==void 0&&(f.checked=t[4]),i=new vh({props:f}),Se.push(()=>Ke(i,"checked",u)),{c(){e=N("label"),e.textContent="Navigation",n=ee(),r=N("div"),rt(i.$$.fragment),k(e,"for","navigation"),k(e,"class","svelte-1665e1"),k(r,"class","setting svelte-1665e1")},m(c,d){B(c,e,d),B(c,n,d),B(c,r,d),tt(i,r,null),a=!0},p(c,d){let m={};!o&&d&16&&(o=!0,m.checked=c[4],qe(()=>o=!1)),i.$set(m)},i(c){a||(ie(i.$$.fragment,c),a=!0)},o(c){ce(i.$$.fragment,c),a=!1},d(c){c&&W(e),c&&W(n),c&&W(r),Je(i)}}}function Zb(t){let e,n,r,i,o,a;function u(c){t[18](c)}let f={};return t[11]!==void 0&&(f.checked=t[11]),i=new vh({props:f}),Se.push(()=>Ke(i,"checked",u)),{c(){e=N("label"),e.textContent="Show All Day",n=ee(),r=N("div"),rt(i.$$.fragment),k(e,"for","allDay"),k(e,"class","svelte-1665e1"),k(r,"class","setting svelte-1665e1")},m(c,d){B(c,e,d),B(c,n,d),B(c,r,d),tt(i,r,null),a=!0},p(c,d){let m={};!o&&d&2048&&(o=!0,m.checked=c[11],qe(()=>o=!1)),i.$set(m)},i(c){a||(ie(i.$$.fragment,c),a=!0)},o(c){ce(i.$$.fragment,c),a=!1},d(c){c&&W(e),c&&W(n),c&&W(r),Je(i)}}}function Xb(t){let e,n,r,i,o,a;function u(c){t[19](c)}let f={pipstep:4,range:!0,min:0,max:24,step:1,all:"label",pips:!0,float:!0};return t[3]!==void 0&&(f.values=t[3]),i=new Pa({props:f}),Se.push(()=>Ke(i,"values",u)),{c(){e=N("label"),e.textContent="Hour Range",n=ee(),r=N("div"),rt(i.$$.fragment),k(e,"for","hourRange"),k(e,"class","svelte-1665e1"),k(r,"class","setting rangeSettings svelte-1665e1")},m(c,d){B(c,e,d),B(c,n,d),B(c,r,d),tt(i,r,null),a=!0},p(c,d){let m={};!o&&d&8&&(o=!0,m.values=c[3],qe(()=>o=!1)),i.$set(m)},i(c){a||(ie(i.$$.fragment,c),a=!0)},o(c){ce(i.$$.fragment,c),a=!1},d(c){c&&W(e),c&&W(n),c&&W(r),Je(i)}}}function Jb(t){let e,n,r,i,o,a;function u(c){t[20](c)}let f={pipstep:5,min:0,max:15,step:1,all:"label",pips:!0,float:!0};return t[5]!==void 0&&(f.values=t[5]),i=new Pa({props:f}),Se.push(()=>Ke(i,"values",u)),{c(){e=N("label"),e.textContent="Timespan",n=ee(),r=N("div"),rt(i.$$.fragment),k(e,"for","timespan"),k(e,"class","svelte-1665e1"),k(r,"class","setting rangeSettings svelte-1665e1")},m(c,d){B(c,e,d),B(c,n,d),B(c,r,d),tt(i,r,null),a=!0},p(c,d){let m={};!o&&d&32&&(o=!0,m.values=c[5],qe(()=>o=!1)),i.$set(m)},i(c){a||(ie(i.$$.fragment,c),a=!0)},o(c){ce(i.$$.fragment,c),a=!1},d(c){c&&W(e),c&&W(n),c&&W(r),Je(i)}}}function Qb(t){let e,n,r,i,o,a;function u(c){t[21](c)}let f={pipstep:5,min:-15,max:15,step:1,all:"label",pips:!0,float:!0};return t[10]!==void 0&&(f.values=t[10]),i=new Pa({props:f}),Se.push(()=>Ke(i,"values",u)),{c(){e=N("label"),e.textContent="Offset",n=ee(),r=N("div"),rt(i.$$.fragment),k(e,"for","offset"),k(e,"class","svelte-1665e1"),k(r,"class","setting rangeSettings svelte-1665e1")},m(c,d){B(c,e,d),B(c,n,d),B(c,r,d),tt(i,r,null),a=!0},p(c,d){let m={};!o&&d&1024&&(o=!0,m.values=c[10],qe(()=>o=!1)),i.$set(m)},i(c){a||(ie(i.$$.fragment,c),a=!0)},o(c){ce(i.$$.fragment,c),a=!1},d(c){c&&W(e),c&&W(n),c&&W(r),Je(i)}}}function $b(t){let e,n,r,i,o,a;function u(c){t[22](c)}let f={pipstep:5,min:5,max:30,step:1,all:"label",pips:!0,float:!0};return t[12]!==void 0&&(f.values=t[12]),i=new Pa({props:f}),Se.push(()=>Ke(i,"values",u)),{c(){e=N("label"),e.textContent="Size",n=ee(),r=N("div"),rt(i.$$.fragment),k(e,"for","size"),k(e,"class","svelte-1665e1"),k(r,"class","setting rangeSettings svelte-1665e1")},m(c,d){B(c,e,d),B(c,n,d),B(c,r,d),tt(i,r,null),a=!0},p(c,d){let m={};!o&&d&4096&&(o=!0,m.values=c[12],qe(()=>o=!1)),i.$set(m)},i(c){a||(ie(i.$$.fragment,c),a=!0)},o(c){ce(i.$$.fragment,c),a=!1},d(c){c&&W(e),c&&W(n),c&&W(r),Je(i)}}}function ek(t){let e,n,r,i,o,a;function u(c){t[23](c)}let f={options:[...t[13],...Tl]};return t[6]!==void 0&&(f.selected=t[6]),i=new Ma({props:f}),Se.push(()=>Ke(i,"selected",u)),{c(){e=N("label"),e.textContent="Include",n=ee(),r=N("div"),rt(i.$$.fragment),k(e,"for","include"),k(e,"class","svelte-1665e1"),k(r,"class","setting svelte-1665e1")},m(c,d){B(c,e,d),B(c,n,d),B(c,r,d),tt(i,r,null),a=!0},p(c,d){let m={};d&8192&&(m.options=[...c[13],...Tl]),!o&&d&64&&(o=!0,m.selected=c[6],qe(()=>o=!1)),i.$set(m)},i(c){a||(ie(i.$$.fragment,c),a=!0)},o(c){ce(i.$$.fragment,c),a=!1},d(c){c&&W(e),c&&W(n),c&&W(r),Je(i)}}}function tk(t){let e,n,r,i,o,a;function u(c){t[24](c)}let f={options:[...t[13],...Tl]};return t[7]!==void 0&&(f.selected=t[7]),i=new Ma({props:f}),Se.push(()=>Ke(i,"selected",u)),{c(){e=N("label"),e.textContent="Exclude",n=ee(),r=N("div"),rt(i.$$.fragment),k(e,"for","exclude"),k(e,"class","svelte-1665e1"),k(r,"class","setting svelte-1665e1")},m(c,d){B(c,e,d),B(c,n,d),B(c,r,d),tt(i,r,null),a=!0},p(c,d){let m={};d&8192&&(m.options=[...c[13],...Tl]),!o&&d&128&&(o=!0,m.selected=c[7],qe(()=>o=!1)),i.$set(m)},i(c){a||(ie(i.$$.fragment,c),a=!0)},o(c){ce(i.$$.fragment,c),a=!1},d(c){c&&W(e),c&&W(n),c&&W(r),Je(i)}}}function nk(t){let e,n,r,i,o,a,u,f,c;return{c(){e=N("label"),e.textContent="Default view",n=ee(),r=N("select"),i=N("option"),i.textContent="Day",o=N("option"),o.textContent="Week",a=N("option"),a.textContent="Month",u=N("option"),u.textContent="Agenda",k(e,"for","defaultView<"),k(e,"class","svelte-1665e1"),i.__value="day",i.value=i.__value,o.__value="week",o.value=o.__value,a.__value="month",a.value=a.__value,u.__value="agenda",u.value=u.__value,k(r,"name","view"),t[8]===void 0&&rn(()=>t[25].call(r))},m(d,m){B(d,e,m),B(d,n,m),B(d,r,m),x(r,i),x(r,o),x(r,a),x(r,u),gi(r,t[8],!0),f||(c=ne(r,"change",t[25]),f=!0)},p(d,m){m&256&&gi(r,d[8])},d(d){d&&W(e),d&&W(n),d&&W(r),f=!1,c()}}}function rk(t){let e,n,r,i,o,a,u,f;return{c(){e=N("label"),e.textContent="Color theme",n=ee(),r=N("select"),i=N("option"),i.textContent="Auto",o=N("option"),o.textContent="Light",a=N("option"),a.textContent="Dark",k(e,"for","ColorTheme"),k(e,"class","svelte-1665e1"),i.__value="auto",i.value=i.__value,o.__value="light",o.value=o.__value,a.__value="dark",a.value=a.__value,k(r,"name","theme"),t[9]===void 0&&rn(()=>t[26].call(r))},m(c,d){B(c,e,d),B(c,n,d),B(c,r,d),x(r,i),x(r,o),x(r,a),gi(r,t[9],!0),u||(f=ne(r,"change",t[26]),u=!0)},p(c,d){d&512&&gi(r,c[9])},d(c){c&&W(e),c&&W(n),c&&W(r),u=!1,f()}}}function ik(t){let e,n,r;return{c(){e=N("button"),e.textContent="Open Login"},m(i,o){B(i,e,o),n||(r=ne(e,"click",t[27]),n=!0)},p:ve,d(i){i&&W(e),n=!1,r()}}}function oR(t){let e,n,r,i=t[1]&&qb(t);return{c(){e=N("div"),i&&i.c(),k(e,"class",n=""+(Ft(t[1]?"settingsContainerOpen":"")+" svelte-1665e1"))},m(o,a){B(o,e,a),i&&i.m(e,null),r=!0},p(o,[a]){o[1]?i?(i.p(o,a),a&2&&ie(i,1)):(i=qb(o),i.c(),ie(i,1),i.m(e,null)):i&&($e(),ce(i,1,1,()=>{i=null}),et()),(!r||a&2&&n!==(n=""+(Ft(o[1]?"settingsContainerOpen":"")+" svelte-1665e1")))&&k(e,"class",n)},i(o){r||(ie(i),r=!0)},o(o){ce(i),r=!1},d(o){o&&W(e),i&&i.d()}}}function sR(t,e,n){let{codeBlockOptions:r}=e,{showSettings:i=!1}=e,{webViewUrl:o=""}=e,a=[],u=we.getInstance();Hi(()=>kt(void 0,void 0,void 0,function*(){n(13,a=yield gr()),n(13,a=a.map(O=>O.summary))}));let f=r.hourRange,c=r.navigation,d=[r.timespan],m=r.include,h=r.exclude,v=r.view,_=r.theme,b=[r.offset],E=r.showAllDay,w=[r.size],C=()=>{let O=u.settings.viewSettings[r.type];delete O.width,delete O.height,O.type==="day"&&delete O.timespan;let te=`\`\`\`gEvent
${(0,Vb.stringifyYaml)(u.settings.viewSettings[r.type])}
\`\`\``;navigator.clipboard.writeText(te)},A=()=>{n(1,i=!1)};function Y(O){c=O,n(4,c)}function M(O){E=O,n(11,E)}function P(O){f=O,n(3,f)}function L(O){d=O,n(5,d)}function S(O){b=O,n(10,b)}function F(O){w=O,n(12,w)}function ae(O){m=O,n(6,m)}function z(O){h=O,n(7,h)}function X(){v=na(this),n(8,v)}function V(){_=na(this),n(9,_)}let pe=()=>n(2,o="https://accounts.google.com");return t.$$set=O=>{"codeBlockOptions"in O&&n(0,r=O.codeBlockOptions),"showSettings"in O&&n(1,i=O.showSettings),"webViewUrl"in O&&n(2,o=O.webViewUrl)},t.$$.update=()=>{if(t.$$.dirty&73721){e:n(0,r.hourRange=f,r),n(0,r.navigation=c,r),n(0,r.timespan=d[0],r),n(0,r.include=m,r),n(0,r.exclude=h,r),n(0,r.view=v,r),n(0,r.theme=_,r),n(0,r.offset=b[0],r),n(0,r.size=w[0],r),n(0,r.showAllDay=E,r),n(16,u.settings.viewSettings[r.type]=Object.assign(Object.assign({},u.settings.viewSettings[r.type]),{hourRange:f,navigation:c,timespan:d[0],include:m,exclude:h,view:v,theme:_,offset:b[0],showAllDay:E,size:w[0]}),u),u.saveSettings()}},[r,i,o,f,c,d,m,h,v,_,b,E,w,a,C,A,u,Y,M,P,L,S,F,ae,z,X,V,pe]}var ok=class extends We{constructor(e){super();je(this,e,sR,oR,Re,{codeBlockOptions:0,showSettings:1,webViewUrl:2},iR)}},ki=ok;function aR(t){dt(t,"svelte-1ficnkj",".fullSize.svelte-1ficnkj,.content.svelte-1ficnkj,.box.svelte-1ficnkj{width:100%;height:100%;overflow:scoll !important}")}function sk(t){let e,n,r,i,o;function a(d){t[5](d)}function u(d){t[6](d)}function f(d){t[7](d)}let c={};return t[0]!==void 0&&(c.codeBlockOptions=t[0]),t[1]!==void 0&&(c.showSettings=t[1]),t[3]!==void 0&&(c.webViewUrl=t[3]),e=new ki({props:c}),Se.push(()=>Ke(e,"codeBlockOptions",a)),Se.push(()=>Ke(e,"showSettings",u)),Se.push(()=>Ke(e,"webViewUrl",f)),{c(){rt(e.$$.fragment)},m(d,m){tt(e,d,m),o=!0},p(d,m){let h={};!n&&m&1&&(n=!0,h.codeBlockOptions=d[0],qe(()=>n=!1)),!r&&m&2&&(r=!0,h.showSettings=d[1],qe(()=>r=!1)),!i&&m&8&&(i=!0,h.webViewUrl=d[3],qe(()=>i=!1)),e.$set(h)},i(d){o||(ie(e.$$.fragment,d),o=!0)},o(d){ce(e.$$.fragment,d),o=!1},d(d){Je(e,d)}}}function lR(t){let e,n,r=`${t[0].width}px`,i=`${t[0].height}px`;return{c(){e=N("webview"),os(e.src,n=t[3])||k(e,"src",n),k(e,"allowpopups",""),he(e,"width",r),he(e,"height",i)},m(o,a){B(o,e,a),t[10](e)},p(o,a){a&8&&!os(e.src,n=o[3])&&k(e,"src",n),a&1&&r!==(r=`${o[0].width}px`)&&he(e,"width",r),a&1&&i!==(i=`${o[0].height}px`)&&he(e,"height",i)},d(o){o&&W(e),t[10](null)}}}function uR(t){let e,n,r=`${t[0].height}px`;return{c(){e=N("webview"),os(e.src,n=t[3])||k(e,"src",n),k(e,"allowpopups",""),he(e,"height",r)},m(i,o){B(i,e,o),t[9](e)},p(i,o){o&8&&!os(e.src,n=i[3])&&k(e,"src",n),o&1&&r!==(r=`${i[0].height}px`)&&he(e,"height",r)},d(i){i&&W(e),t[9](null)}}}function fR(t){let e,n;return{c(){e=N("webview"),os(e.src,n=t[3])||k(e,"src",n),k(e,"allowpopups",""),k(e,"class","fullSize svelte-1ficnkj")},m(r,i){B(r,e,i),t[8](e)},p(r,i){i&8&&!os(e.src,n=r[3])&&k(e,"src",n)},d(r){r&&W(e),t[8](null)}}}function cR(t){let e,n,r,i,o=t[2]&&sk(t);function a(c,d){return c[0].width==-1?fR:c[0].width?lR:uR}let u=a(t,-1),f=u(t);return{c(){e=N("div"),o&&o.c(),n=ee(),r=N("div"),f.c(),k(r,"class","content svelte-1ficnkj"),k(e,"class","box svelte-1ficnkj")},m(c,d){B(c,e,d),o&&o.m(e,null),x(e,n),x(e,r),f.m(r,null),i=!0},p(c,[d]){c[2]?o?(o.p(c,d),d&4&&ie(o,1)):(o=sk(c),o.c(),ie(o,1),o.m(e,n)):o&&($e(),ce(o,1,1,()=>{o=null}),et()),u===(u=a(c,d))&&f?f.p(c,d):(f.d(1),f=u(c),f&&(f.c(),f.m(r,null)))},i(c){i||(ie(o),i=!0)},o(c){ce(o),i=!1},d(c){c&&W(e),o&&o.d(),f.d()}}}function dR(t,e,n){let{codeBlockOptions:r}=e,{isObsidianView:i=!1}=e,{showSettings:o=!1}=e,a,u,f;r.height||(r.height=500);let c=w=>{if(a)return a;if(!f.isValid())return`https://calendar.google.com/calendar/u/0/r/${w}/`;let C=f.format("yyyy/M/D");return`https://calendar.google.com/calendar/u/0/r/${w}/${C}`};function d(w){if(u)if(w=="dark"||w=="auto"&&oy()=="dark"){try{u.removeEventListener("dom-ready",C=>{u.executeJavaScript(`
                        const menu = document.querySelectorAll('[aria-label][aria-expanded]')[0]
                        if(menu.getAttribute("aria-expanded") == "true"){
                            menu.click();
                        }
                    `),u.insertCSS("html { filter: hue-rotate(180deg)invert(100)contrast(93%) !important; }")})}catch(C){}try{u.removeEventListener("dom-ready",C=>{u.executeJavaScript(`
                        const menu = document.querySelectorAll('[aria-label][aria-expanded]')[0]
                        if(menu.getAttribute("aria-expanded") == "true"){
                            menu.click();
                        }
                    `)})}catch(C){}u.addEventListener("dom-ready",C=>{u.executeJavaScript(`
                    const menu = document.querySelectorAll('[aria-label][aria-expanded]')[0]
                    if(menu.getAttribute("aria-expanded") == "true"){
                        menu.click();
                    }
                `),u.insertCSS("html { filter: hue-rotate(180deg)invert(100)contrast(93%) !important; }")})}else u.addEventListener("dom-ready",C=>{u.executeJavaScript(`
                    const menu = document.querySelectorAll('[aria-label][aria-expanded]')[0]
                    if(menu.getAttribute("aria-expanded") == "true"){
                        menu.click();
                    }
                `)})}function m(w){r=w,n(0,r)}function h(w){o=w,n(1,o)}function v(w){a=w,n(3,a),n(0,r)}function _(w){Se[w?"unshift":"push"](()=>{u=w,n(4,u)})}function b(w){Se[w?"unshift":"push"](()=>{u=w,n(4,u)})}function E(w){Se[w?"unshift":"push"](()=>{u=w,n(4,u)})}return t.$$set=w=>{"codeBlockOptions"in w&&n(0,r=w.codeBlockOptions),"isObsidianView"in w&&n(2,i=w.isObsidianView),"showSettings"in w&&n(1,o=w.showSettings)},t.$$.update=()=>{if(t.$$.dirty&1){e:f=r.date?window.moment(r.date).add(r.offset,"day"):window.moment().add(r.offset,"day"),n(3,a=c(r.view)),d(r.theme)}},[r,o,i,a,u,m,h,v,_,b,E]}var ak=class extends We{constructor(e){super();je(this,e,dR,cR,Re,{codeBlockOptions:0,isObsidianView:2,showSettings:1},aR)}},jc=ak;var iq=Me(require("obsidian"));function Sn(){}function Zl(t,e){for(let n in e)t[n]=e[n];return t}function pR(t){return t&&typeof t=="object"&&typeof t.then=="function"}function lk(t){return t()}function uk(){return Object.create(null)}function Ao(t){t.forEach(lk)}function Ei(t){return typeof t=="function"}function yh(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Uc(t,e){return t!=t?e==e:t!==e}function mR(t){return Object.keys(t).length===0}function fk(t,e,n,r){if(t){let i=ck(t,e,n,r);return t[0](i)}}function ck(t,e,n,r){return t[1]&&r?Zl(n.ctx.slice(),t[1](r(e))):n.ctx}function hR(t,e,n,r){if(t[2]&&r){let i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){let o=[],a=Math.max(e.dirty.length,i.length);for(let u=0;u<a;u+=1)o[u]=e.dirty[u]|i[u];return o}return e.dirty|i}return e.dirty}function dk(t,e,n,r,i,o,a){let u=hR(e,r,i,o);if(u){let f=ck(e,n,r,a);t.p(f,u)}}function Na(t){return t==null?"":t}function lt(t,e){t.appendChild(e)}function Dn(t,e,n){t.insertBefore(e,n||null)}function _n(t){t.parentNode.removeChild(t)}function zc(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Rt(t){return document.createElement(t)}function Ra(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function vs(t){return document.createTextNode(t)}function Er(){return vs(" ")}function Hc(){return vs("")}function Xi(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function it(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function pk(t,e){let n=Object.getOwnPropertyDescriptors(t.__proto__);for(let r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:it(t,r,e[r])}function gR(t){return Array.from(t.childNodes)}function Xl(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function un(t,e,n){t.classList[n?"add":"remove"](e)}var Vc;function Mo(t){Vc=t}function vR(){if(!Vc)throw new Error("Function called outside component initialization");return Vc}var Jl=[],mk=[],qc=[],hk=[],_R=Promise.resolve(),wh=!1;function yR(){wh||(wh=!0,_R.then(Th))}function bh(t){qc.push(t)}var kh=!1,Eh=new Set;function Th(){if(!kh){kh=!0;do{for(let t=0;t<Jl.length;t+=1){let e=Jl[t];Mo(e),wR(e.$$)}for(Mo(null),Jl.length=0;mk.length;)mk.pop()();for(let t=0;t<qc.length;t+=1){let e=qc[t];Eh.has(e)||(Eh.add(e),e())}qc.length=0}while(Jl.length);for(;hk.length;)hk.pop()();wh=!1,kh=!1,Eh.clear()}}function wR(t){if(t.fragment!==null){t.update(),Ao(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(bh)}}var Kc=new Set,_s;function ys(){_s={r:0,c:[],p:_s}}function ws(){_s.r||Ao(_s.c),_s=_s.p}function Wt(t,e){t&&t.i&&(Kc.delete(t),t.i(e))}function Zt(t,e,n,r){if(t&&t.o){if(Kc.has(t))return;Kc.add(t),_s.c.push(()=>{Kc.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function gk(t,e){let n=e.token={};function r(i,o,a,u){if(e.token!==n)return;e.resolved=u;let f=e.ctx;a!==void 0&&(f=f.slice(),f[a]=u);let c=i&&(e.current=i)(f),d=!1;e.block&&(e.blocks?e.blocks.forEach((m,h)=>{h!==o&&m&&(ys(),Zt(m,1,1,()=>{e.blocks[h]===m&&(e.blocks[h]=null)}),ws())}):e.block.d(1),c.c(),Wt(c,1),c.m(e.mount(),e.anchor),d=!0),e.block=c,e.blocks&&(e.blocks[o]=c),d&&Th()}if(pR(t)){let i=vR();if(t.then(o=>{Mo(i),r(e.then,1,e.value,o),Mo(null)},o=>{if(Mo(i),r(e.catch,2,e.error,o),Mo(null),!e.hasCatch)throw o}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function vk(t,e){Zt(t,1,1,()=>{e.delete(t.key)})}function _k(t,e,n,r,i,o,a,u,f,c,d,m){let h=t.length,v=o.length,_=h,b={};for(;_--;)b[t[_].key]=_;let E=[],w=new Map,C=new Map;for(_=v;_--;){let P=m(i,o,_),L=n(P),S=a.get(L);S?r&&S.p(P,e):(S=c(L,P),S.c()),w.set(L,E[_]=S),L in b&&C.set(L,Math.abs(_-b[L]))}let A=new Set,Y=new Set;function M(P){Wt(P,1),P.m(u,d),a.set(P.key,P),d=P.first,v--}for(;h&&v;){let P=E[v-1],L=t[h-1],S=P.key,F=L.key;P===L?(d=P.first,h--,v--):w.has(F)?!a.has(S)||A.has(S)?M(P):Y.has(F)?h--:C.get(S)>C.get(F)?(Y.add(S),M(P)):(A.add(F),h--):(f(L,a),h--)}for(;h--;){let P=t[h];w.has(P.key)||f(P,a)}for(;v;)M(E[v-1]);return E}function Zc(t,e){let n={},r={},i={$$scope:1},o=t.length;for(;o--;){let a=t[o],u=e[o];if(u){for(let f in a)f in u||(r[f]=1);for(let f in u)i[f]||(n[f]=u[f],i[f]=1);t[o]=u}else for(let f in a)i[f]=1}for(let a in r)a in n||(n[a]=void 0);return n}function Ch(t){return typeof t=="object"&&t!==null?t:{}}function Ji(t){t&&t.c()}function Ti(t,e,n,r){let{fragment:i,on_mount:o,on_destroy:a,after_update:u}=t.$$;i&&i.m(e,n),r||bh(()=>{let f=o.map(lk).filter(Ei);a?a.push(...f):Ao(f),t.$$.on_mount=[]}),u.forEach(bh)}function Ci(t,e){let n=t.$$;n.fragment!==null&&(Ao(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function bR(t,e){t.$$.dirty[0]===-1&&(Jl.push(t),yR(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function bs(t,e,n,r,i,o,a=[-1]){let u=Vc;Mo(t);let f=t.$$={fragment:null,ctx:null,props:o,update:Sn,not_equal:i,bound:uk(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:uk(),dirty:a,skip_bound:!1},c=!1;if(f.ctx=n?n(t,e.props||{},(d,m,...h)=>{let v=h.length?h[0]:m;return f.ctx&&i(f.ctx[d],f.ctx[d]=v)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](v),c&&bR(t,d)),m}):[],f.update(),c=!0,Ao(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){let d=gR(e.target);f.fragment&&f.fragment.l(d),d.forEach(_n)}else f.fragment&&f.fragment.c();e.intro&&Wt(t.$$.fragment),Ti(t,e.target,e.anchor,e.customElement),Th()}Mo(u)}var xo=class{$destroy(){Ci(this,1),this.$destroy=Sn}$on(e,n){let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{let i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!mR(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};function kR(t,e="day"){let n=t.clone().startOf(e).format();return`${e}-${n}`}var Xc=kR;function ER(){var t=Rt("style");t.id="svelte-1widvzq-style",t.textContent=".dot.svelte-1widvzq,.hollow.svelte-1widvzq{display:inline-block;height:6px;width:6px;margin:0 1px}.filled.svelte-1widvzq{fill:var(--color-dot)}.active.filled.svelte-1widvzq{fill:var(--text-on-accent)}.hollow.svelte-1widvzq{fill:none;stroke:var(--color-dot)}.active.hollow.svelte-1widvzq{fill:none;stroke:var(--text-on-accent)}",lt(document.head,t)}function TR(t){let e,n,r;return{c(){e=Ra("svg"),n=Ra("circle"),it(n,"cx","3"),it(n,"cy","3"),it(n,"r","2"),it(e,"class",r=""+(Na(`hollow ${t[0]}`)+" svelte-1widvzq")),it(e,"viewBox","0 0 6 6"),it(e,"xmlns","http://www.w3.org/2000/svg"),un(e,"active",t[2])},m(i,o){Dn(i,e,o),lt(e,n)},p(i,o){o&1&&r!==(r=""+(Na(`hollow ${i[0]}`)+" svelte-1widvzq"))&&it(e,"class",r),o&5&&un(e,"active",i[2])},d(i){i&&_n(e)}}}function CR(t){let e,n,r;return{c(){e=Ra("svg"),n=Ra("circle"),it(n,"cx","3"),it(n,"cy","3"),it(n,"r","2"),it(e,"class",r=""+(Na(`dot filled ${t[0]}`)+" svelte-1widvzq")),it(e,"viewBox","0 0 6 6"),it(e,"xmlns","http://www.w3.org/2000/svg"),un(e,"active",t[2])},m(i,o){Dn(i,e,o),lt(e,n)},p(i,o){o&1&&r!==(r=""+(Na(`dot filled ${i[0]}`)+" svelte-1widvzq"))&&it(e,"class",r),o&5&&un(e,"active",i[2])},d(i){i&&_n(e)}}}function SR(t){let e;function n(o,a){return o[1]?CR:TR}let r=n(t),i=r(t);return{c(){i.c(),e=Hc()},m(o,a){i.m(o,a),Dn(o,e,a)},p(o,[a]){r===(r=n(o))&&i?i.p(o,a):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},i:Sn,o:Sn,d(o){i.d(o),o&&_n(e)}}}function DR(t,e,n){let{className:r=""}=e,{isFilled:i}=e,{isActive:o}=e;return t.$$set=a=>{"className"in a&&n(0,r=a.className),"isFilled"in a&&n(1,i=a.isFilled),"isActive"in a&&n(2,o=a.isActive)},[r,i,o]}var Sh=class extends xo{constructor(e){super();document.getElementById("svelte-1widvzq-style")||ER(),bs(this,e,DR,SR,yh,{className:0,isFilled:1,isActive:2})}},OR=t=>({}),yk=t=>({metadata:null}),AR=t=>({metadata:t&1}),wk=t=>({metadata:t[3]});function MR(t){let e,n=t[2].default,r=fk(n,t,t[1],yk);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&o&2&&dk(r,n,i,i[1],o,OR,yk)},i(i){e||(Wt(r,i),e=!0)},o(i){Zt(r,i),e=!1},d(i){r&&r.d(i)}}}function xR(t){let e,n,r,i={ctx:t,current:null,token:null,hasCatch:!1,pending:RR,then:NR,catch:PR,value:3,blocks:[,,,]};return gk(n=t[0],i),{c(){e=Hc(),i.block.c()},m(o,a){Dn(o,e,a),i.block.m(o,i.anchor=a),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(o,a){if(t=o,i.ctx=t,!(a&1&&n!==(n=t[0])&&gk(n,i))){let u=t.slice();u[3]=i.resolved,i.block.p(u,a)}},i(o){r||(Wt(i.block),r=!0)},o(o){for(let a=0;a<3;a+=1){let u=i.blocks[a];Zt(u)}r=!1},d(o){o&&_n(e),i.block.d(o),i.token=null,i=null}}}function PR(t){return{c:Sn,m:Sn,p:Sn,i:Sn,o:Sn,d:Sn}}function NR(t){let e,n=t[2].default,r=fk(n,t,t[1],wk);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&o&3&&dk(r,n,i,i[1],o,AR,wk)},i(i){e||(Wt(r,i),e=!0)},o(i){Zt(r,i),e=!1},d(i){r&&r.d(i)}}}function RR(t){return{c:Sn,m:Sn,p:Sn,i:Sn,o:Sn,d:Sn}}function IR(t){let e,n,r,i,o=[xR,MR],a=[];function u(f,c){return f[0]?0:1}return e=u(t),n=a[e]=o[e](t),{c(){n.c(),r=Hc()},m(f,c){a[e].m(f,c),Dn(f,r,c),i=!0},p(f,[c]){let d=e;e=u(f),e===d?a[e].p(f,c):(ys(),Zt(a[d],1,1,()=>{a[d]=null}),ws(),n=a[e],n?n.p(f,c):(n=a[e]=o[e](f),n.c()),Wt(n,1),n.m(r.parentNode,r))},i(f){i||(Wt(n),i=!0)},o(f){Zt(n),i=!1},d(f){a[e].d(f),f&&_n(r)}}}function LR(t,e,n){let{$$slots:r={},$$scope:i}=e,{metadata:o}=e;return t.$$set=a=>{"metadata"in a&&n(0,o=a.metadata),"$$scope"in a&&n(1,i=a.$$scope)},[o,i,r]}var Dh=class extends xo{constructor(e){super();bs(this,e,LR,IR,Uc,{metadata:0})}};function FR(){return navigator.appVersion.indexOf("Mac")!==-1}function Jc(t){return FR()?t.metaKey:t.ctrlKey}function WR(...t){return window.moment.weekdaysShort(!0)}function bk(t){return t.isoWeekday()===6||t.isoWeekday()===7}function YR(t){return t[0].weekday(0)}function BR(t,...e){let n=window.moment().locale(),r=[],i,o=t.clone().locale(n).date(1),a=o.weekday(),u=o.clone().subtract(a,"days");for(let f=0;f<42;f++)f%7==0&&(i={days:[],weekNum:u.week()},r.push(i)),i.days.push(u),u=u.clone().add(1,"days");return r}function GR(){var t=Rt("style");t.id="svelte-q3wqg9-style",t.textContent=".day.svelte-q3wqg9{background-color:var(--color-background-day);border-radius:4px;color:var(--color-text-day);cursor:pointer;font-size:0.8em;height:100%;padding:4px;position:relative;text-align:center;transition:background-color 0.1s ease-in, color 0.1s ease-in;vertical-align:baseline}.day.svelte-q3wqg9:hover{background-color:var(--interactive-hover)}.day.active.svelte-q3wqg9:hover{background-color:var(--interactive-accent-hover)}.adjacent-month.svelte-q3wqg9{opacity:0.25}.today.svelte-q3wqg9{color:var(--color-text-today)}.day.svelte-q3wqg9:active,.active.svelte-q3wqg9,.active.today.svelte-q3wqg9{color:var(--text-on-accent);background-color:var(--interactive-accent)}.dot-container.svelte-q3wqg9{display:flex;flex-wrap:wrap;justify-content:center;line-height:6px;min-height:6px}",lt(document.head,t)}function kk(t,e,n){let r=t.slice();return r[11]=e[n],r}function Ek(t){let e,n,r=[t[11]],i={};for(let o=0;o<r.length;o+=1)i=Zl(i,r[o]);return e=new Sh({props:i}),{c(){Ji(e.$$.fragment)},m(o,a){Ti(e,o,a),n=!0},p(o,a){let u=a&128?Zc(r,[Ch(o[11])]):{};e.$set(u)},i(o){n||(Wt(e.$$.fragment,o),n=!0)},o(o){Zt(e.$$.fragment,o),n=!1},d(o){Ci(e,o)}}}function jR(t){let e,n=t[0].format("D")+"",r,i,o,a,u,f,c,d=t[7].dots,m=[];for(let b=0;b<d.length;b+=1)m[b]=Ek(kk(t,d,b));let h=b=>Zt(m[b],1,1,()=>{m[b]=null}),v=[{class:a=`day ${t[7].classes.join(" ")}`},t[7].dataAttributes||{}],_={};for(let b=0;b<v.length;b+=1)_=Zl(_,v[b]);return{c(){e=Rt("div"),r=vs(n),i=Er(),o=Rt("div");for(let b=0;b<m.length;b+=1)m[b].c();it(o,"class","dot-container svelte-q3wqg9"),pk(e,_),un(e,"active",t[6]===Xc(t[0],"day")),un(e,"adjacent-month",!t[0].isSame(t[5],"month")),un(e,"today",t[0].isSame(t[4],"day")),un(e,"svelte-q3wqg9",!0)},m(b,E){Dn(b,e,E),lt(e,r),lt(e,i),lt(e,o);for(let w=0;w<m.length;w+=1)m[w].m(o,null);u=!0,f||(c=[Xi(e,"click",function(){Ei(t[2]&&t[8])&&(t[2]&&t[8]).apply(this,arguments)}),Xi(e,"contextmenu",function(){Ei(t[3]&&t[9])&&(t[3]&&t[9]).apply(this,arguments)}),Xi(e,"pointerover",function(){Ei(t[1]&&t[10])&&(t[1]&&t[10]).apply(this,arguments)})],f=!0)},p(b,E){if(t=b,(!u||E&1)&&n!==(n=t[0].format("D")+"")&&Xl(r,n),E&128){d=t[7].dots;let w;for(w=0;w<d.length;w+=1){let C=kk(t,d,w);m[w]?(m[w].p(C,E),Wt(m[w],1)):(m[w]=Ek(C),m[w].c(),Wt(m[w],1),m[w].m(o,null))}for(ys(),w=d.length;w<m.length;w+=1)h(w);ws()}pk(e,_=Zc(v,[(!u||E&128&&a!==(a=`day ${t[7].classes.join(" ")}`))&&{class:a},E&128&&(t[7].dataAttributes||{})])),un(e,"active",t[6]===Xc(t[0],"day")),un(e,"adjacent-month",!t[0].isSame(t[5],"month")),un(e,"today",t[0].isSame(t[4],"day")),un(e,"svelte-q3wqg9",!0)},i(b){if(!u){for(let E=0;E<d.length;E+=1)Wt(m[E]);u=!0}},o(b){m=m.filter(Boolean);for(let E=0;E<m.length;E+=1)Zt(m[E]);u=!1},d(b){b&&_n(e),zc(m,b),f=!1,Ao(c)}}}function UR(t){let e,n,r;return n=new Dh({props:{metadata:t[7],$$slots:{default:[jR,({metadata:i})=>({7:i}),({metadata:i})=>i?128:0]},$$scope:{ctx:t}}}),{c(){e=Rt("td"),Ji(n.$$.fragment)},m(i,o){Dn(i,e,o),Ti(n,e,null),r=!0},p(i,[o]){let a={};o&128&&(a.metadata=i[7]),o&16639&&(a.$$scope={dirty:o,ctx:i}),n.$set(a)},i(i){r||(Wt(n.$$.fragment,i),r=!0)},o(i){Zt(n.$$.fragment,i),r=!1},d(i){i&&_n(e),Ci(n)}}}function zR(t,e,n){let{date:r}=e,{metadata:i}=e,{onHover:o}=e,{onClick:a}=e,{onContextMenu:u}=e,{today:f}=e,{displayedMonth:c=null}=e,{selectedId:d=null}=e,m=_=>a(r,Jc(_)),h=_=>u(r,_),v=_=>o(r,_.target,Jc(_));return t.$$set=_=>{"date"in _&&n(0,r=_.date),"metadata"in _&&n(7,i=_.metadata),"onHover"in _&&n(1,o=_.onHover),"onClick"in _&&n(2,a=_.onClick),"onContextMenu"in _&&n(3,u=_.onContextMenu),"today"in _&&n(4,f=_.today),"displayedMonth"in _&&n(5,c=_.displayedMonth),"selectedId"in _&&n(6,d=_.selectedId)},[r,o,a,u,f,c,d,i,m,h,v]}var Tk=class extends xo{constructor(e){super();document.getElementById("svelte-q3wqg9-style")||GR(),bs(this,e,zR,UR,Uc,{date:0,metadata:7,onHover:1,onClick:2,onContextMenu:3,today:4,displayedMonth:5,selectedId:6})}};function HR(){var t=Rt("style");t.id="svelte-156w7na-style",t.textContent=".arrow.svelte-156w7na.svelte-156w7na{align-items:center;cursor:pointer;display:flex;justify-content:center;width:24px}.arrow.is-mobile.svelte-156w7na.svelte-156w7na{width:32px}.right.svelte-156w7na.svelte-156w7na{transform:rotate(180deg)}.arrow.svelte-156w7na svg.svelte-156w7na{color:var(--color-arrow);height:16px;width:16px}",lt(document.head,t)}function VR(t){let e,n,r,i,o;return{c(){e=Rt("div"),n=Ra("svg"),r=Ra("path"),it(r,"fill","currentColor"),it(r,"d","M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"),it(n,"focusable","false"),it(n,"role","img"),it(n,"xmlns","http://www.w3.org/2000/svg"),it(n,"viewBox","0 0 320 512"),it(n,"class","svelte-156w7na"),it(e,"class","arrow svelte-156w7na"),it(e,"aria-label",t[1]),un(e,"is-mobile",t[3]),un(e,"right",t[2]==="right")},m(a,u){Dn(a,e,u),lt(e,n),lt(n,r),i||(o=Xi(e,"click",function(){Ei(t[0])&&t[0].apply(this,arguments)}),i=!0)},p(a,[u]){t=a,u&2&&it(e,"aria-label",t[1]),u&4&&un(e,"right",t[2]==="right")},i:Sn,o:Sn,d(a){a&&_n(e),i=!1,o()}}}function qR(t,e,n){let{onClick:r}=e,{tooltip:i}=e,{direction:o}=e,a=window.app.isMobile;return t.$$set=u=>{"onClick"in u&&n(0,r=u.onClick),"tooltip"in u&&n(1,i=u.tooltip),"direction"in u&&n(2,o=u.direction)},[r,i,o,a]}var Oh=class extends xo{constructor(e){super();document.getElementById("svelte-156w7na-style")||HR(),bs(this,e,qR,VR,yh,{onClick:0,tooltip:1,direction:2})}};function KR(){var t=Rt("style");t.id="svelte-1vwr9dd-style",t.textContent=".nav.svelte-1vwr9dd.svelte-1vwr9dd{align-items:center;display:flex;margin:0.6em 0 1em;padding:0 8px;width:100%}.nav.is-mobile.svelte-1vwr9dd.svelte-1vwr9dd{padding:0}.title.svelte-1vwr9dd.svelte-1vwr9dd{color:var(--color-text-title);font-size:1.5em;margin:0}.is-mobile.svelte-1vwr9dd .title.svelte-1vwr9dd{font-size:1.3em}.month.svelte-1vwr9dd.svelte-1vwr9dd{font-weight:500;text-transform:capitalize}.year.svelte-1vwr9dd.svelte-1vwr9dd{color:var(--interactive-accent)}.right-nav.svelte-1vwr9dd.svelte-1vwr9dd{display:flex;justify-content:center;margin-left:auto}.reset-button.svelte-1vwr9dd.svelte-1vwr9dd{cursor:pointer;border-radius:4px;color:var(--text-muted);font-size:0.7em;font-weight:600;letter-spacing:1px;margin:0 4px;padding:0px 4px;text-transform:uppercase}.is-mobile.svelte-1vwr9dd .reset-button.svelte-1vwr9dd{display:none}",lt(document.head,t)}function ZR(t){let e,n,r,i=t[0].format("MMM")+"",o,a,u,f=t[0].format("YYYY")+"",c,d,m,h,v,_,b,E,w,C,A;return h=new Oh({props:{direction:"left",onClick:t[3],tooltip:"Previous Month"}}),E=new Oh({props:{direction:"right",onClick:t[2],tooltip:"Next Month"}}),{c(){e=Rt("div"),n=Rt("h3"),r=Rt("span"),o=vs(i),a=Er(),u=Rt("span"),c=vs(f),d=Er(),m=Rt("div"),Ji(h.$$.fragment),v=Er(),_=Rt("div"),_.textContent=`${t[4]}`,b=Er(),Ji(E.$$.fragment),it(r,"class","month svelte-1vwr9dd"),it(u,"class","year svelte-1vwr9dd"),it(n,"class","title svelte-1vwr9dd"),it(_,"class","reset-button svelte-1vwr9dd"),it(m,"class","right-nav svelte-1vwr9dd"),it(e,"class","nav svelte-1vwr9dd"),un(e,"is-mobile",t[5])},m(Y,M){Dn(Y,e,M),lt(e,n),lt(n,r),lt(r,o),lt(n,a),lt(n,u),lt(u,c),lt(e,d),lt(e,m),Ti(h,m,null),lt(m,v),lt(m,_),lt(m,b),Ti(E,m,null),w=!0,C||(A=[Xi(n,"click",function(){Ei(t[1])&&t[1].apply(this,arguments)}),Xi(_,"click",function(){Ei(t[1])&&t[1].apply(this,arguments)})],C=!0)},p(Y,[M]){t=Y,(!w||M&1)&&i!==(i=t[0].format("MMM")+"")&&Xl(o,i),(!w||M&1)&&f!==(f=t[0].format("YYYY")+"")&&Xl(c,f);let P={};M&8&&(P.onClick=t[3]),h.$set(P);let L={};M&4&&(L.onClick=t[2]),E.$set(L)},i(Y){w||(Wt(h.$$.fragment,Y),Wt(E.$$.fragment,Y),w=!0)},o(Y){Zt(h.$$.fragment,Y),Zt(E.$$.fragment,Y),w=!1},d(Y){Y&&_n(e),Ci(h),Ci(E),C=!1,Ao(A)}}}function XR(t,e,n){let{displayedMonth:r}=e,{today:i}=e,{resetDisplayedMonth:o}=e,{incrementDisplayedMonth:a}=e,{decrementDisplayedMonth:u}=e,f=i.calendar().split(/\d|\s/)[0],c=window.app.isMobile;return t.$$set=d=>{"displayedMonth"in d&&n(0,r=d.displayedMonth),"today"in d&&n(6,i=d.today),"resetDisplayedMonth"in d&&n(1,o=d.resetDisplayedMonth),"incrementDisplayedMonth"in d&&n(2,a=d.incrementDisplayedMonth),"decrementDisplayedMonth"in d&&n(3,u=d.decrementDisplayedMonth)},[r,o,a,u,f,c,i]}var Ck=class extends xo{constructor(e){super();document.getElementById("svelte-1vwr9dd-style")||KR(),bs(this,e,XR,ZR,yh,{displayedMonth:0,today:6,resetDisplayedMonth:1,incrementDisplayedMonth:2,decrementDisplayedMonth:3})}};function JR(){var t=Rt("style");t.id="svelte-egt0yd-style",t.textContent="td.svelte-egt0yd{border-right:1px solid var(--background-modifier-border)}.week-num.svelte-egt0yd{background-color:var(--color-background-weeknum);border-radius:4px;color:var(--color-text-weeknum);cursor:pointer;font-size:0.65em;height:100%;padding:4px;text-align:center;transition:background-color 0.1s ease-in, color 0.1s ease-in;vertical-align:baseline}.week-num.svelte-egt0yd:hover{background-color:var(--interactive-hover)}.week-num.active.svelte-egt0yd:hover{background-color:var(--interactive-accent-hover)}.active.svelte-egt0yd{color:var(--text-on-accent);background-color:var(--interactive-accent)}.dot-container.svelte-egt0yd{display:flex;flex-wrap:wrap;justify-content:center;line-height:6px;min-height:6px}",lt(document.head,t)}function Sk(t,e,n){let r=t.slice();return r[11]=e[n],r}function Dk(t){let e,n,r=[t[11]],i={};for(let o=0;o<r.length;o+=1)i=Zl(i,r[o]);return e=new Sh({props:i}),{c(){Ji(e.$$.fragment)},m(o,a){Ti(e,o,a),n=!0},p(o,a){let u=a&64?Zc(r,[Ch(o[11])]):{};e.$set(u)},i(o){n||(Wt(e.$$.fragment,o),n=!0)},o(o){Zt(e.$$.fragment,o),n=!1},d(o){Ci(e,o)}}}function QR(t){let e,n,r,i,o,a,u,f,c=t[6].dots,d=[];for(let h=0;h<c.length;h+=1)d[h]=Dk(Sk(t,c,h));let m=h=>Zt(d[h],1,1,()=>{d[h]=null});return{c(){e=Rt("div"),n=vs(t[0]),r=Er(),i=Rt("div");for(let h=0;h<d.length;h+=1)d[h].c();it(i,"class","dot-container svelte-egt0yd"),it(e,"class",o=""+(Na(`week-num ${t[6].classes.join(" ")}`)+" svelte-egt0yd")),un(e,"active",t[5]===Xc(t[1][0],"week"))},m(h,v){Dn(h,e,v),lt(e,n),lt(e,r),lt(e,i);for(let _=0;_<d.length;_+=1)d[_].m(i,null);a=!0,u||(f=[Xi(e,"click",function(){Ei(t[3]&&t[8])&&(t[3]&&t[8]).apply(this,arguments)}),Xi(e,"contextmenu",function(){Ei(t[4]&&t[9])&&(t[4]&&t[9]).apply(this,arguments)}),Xi(e,"pointerover",function(){Ei(t[2]&&t[10])&&(t[2]&&t[10]).apply(this,arguments)})],u=!0)},p(h,v){if(t=h,(!a||v&1)&&Xl(n,t[0]),v&64){c=t[6].dots;let _;for(_=0;_<c.length;_+=1){let b=Sk(t,c,_);d[_]?(d[_].p(b,v),Wt(d[_],1)):(d[_]=Dk(b),d[_].c(),Wt(d[_],1),d[_].m(i,null))}for(ys(),_=c.length;_<d.length;_+=1)m(_);ws()}(!a||v&64&&o!==(o=""+(Na(`week-num ${t[6].classes.join(" ")}`)+" svelte-egt0yd")))&&it(e,"class",o),v&98&&un(e,"active",t[5]===Xc(t[1][0],"week"))},i(h){if(!a){for(let v=0;v<c.length;v+=1)Wt(d[v]);a=!0}},o(h){d=d.filter(Boolean);for(let v=0;v<d.length;v+=1)Zt(d[v]);a=!1},d(h){h&&_n(e),zc(d,h),u=!1,Ao(f)}}}function $R(t){let e,n,r;return n=new Dh({props:{metadata:t[6],$$slots:{default:[QR,({metadata:i})=>({6:i}),({metadata:i})=>i?64:0]},$$scope:{ctx:t}}}),{c(){e=Rt("td"),Ji(n.$$.fragment),it(e,"class","svelte-egt0yd")},m(i,o){Dn(i,e,o),Ti(n,e,null),r=!0},p(i,[o]){let a={};o&64&&(a.metadata=i[6]),o&16639&&(a.$$scope={dirty:o,ctx:i}),n.$set(a)},i(i){r||(Wt(n.$$.fragment,i),r=!0)},o(i){Zt(n.$$.fragment,i),r=!1},d(i){i&&_n(e),Ci(n)}}}function eI(t,e,n){let{weekNum:r}=e,{days:i}=e,{metadata:o}=e,{onHover:a}=e,{onClick:u}=e,{onContextMenu:f}=e,{selectedId:c=null}=e,d,m=_=>u(d,Jc(_)),h=_=>f(i[0],_),v=_=>a(d,_.target,Jc(_));return t.$$set=_=>{"weekNum"in _&&n(0,r=_.weekNum),"days"in _&&n(1,i=_.days),"metadata"in _&&n(6,o=_.metadata),"onHover"in _&&n(2,a=_.onHover),"onClick"in _&&n(3,u=_.onClick),"onContextMenu"in _&&n(4,f=_.onContextMenu),"selectedId"in _&&n(5,c=_.selectedId)},t.$$.update=()=>{t.$$.dirty&2&&n(7,d=YR(i))},[r,i,a,u,f,c,o,d,m,h,v]}var Ok=class extends xo{constructor(e){super();document.getElementById("svelte-egt0yd-style")||JR(),bs(this,e,eI,$R,Uc,{weekNum:0,days:1,metadata:6,onHover:2,onClick:3,onContextMenu:4,selectedId:5})}};function Ak(t){return $(this,null,function*(){let e={dots:[],classes:[],dataAttributes:{}};return(yield Promise.all(t)).reduce((r,i)=>({classes:[...r.classes,...i.classes||[]],dataAttributes:Object.assign(r.dataAttributes,i.dataAttributes),dots:[...r.dots,...i.dots||[]]}),e)})}function Mk(t,e,...n){return Ak(t.map(r=>r.getDailyMetadata(e)))}function xk(t,e,...n){return Ak(t.map(r=>r.getWeeklyMetadata(e)))}function tI(){var t=Rt("style");t.id="svelte-pcimu8-style",t.textContent=".container.svelte-pcimu8{--color-background-heading:transparent;--color-background-day:transparent;--color-background-weeknum:transparent;--color-background-weekend:transparent;--color-dot:var(--text-muted);--color-arrow:var(--text-muted);--color-button:var(--text-muted);--color-text-title:var(--text-normal);--color-text-heading:var(--text-muted);--color-text-day:var(--text-normal);--color-text-today:var(--interactive-accent);--color-text-weeknum:var(--text-muted)}.container.svelte-pcimu8{padding:0 8px}.container.is-mobile.svelte-pcimu8{padding:0}th.svelte-pcimu8{text-align:center}.weekend.svelte-pcimu8{background-color:var(--color-background-weekend)}.calendar.svelte-pcimu8{border-collapse:collapse;width:100%}th.svelte-pcimu8{background-color:var(--color-background-heading);color:var(--color-text-heading);font-size:0.6em;letter-spacing:1px;padding:4px;text-transform:uppercase}",lt(document.head,t)}function Pk(t,e,n){let r=t.slice();return r[18]=e[n],r}function Nk(t,e,n){let r=t.slice();return r[21]=e[n],r}function Rk(t,e,n){let r=t.slice();return r[24]=e[n],r}function Ik(t,e,n){let r=t.slice();return r[27]=e[n],r}function Lk(t){let e;return{c(){e=Rt("col")},m(n,r){Dn(n,e,r)},d(n){n&&_n(e)}}}function Fk(t){let e;return{c(){e=Rt("col"),it(e,"class","svelte-pcimu8"),un(e,"weekend",bk(t[27]))},m(n,r){Dn(n,e,r)},p(n,r){r&16384&&un(e,"weekend",bk(n[27]))},d(n){n&&_n(e)}}}function Wk(t){let e;return{c(){e=Rt("th"),e.textContent="W",it(e,"class","svelte-pcimu8")},m(n,r){Dn(n,e,r)},d(n){n&&_n(e)}}}function Yk(t){let e,n=t[24]+"",r;return{c(){e=Rt("th"),r=vs(n),it(e,"class","svelte-pcimu8")},m(i,o){Dn(i,e,o),lt(e,r)},p(i,o){o&32768&&n!==(n=i[24]+"")&&Xl(r,n)},d(i){i&&_n(e)}}}function Bk(t){let e,n,r=[t[18],{metadata:xk(t[8],t[18].days[0],t[10])},{onClick:t[7]},{onContextMenu:t[5]},{onHover:t[3]},{selectedId:t[9]}],i={};for(let o=0;o<r.length;o+=1)i=Zl(i,r[o]);return e=new Ok({props:i}),{c(){Ji(e.$$.fragment)},m(o,a){Ti(e,o,a),n=!0},p(o,a){let u=a&18344?Zc(r,[a&16384&&Ch(o[18]),a&17664&&{metadata:xk(o[8],o[18].days[0],o[10])},a&128&&{onClick:o[7]},a&32&&{onContextMenu:o[5]},a&8&&{onHover:o[3]},a&512&&{selectedId:o[9]}]):{};e.$set(u)},i(o){n||(Wt(e.$$.fragment,o),n=!0)},o(o){Zt(e.$$.fragment,o),n=!1},d(o){Ci(e,o)}}}function Gk(t,e){let n,r,i;return r=new Tk({props:{date:e[21],today:e[10],displayedMonth:e[0],onClick:e[6],onContextMenu:e[4],onHover:e[2],metadata:Mk(e[8],e[21],e[10]),selectedId:e[9]}}),{key:t,first:null,c(){n=Hc(),Ji(r.$$.fragment),this.first=n},m(o,a){Dn(o,n,a),Ti(r,o,a),i=!0},p(o,a){e=o;let u={};a&16384&&(u.date=e[21]),a&1024&&(u.today=e[10]),a&1&&(u.displayedMonth=e[0]),a&64&&(u.onClick=e[6]),a&16&&(u.onContextMenu=e[4]),a&4&&(u.onHover=e[2]),a&17664&&(u.metadata=Mk(e[8],e[21],e[10])),a&512&&(u.selectedId=e[9]),r.$set(u)},i(o){i||(Wt(r.$$.fragment,o),i=!0)},o(o){Zt(r.$$.fragment,o),i=!1},d(o){o&&_n(n),Ci(r,o)}}}function jk(t,e){let n,r,i=[],o=new Map,a,u,f=e[1]&&Bk(e),c=e[18].days,d=m=>m[21].format();for(let m=0;m<c.length;m+=1){let h=Nk(e,c,m),v=d(h);o.set(v,i[m]=Gk(v,h))}return{key:t,first:null,c(){n=Rt("tr"),f&&f.c(),r=Er();for(let m=0;m<i.length;m+=1)i[m].c();a=Er(),this.first=n},m(m,h){Dn(m,n,h),f&&f.m(n,null),lt(n,r);for(let v=0;v<i.length;v+=1)i[v].m(n,null);lt(n,a),u=!0},p(m,h){e=m,e[1]?f?(f.p(e,h),h&2&&Wt(f,1)):(f=Bk(e),f.c(),Wt(f,1),f.m(n,r)):f&&(ys(),Zt(f,1,1,()=>{f=null}),ws()),h&18261&&(c=e[18].days,ys(),i=_k(i,h,d,1,e,c,o,n,vk,Gk,a,Nk),ws())},i(m){if(!u){Wt(f);for(let h=0;h<c.length;h+=1)Wt(i[h]);u=!0}},o(m){Zt(f);for(let h=0;h<i.length;h+=1)Zt(i[h]);u=!1},d(m){m&&_n(n),f&&f.d();for(let h=0;h<i.length;h+=1)i[h].d()}}}function nI(t){let e,n,r,i,o,a,u,f,c,d,m,h,v=[],_=new Map,b;n=new Ck({props:{today:t[10],displayedMonth:t[0],incrementDisplayedMonth:t[11],decrementDisplayedMonth:t[12],resetDisplayedMonth:t[13]}});let E=t[1]&&Lk(),w=t[14][1].days,C=[];for(let S=0;S<w.length;S+=1)C[S]=Fk(Ik(t,w,S));let A=t[1]&&Wk(),Y=t[15],M=[];for(let S=0;S<Y.length;S+=1)M[S]=Yk(Rk(t,Y,S));let P=t[14],L=S=>S[18].weekNum;for(let S=0;S<P.length;S+=1){let F=Pk(t,P,S),ae=L(F);_.set(ae,v[S]=jk(ae,F))}return{c(){e=Rt("div"),Ji(n.$$.fragment),r=Er(),i=Rt("table"),o=Rt("colgroup"),E&&E.c(),a=Er();for(let S=0;S<C.length;S+=1)C[S].c();u=Er(),f=Rt("thead"),c=Rt("tr"),A&&A.c(),d=Er();for(let S=0;S<M.length;S+=1)M[S].c();m=Er(),h=Rt("tbody");for(let S=0;S<v.length;S+=1)v[S].c();it(i,"class","calendar svelte-pcimu8"),it(e,"id","calendar-container"),it(e,"class","container svelte-pcimu8"),un(e,"is-mobile",t[16])},m(S,F){Dn(S,e,F),Ti(n,e,null),lt(e,r),lt(e,i),lt(i,o),E&&E.m(o,null),lt(o,a);for(let ae=0;ae<C.length;ae+=1)C[ae].m(o,null);lt(i,u),lt(i,f),lt(f,c),A&&A.m(c,null),lt(c,d);for(let ae=0;ae<M.length;ae+=1)M[ae].m(c,null);lt(i,m),lt(i,h);for(let ae=0;ae<v.length;ae+=1)v[ae].m(h,null);b=!0},p(S,[F]){let ae={};if(F&1024&&(ae.today=S[10]),F&1&&(ae.displayedMonth=S[0]),n.$set(ae),S[1]?E||(E=Lk(),E.c(),E.m(o,a)):E&&(E.d(1),E=null),F&16384){w=S[14][1].days;let z;for(z=0;z<w.length;z+=1){let X=Ik(S,w,z);C[z]?C[z].p(X,F):(C[z]=Fk(X),C[z].c(),C[z].m(o,null))}for(;z<C.length;z+=1)C[z].d(1);C.length=w.length}if(S[1]?A||(A=Wk(),A.c(),A.m(c,d)):A&&(A.d(1),A=null),F&32768){Y=S[15];let z;for(z=0;z<Y.length;z+=1){let X=Rk(S,Y,z);M[z]?M[z].p(X,F):(M[z]=Yk(X),M[z].c(),M[z].m(c,null))}for(;z<M.length;z+=1)M[z].d(1);M.length=Y.length}F&18431&&(P=S[14],ys(),v=_k(v,F,L,1,S,P,_,h,vk,jk,null,Pk),ws())},i(S){if(!b){Wt(n.$$.fragment,S);for(let F=0;F<P.length;F+=1)Wt(v[F]);b=!0}},o(S){Zt(n.$$.fragment,S);for(let F=0;F<v.length;F+=1)Zt(v[F]);b=!1},d(S){S&&_n(e),Ci(n),E&&E.d(),zc(C,S),A&&A.d(),zc(M,S);for(let F=0;F<v.length;F+=1)v[F].d()}}}function rI(t,e,n){let{localeData:r}=e,{showWeekNums:i=!1}=e,{onHoverDay:o}=e,{onHoverWeek:a}=e,{onContextMenuDay:u}=e,{onContextMenuWeek:f}=e,{onClickDay:c}=e,{onClickWeek:d}=e,{sources:m=[]}=e,{selectedId:h}=e,{today:v=window.moment()}=e,{displayedMonth:_=v}=e,b,E,w=window.app.isMobile;function C(){n(0,_=_.clone().add(1,"month"))}function A(){n(0,_=_.clone().subtract(1,"month"))}function Y(){n(0,_=v.clone())}return t.$$set=M=>{"localeData"in M&&n(17,r=M.localeData),"showWeekNums"in M&&n(1,i=M.showWeekNums),"onHoverDay"in M&&n(2,o=M.onHoverDay),"onHoverWeek"in M&&n(3,a=M.onHoverWeek),"onContextMenuDay"in M&&n(4,u=M.onContextMenuDay),"onContextMenuWeek"in M&&n(5,f=M.onContextMenuWeek),"onClickDay"in M&&n(6,c=M.onClickDay),"onClickWeek"in M&&n(7,d=M.onClickWeek),"sources"in M&&n(8,m=M.sources),"selectedId"in M&&n(9,h=M.selectedId),"today"in M&&n(10,v=M.today),"displayedMonth"in M&&n(0,_=M.displayedMonth)},t.$$.update=()=>{t.$$.dirty&131073&&n(14,b=BR(_,r)),t.$$.dirty&132096&&n(15,E=WR(v,r))},[_,i,o,a,u,f,c,d,m,h,v,C,A,Y,b,E,w,r]}var Qc=class extends xo{constructor(e){super();document.getElementById("svelte-pcimu8-style")||tI(),bs(this,e,rI,nI,Uc,{localeData:17,showWeekNums:1,onHoverDay:2,onHoverWeek:3,onContextMenuDay:4,onContextMenuWeek:5,onClickDay:6,onClickWeek:7,sources:8,selectedId:9,today:10,displayedMonth:0,incrementDisplayedMonth:11,decrementDisplayedMonth:12,resetDisplayedMonth:13})}get incrementDisplayedMonth(){return this.$$.ctx[11]}get decrementDisplayedMonth(){return this.$$.ctx[12]}get resetDisplayedMonth(){return this.$$.ctx[13]}};var nd=Me(di());var LE=Me(ff()),eu=Me(require("obsidian"));var SE=Me(require("obsidian"));function Uk(){return hb(null,t=>{let e=()=>t(new Date);e();let n=setInterval(e,1e3*60);return()=>clearInterval(n)})}var $k=Me(qk());var Qi;(function(r){r[r.DRAG=0]="DRAG",r[r.RESIZE_TOP=1]="RESIZE_TOP",r[r.RESIZE_BOTTOM=2]="RESIZE_BOTTOM"})(Qi||(Qi={}));function fI(t){dt(t,"svelte-innwxl",".dragHandle.svelte-innwxl{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}.bottomHandle.svelte-innwxl,.topHandle.svelte-innwxl{position:absolute;height:10px;width:100%;left:0;cursor:row-resize;z-index:0}.bottomHandle.svelte-innwxl:hover,.topHandle.svelte-innwxl:hover{background-color:rgba(0, 0, 0, 0.1)}.bottomHandle.svelte-innwxl{bottom:0}.topHandle.svelte-innwxl{top:0}")}function cI(t){let e,n,r,i,o,a,u;return{c(){e=N("div"),n=ee(),r=N("div"),i=ee(),o=N("div"),k(e,"class","dragHandle svelte-innwxl"),k(r,"class","topHandle svelte-innwxl"),k(o,"class","bottomHandle svelte-innwxl")},m(f,c){B(f,e,c),B(f,n,c),B(f,r,c),B(f,i,c),B(f,o,c),a||(u=[ne(window,"mouseup",t[2]),ne(window,"mousemove",t[1]),ne(e,"mousedown",t[11]),ne(r,"mousedown",t[12]),ne(o,"mousedown",t[13])],a=!0)},p:ve,i:ve,o:ve,d(f){f&&W(e),f&&W(n),f&&W(r),f&&W(i),f&&W(o),a=!1,ze(u)}}}var Kk=200;function dI(t,e,n){let{timelineWidth:r}=e,{top:i}=e,{left:o}=e,{height:a}=e,{width:u}=e,{onDrag:f}=e,{onDragClick:c}=e,{onDragLongClick:d}=e,m=null,h=0,v=(A,Y)=>{A.target.parentElement.style.zIndex="1000",A.target.parentElement.parentElement.parentElement.style.overflow="visible";let M=A.target.getBoundingClientRect(),P=A.clientX-M.left;h=r*(o/100)+P,m={moveType:Y,time:new Date().getTime(),e:A,startState:{top:i,left:o,height:a,width:u},endState:{top:-1,left:-1,height:-1,width:-1,horizontal:0}},n(6,u=100),n(4,o=0)},_=A=>{var Y,M,P;if(!(m==null?void 0:m.time)||m.time+Kk>=new Date().getTime()||!(((Y=m.e)===null||Y===void 0?void 0:Y.target)instanceof HTMLDivElement)||!(((P=(M=m.e)===null||M===void 0?void 0:M.target.parentElement)===null||P===void 0?void 0:P.parentElement)instanceof HTMLDivElement))return;let L=i,S=a;m.moveType===Qi.DRAG?L+=A.movementY:m.moveType===Qi.RESIZE_BOTTOM?S+=A.movementY:m.moveType===Qi.RESIZE_TOP&&(L+=A.movementY,S-=A.movementY),S>10&&L>=0&&L+S<=m.e.target.parentElement.parentElement.clientHeight&&(n(3,i=L),n(5,a=S),m.endState.top=i,m.endState.height=a),h+=A.movementX;let F=Math.floor(h/(r+16));m.endState.horizontal=F,n(4,o=F*100)},b=A=>{!(m==null?void 0:m.time)||(m.time+Kk<new Date().getTime()?i===m.startState.top&&a===m.startState.height?(m.endState.width=m.startState.width,m.endState.left=m.startState.left,n(6,u=m.endState.width),n(4,o=m.endState.left),A.target.parentElement.parentElement.parentElement.style.overflow="hidden",d(m)):f(m):(A.target.parentElement.parentElement.parentElement.style.overflow="hidden",c(m)),m.e.target.parentElement.style.zIndex="0",m.time=null,h=0)},E=A=>v(A,Qi.DRAG),w=A=>v(A,Qi.RESIZE_TOP),C=A=>v(A,Qi.RESIZE_BOTTOM);return t.$$set=A=>{"timelineWidth"in A&&n(7,r=A.timelineWidth),"top"in A&&n(3,i=A.top),"left"in A&&n(4,o=A.left),"height"in A&&n(5,a=A.height),"width"in A&&n(6,u=A.width),"onDrag"in A&&n(8,f=A.onDrag),"onDragClick"in A&&n(9,c=A.onDragClick),"onDragLongClick"in A&&n(10,d=A.onDragLongClick)},[v,_,b,i,o,a,u,r,f,c,d,E,w,C]}var Zk=class extends We{constructor(e){super();je(this,e,dI,cI,Re,{timelineWidth:7,top:3,left:4,height:5,width:6,onDrag:8,onDragClick:9,onDragLongClick:10},fI)}},Xk=Zk;function pI(t){dt(t,"svelte-2o273q",".googleCalendarEvent.svelte-2o273q{display:flex;padding:0 10px 10px;position:absolute;cursor:pointer;width:150px;border-radius:5px;color:black;font-size:small;box-shadow:3px 2px 8px 4px rgba(0, 0, 0, 0.36);overflow:hidden;user-select:none;z-index:1}.googleCalendarEvent_Past.svelte-2o273q{opacity:0.5}.textSmall.svelte-2o273q{padding:0}.googleCalendarName.svelte-2o273q{pointer-events:none;max-width:100%;word-break:break-word;hyphens:auto;z-index:1}.hourText.svelte-2o273q{overflow:hidden}")}function mI(t){let e,n,r=ga(t[0].event.summary)+"",i,o,a,u,f,c,d,m,h,v,_=`${t[0].y}px`,b=`calc(${t[0].x}% + ${t[0].x/100} * 16px)`,E=`${t[0].width}%`,w=`${t[0].height}px`,C;function A(S){t[9](S)}function Y(S){t[10](S)}function M(S){t[11](S)}function P(S){t[12](S)}let L={onDrag:t[3],onDragClick:t[4],onDragLongClick:t[5],timelineWidth:t[1]};return t[0].x!==void 0&&(L.left=t[0].x),t[0].y!==void 0&&(L.top=t[0].y),t[0].height!==void 0&&(L.height=t[0].height),t[0].width!==void 0&&(L.width=t[0].width),a=new Xk({props:L}),Se.push(()=>Ke(a,"left",A)),Se.push(()=>Ke(a,"top",Y)),Se.push(()=>Ke(a,"height",M)),Se.push(()=>Ke(a,"width",P)),{c(){e=N("div"),n=N("span"),o=ee(),rt(a.$$.fragment),k(n,"class",i="googleCalendarName googleCalendarName_Calendar_Color_"+t[0].event.parent.colorId+" googleCalendarName_Event_Color_"+t[0].event.parent.colorId+" googleCalendarName_Id_"+t[0].event.parent.id+" svelte-2o273q"),k(e,"class",m=""+(Ft(t[6](t[2]))+" svelte-2o273q")),k(e,"id",h=t[0].event.id),rn(()=>t[13].call(e)),he(e,"top",_),he(e,"left",b),he(e,"width",E),he(e,"height",w),he(e,"background",zi(t[0].event))},m(S,F){B(S,e,F),x(e,n),n.innerHTML=r,x(e,o),tt(a,e,null),v=ra(e,t[13].bind(e)),C=!0},p(S,[F]){(!C||F&1)&&r!==(r=ga(S[0].event.summary)+"")&&(n.innerHTML=r),(!C||F&1&&i!==(i="googleCalendarName googleCalendarName_Calendar_Color_"+S[0].event.parent.colorId+" googleCalendarName_Event_Color_"+S[0].event.parent.colorId+" googleCalendarName_Id_"+S[0].event.parent.id+" svelte-2o273q"))&&k(n,"class",i);let ae={};F&2&&(ae.timelineWidth=S[1]),!u&&F&1&&(u=!0,ae.left=S[0].x,qe(()=>u=!1)),!f&&F&1&&(f=!0,ae.top=S[0].y,qe(()=>f=!1)),!c&&F&1&&(c=!0,ae.height=S[0].height,qe(()=>c=!1)),!d&&F&1&&(d=!0,ae.width=S[0].width,qe(()=>d=!1)),a.$set(ae),(!C||F&4&&m!==(m=""+(Ft(S[6](S[2]))+" svelte-2o273q")))&&k(e,"class",m),(!C||F&1&&h!==(h=S[0].event.id))&&k(e,"id",h),F&1&&_!==(_=`${S[0].y}px`)&&he(e,"top",_),F&1&&b!==(b=`calc(${S[0].x}% + ${S[0].x/100} * 16px)`)&&he(e,"left",b),F&1&&E!==(E=`${S[0].width}%`)&&he(e,"width",E),F&1&&w!==(w=`${S[0].height}px`)&&he(e,"height",w),F&1&&he(e,"background",zi(S[0].event))},i(S){C||(ie(a.$$.fragment,S),C=!0)},o(S){ce(a.$$.fragment,S),C=!1},d(S){S&&W(e),Je(a),v()}}}function hI(t,e,n){let{location:r}=e,{goToEvent:i}=e,{timelineHeight:o}=e,{timelineWidth:a}=e,u=0,f=C=>kt(void 0,void 0,void 0,function*(){let A=C.endState.top,Y=A+C.endState.height,{start:M,end:P}=Yf(o,A,Y,new Date(r.event.start.dateTime));n(0,r.event.start.dateTime=Bl(15,window.moment(M)).add(C.endState.horizontal,"day").format(),r),n(0,r.event.end.dateTime=Bl(15,window.moment(P)).add(C.endState.horizontal,"day").format(),r);let L=yield Pf(r.event,!1);n(0,r.event=L,r),tn()}),c=C=>{Fn("onDrag",C),f(C)},d=C=>{i(r.event,C.e)},m=C=>{Fn("onDragLongClick",C)},h=C=>{var A;let Y=["googleCalendarEvent",`googleCalendarEvent_Calendar_Color_${r.event.parent.colorId}`,`googleCalendarEvent_Event_Color_${r.event.parent.colorId}`,`googleCalendarEvent_Id_${r.event.parent.id}`];return C<60&&Y.push("textSmall"),window.moment((A=r.event.end.date)!==null&&A!==void 0?A:r.event.end.dateTime).isSameOrBefore(window.moment())&&Y.push("googleCalendarEvent_Past"),Y.join(" ")};function v(C){t.$$.not_equal(r.x,C)&&(r.x=C,n(0,r))}function _(C){t.$$.not_equal(r.y,C)&&(r.y=C,n(0,r))}function b(C){t.$$.not_equal(r.height,C)&&(r.height=C,n(0,r))}function E(C){t.$$.not_equal(r.width,C)&&(r.width=C,n(0,r))}function w(){u=this.clientWidth,n(2,u)}return t.$$set=C=>{"location"in C&&n(0,r=C.location),"goToEvent"in C&&n(7,i=C.goToEvent),"timelineHeight"in C&&n(8,o=C.timelineHeight),"timelineWidth"in C&&n(1,a=C.timelineWidth)},[r,a,u,c,d,m,h,i,o,v,_,b,E,w]}var Jk=class extends We{constructor(e){super();je(this,e,hI,mI,Re,{location:0,goToEvent:7,timelineHeight:8,timelineWidth:1},pI)}},Qk=Jk;function gI(t){dt(t,"svelte-1b16v0k",".gcal-timeline-container.svelte-1b16v0k{display:flex;gap:5px}.gcal-hour-line.svelte-1b16v0k::after{content:'';position:absolute;width:100%;border-bottom:1px solid grey}.gcal-time-display.svelte-1b16v0k{position:absolute;width:95%;height:3px;background:red;overflow:visible;z-index:2}.gcal-timeline.svelte-1b16v0k{position:relative;display:flex;flex-direction:row;padding-top:5px;flex-shrink:1000;min-height:0}")}function eE(t,e,n){let r=t.slice();return r[18]=e[n],r[20]=n,r}function tE(t,e,n){let r=t.slice();return r[21]=e[n],r[20]=n,r}function nE(t){let e,n,r=`${t[0]/24}px`;return{c(){e=N("div"),k(e,"class",n=""+(Ft(t[10]>3?"gcal-hour-line gcal-hour-line-large":"gcal-hour-line")+" svelte-1b16v0k")),he(e,"height",r)},m(i,o){B(i,e,o)},p(i,o){o&1&&r!==(r=`${i[0]/24}px`)&&he(e,"height",r)},d(i){i&&W(e)}}}function rE(t){let e,n=`${t[9](t[8])}px`;return{c(){e=N("div"),k(e,"class","gcal-time-display svelte-1b16v0k"),he(e,"top",n)},m(r,i){B(r,e,i)},p(r,i){i&256&&n!==(n=`${r[9](r[8])}px`)&&he(e,"top",n)},d(r){r&&W(e)}}}function iE(t,e){let n,r,i;return r=new Qk({props:{location:e[18],goToEvent:e[4],timelineHeight:e[0],timelineWidth:e[7]}}),{key:t,first:null,c(){n=Lt(),rt(r.$$.fragment),this.first=n},m(o,a){B(o,n,a),tt(r,o,a),i=!0},p(o,a){e=o;let u={};a&64&&(u.location=e[18]),a&16&&(u.goToEvent=e[4]),a&1&&(u.timelineHeight=e[0]),a&128&&(u.timelineWidth=e[7]),r.$set(u)},i(o){i||(ie(r.$$.fragment,o),i=!0)},o(o){ce(r.$$.fragment,o),i=!1},d(o){o&&W(n),Je(r,o)}}}function vI(t){let e,n,r,i,o=window.moment().isSame(t[2],"day"),a,u=[],f=new Map,c,d=`${t[0]}px`,m=`${t[1]}px`,h=` -${ma(t[0],t[3][0])}px 0px -${ha(t[0],t[3][1])}px 0px`,v,_,b,E={length:24},w=[];for(let M=0;M<E.length;M+=1)w[M]=nE(tE(t,E,M));let C=o&&rE(t),A=t[6],Y=M=>M[20];for(let M=0;M<A.length;M+=1){let P=eE(t,A,M),L=Y(P);f.set(L,u[M]=iE(L,P))}return{c(){e=N("div"),n=N("div"),r=N("div");for(let M=0;M<w.length;M+=1)w[M].c();i=ee(),C&&C.c(),a=ee();for(let M=0;M<u.length;M+=1)u[M].c();k(r,"class","gcal-hour-line-container"),k(n,"class","gcal-timeline-container svelte-1b16v0k"),k(e,"class","gcal-timeline svelte-1b16v0k"),rn(()=>t[14].call(e)),he(e,"height",d),he(e,"width",m),he(e,"max-width","100%"),he(e,"margin",h)},m(M,P){B(M,e,P),x(e,n),x(n,r);for(let L=0;L<w.length;L+=1)w[L]&&w[L].m(r,null);x(e,i),C&&C.m(e,null),x(e,a);for(let L=0;L<u.length;L+=1)u[L]&&u[L].m(e,null);c=ra(e,t[14].bind(e)),t[15](e),v=!0,_||(b=ne(e,"dblclick",t[12]),_=!0)},p(M,[P]){if(P&1025){E={length:24};let L;for(L=0;L<E.length;L+=1){let S=tE(M,E,L);w[L]?w[L].p(S,P):(w[L]=nE(S),w[L].c(),w[L].m(r,null))}for(;L<w.length;L+=1)w[L].d(1);w.length=E.length}P&4&&(o=window.moment().isSame(M[2],"day")),o?C?C.p(M,P):(C=rE(M),C.c(),C.m(e,a)):C&&(C.d(1),C=null),P&209&&(A=M[6],$e(),u=aa(u,P,Y,1,M,A,f,e,xl,iE,null,eE),et()),P&1&&d!==(d=`${M[0]}px`)&&he(e,"height",d),P&2&&m!==(m=`${M[1]}px`)&&he(e,"width",m),P&9&&h!==(h=` -${ma(M[0],M[3][0])}px 0px -${ha(M[0],M[3][1])}px 0px`)&&he(e,"margin",h)},i(M){if(!v){for(let P=0;P<A.length;P+=1)ie(u[P]);v=!0}},o(M){for(let P=0;P<u.length;P+=1)ce(u[P]);v=!1},d(M){M&&W(e),Nt(w,M),C&&C.d();for(let P=0;P<u.length;P+=1)u[P].d();c(),t[15](null),_=!1,b()}}}function _I(t,e,n){let r,{height:i=700}=e,{width:o=300}=e,{events:a}=e,{day:u}=e,{hourRange:f}=e,{goToEvent:c}=e,d=[],m=0,h=M=>{let P=Yl(M);return Math.floor(i*P)},_=we.getInstance().settings.timelineHourFormat,b=Uk();_f(t,b,M=>n(8,r=M));let E=M=>{let P=[],L=new $k.default;M.forEach(ae=>{let z=ae.start.date||ae.start.dateTime;L.has(z)?L.get(z).push(ae):L.set(z,[ae])});let S=0,F=null;for(let ae of L.values()){if(ae[0].start.dateTime){let z=window.moment(ae[0].start.dateTime);F&&z.isBefore(F,"minutes")?S++:S=0,F=window.moment(ae[0].end.dateTime)}ae.forEach((z,X)=>{let V=S*5,pe=(100-V)/ae.length;P=[...P,{event:z,x:V+pe*X,y:ry(z,i),width:pe,height:iy(z,i),fullDay:z.start.date!=null}]})}return P},w=M=>{let P=M.clientY-C.getBoundingClientRect().top,{start:L,end:S}=Yf(i,P,P+10,new Date(u)),F=Bl(15,window.moment(L)),ae={start:{dateTime:F.format()},end:{dateTime:F.clone().add(1,"hour").format()}};c(ae,M)},C;function A(){m=this.clientWidth,n(7,m)}function Y(M){Se[M?"unshift":"push"](()=>{C=M,n(5,C),n(13,a)})}return t.$$set=M=>{"height"in M&&n(0,i=M.height),"width"in M&&n(1,o=M.width),"events"in M&&n(13,a=M.events),"day"in M&&n(2,u=M.day),"hourRange"in M&&n(3,f=M.hourRange),"goToEvent"in M&&n(4,c=M.goToEvent)},t.$$.update=()=>{if(t.$$.dirty&8224){e:a&&(n(6,d=E(a)),C&&n(5,C.parentElement.style.overflow="hidden",C))}},[i,o,u,f,c,C,d,m,r,h,_,b,w,a,A,Y]}var oE=class extends We{constructor(e){super();je(this,e,_I,vI,Re,{height:0,width:1,events:13,day:2,hourRange:3,goToEvent:4},gI)}},sE=oE;function yI(t){dt(t,"svelte-1uh2awq",'.gcal-hour-text-container.svelte-1uh2awq{display:flex;flex-direction:column;min-height:0;overflow:hidden}.gcal-hour-text.svelte-1uh2awq{font-family:"consolas";display:block}')}function aE(t,e,n){let r=t.slice();return r[6]=e[n],r[8]=n,r}function lE(t){let e,n=t[4](t[8],t[2])+"",r,i=`${t[0]/24}px`,o=`${t[0]/50}px`,a,u;return{c(){e=N("span"),r=Fe(n),k(e,"class","gcal-hour-text svelte-1uh2awq"),he(e,"height",i),he(e,"font-size",o)},m(f,c){B(f,e,c),x(e,r),a||(u=[ne(e,"click",t[3]),ne(e,"keypress",t[3])],a=!0)},p(f,c){c&4&&n!==(n=f[4](f[8],f[2])+"")&&Ve(r,n),c&1&&i!==(i=`${f[0]/24}px`)&&he(e,"height",i),c&1&&o!==(o=`${f[0]/50}px`)&&he(e,"font-size",o)},d(f){f&&W(e),a=!1,ze(u)}}}function wI(t){let e,n=` -${ma(t[0],t[1][0])}px 0px -${ha(t[0],t[1][1])}px 0px`,r={length:24},i=[];for(let o=0;o<r.length;o+=1)i[o]=lE(aE(t,r,o));return{c(){e=N("div");for(let o=0;o<i.length;o+=1)i[o].c();k(e,"class","gcal-hour-text-container svelte-1uh2awq"),he(e,"margin",n)},m(o,a){B(o,e,a);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null)},p(o,[a]){if(a&29){r={length:24};let u;for(u=0;u<r.length;u+=1){let f=aE(o,r,u);i[u]?i[u].p(f,a):(i[u]=lE(f),i[u].c(),i[u].m(e,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=r.length}a&3&&n!==(n=` -${ma(o[0],o[1][0])}px 0px -${ha(o[0],o[1][1])}px 0px`)&&he(e,"margin",n)},i:ve,o:ve,d(o){o&&W(e),Nt(i,o)}}}function bI(t,e,n){let r=we.getInstance(),i=r.settings.timelineHourFormat,{height:o=700}=e,{hourRange:a=[0,24]}=e,u=()=>{n(2,i+=1),i>5&&n(2,i=0),r.settings.timelineHourFormat=i,r.saveSettings()},f=(c,d)=>{let m=window.moment(`${c}:00:00`,"H:mm:ss");switch(d){case 0:return m.format("H");case 1:return m.format("HH");case 2:return m.format("h");case 3:return m.format("hh");case 4:return m.format("h A");case 5:return m.format("hh A")}};return t.$$set=c=>{"height"in c&&n(0,o=c.height),"hourRange"in c&&n(1,a=c.hourRange)},[o,a,i,u,f]}var uE=class extends We{constructor(e){super();je(this,e,bI,wI,Re,{height:0,hourRange:1},yI)}},fE=uE;function kI(t){dt(t,"svelte-oeb4qr",".gcal-date-container.svelte-oeb4qr{margin-bottom:10px}.gcal-date-dayofweek.svelte-oeb4qr,.gcal-date-main.svelte-oeb4qr{margin:0px}.gcal-nav-container.svelte-oeb4qr{margin-bottom:1em}")}function EI(t){let e,n,r,i=t[0].format("dddd")+"",o,a,u,f=t[0].format("MMMM DD, YYYY")+"",c,d,m,h,v,_,b,E,w=(window.moment().isSame(t[1],"day")?"Today":"Start")+"",C,A,Y,M,P,L,S,F,ae;return{c(){e=N("div"),n=N("div"),r=N("h3"),o=Fe(i),a=ee(),u=N("h1"),c=Fe(f),d=ee(),m=N("div"),h=N("button"),h.textContent="<<",v=ee(),_=N("button"),_.textContent="<",b=ee(),E=N("button"),C=Fe(w),A=ee(),Y=N("button"),Y.textContent=">",M=ee(),P=N("button"),P.textContent=">>",L=ee(),S=N("button"),S.textContent="+",k(r,"class","gcal-date-dayofweek svelte-oeb4qr"),k(u,"class","gcal-date-main svelte-oeb4qr"),k(h,"class","gcal-nav-button"),k(h,"aria-label","Back 1 week"),k(_,"class","gcal-nav-button"),k(_,"aria-label","Back 1 day"),k(E,"class","gcal-nav-button"),k(E,"aria-label","Jump to today"),k(Y,"class","gcal-nav-button"),k(Y,"aria-label","Forward 1 day"),k(P,"class","gcal-nav-button"),k(P,"aria-label","Forward 1 week"),k(S,"class","gcal-new-event-button"),k(S,"aria-label","Create Event"),k(m,"class","gcal-nav-container svelte-oeb4qr"),k(n,"class","gcal-date-container svelte-oeb4qr"),k(e,"class","gcal-title-container")},m(z,X){B(z,e,X),x(e,n),x(n,r),x(r,o),x(n,a),x(n,u),x(u,c),x(n,d),x(n,m),x(m,h),x(m,v),x(m,_),x(m,b),x(m,E),x(E,C),x(m,A),x(m,Y),x(m,M),x(m,P),x(m,L),x(m,S),F||(ae=[ne(h,"click",t[2]),ne(_,"click",t[3]),ne(E,"click",t[4]),ne(Y,"click",t[6]),ne(P,"click",t[5]),ne(S,"click",t[7])],F=!0)},p(z,[X]){X&1&&i!==(i=z[0].format("dddd")+"")&&Ve(o,i),X&1&&f!==(f=z[0].format("MMMM DD, YYYY")+"")&&Ve(c,f),X&2&&w!==(w=(window.moment().isSame(z[1],"day")?"Today":"Start")+"")&&Ve(C,w)},i:ve,o:ve,d(z){z&&W(e),F=!1,ze(ae)}}}function TI(t,e,n){let{date:r}=e,{startDate:i}=e,{dateOffset:o}=e,a=we.getInstance(),u=()=>n(8,o-=7),f=()=>n(8,o-=1),c=()=>n(8,o=0),d=()=>n(8,o+=7),m=()=>n(8,o+=1),h=v=>{v.shiftKey?a.initView(Qn,{start:{},end:{}},()=>{tn(),n(0,r)}):new wr({start:{},end:{}},()=>{tn(),n(0,r)}).open()};return t.$$set=v=>{"date"in v&&n(0,r=v.date),"startDate"in v&&n(1,i=v.startDate),"dateOffset"in v&&n(8,o=v.dateOffset)},[r,i,u,f,c,d,m,h,o]}var cE=class extends We{constructor(e){super();je(this,e,TI,EI,Re,{date:0,startDate:1,dateOffset:8},kI)}},ed=cE;function CI(t){dt(t,"svelte-7dzwom",".googleCalendarEvent.svelte-7dzwom{display:flex;padding:0 10px 10px;cursor:pointer;border-radius:5px;color:black;font-size:small;box-shadow:3px 2px 8px 4px rgba(0,0,0,0.36);overflow:hidden}.eventContainer.svelte-7dzwom{grid-row:1 ;display:flex;flex-direction:column;gap:5px}.googleCalendarEvent_AllDay.svelte-7dzwom{border-radius:5px;width:100%;height:23px}")}function dE(t,e,n){let r=t.slice();return r[5]=e[n],r}function pE(t){let e,n,r=t[5].summary+"",i,o,a,u,f,c,d;function m(...v){return t[3](t[5],...v)}function h(...v){return t[4](t[5],...v)}return{c(){e=N("div"),n=N("span"),i=Fe(r),a=ee(),k(n,"class",o="googleCalendarName googleCalendarName_Calendar_Color_"+t[5].parent.colorId+" googleCalendarName_Event_Color_"+t[5].parent.colorId+" googleCalendarName_Id_"+t[5].parent.id+" googleCalendarName_AllDay svelte-7dzwom"),k(e,"class",u="googleCalendarEvent googleCalendarEvent_Calendar_Color_"+t[5].parent.colorId+" googleCalendarEvent_Event_Color_"+t[5].parent.colorId+" googleCalendarEvent_Id_"+t[5].parent.id+" googleCalendarEvent_AllDay svelte-7dzwom"),k(e,"id",f=t[5].id),he(e,"background",zi(t[5])),he(e,"width",t[2]>0?t[2]+"px":"100%")},m(v,_){B(v,e,_),x(e,n),x(n,i),x(e,a),c||(d=[ne(e,"click",m),ne(e,"keypress",h)],c=!0)},p(v,_){t=v,_&1&&r!==(r=t[5].summary+"")&&Ve(i,r),_&1&&o!==(o="googleCalendarName googleCalendarName_Calendar_Color_"+t[5].parent.colorId+" googleCalendarName_Event_Color_"+t[5].parent.colorId+" googleCalendarName_Id_"+t[5].parent.id+" googleCalendarName_AllDay svelte-7dzwom")&&k(n,"class",o),_&1&&u!==(u="googleCalendarEvent googleCalendarEvent_Calendar_Color_"+t[5].parent.colorId+" googleCalendarEvent_Event_Color_"+t[5].parent.colorId+" googleCalendarEvent_Id_"+t[5].parent.id+" googleCalendarEvent_AllDay svelte-7dzwom")&&k(e,"class",u),_&1&&f!==(f=t[5].id)&&k(e,"id",f),_&1&&he(e,"background",zi(t[5])),_&4&&he(e,"width",t[2]>0?t[2]+"px":"100%")},d(v){v&&W(e),c=!1,ze(d)}}}function SI(t){let e,n=t[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=pE(dE(t,n,i));return{c(){e=N("div");for(let i=0;i<r.length;i+=1)r[i].c();k(e,"class","eventContainer svelte-7dzwom")},m(i,o){B(i,e,o);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,[o]){if(o&7){n=i[0];let a;for(a=0;a<n.length;a+=1){let u=dE(i,n,a);r[a]?r[a].p(u,o):(r[a]=pE(u),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:ve,o:ve,d(i){i&&W(e),Nt(r,i)}}}function DI(t,e,n){let{events:r}=e,{goToEvent:i}=e,{width:o=0}=e,a=(f,c)=>i(f,c),u=(f,c)=>i(f,c);return t.$$set=f=>{"events"in f&&n(0,r=f.events),"goToEvent"in f&&n(1,i=f.goToEvent),"width"in f&&n(2,o=f.width)},[r,i,o,a,u]}var mE=class extends We{constructor(e){super();je(this,e,DI,SI,Re,{events:0,goToEvent:1,width:2},CI)}},hE=mE;function OI(t){dt(t,"svelte-m4uap8",".gcal-stop-overflow.svelte-m4uap8.svelte-m4uap8{min-width:0;min-height:0;overflow:hidden}.gcal-week-container.svelte-m4uap8.svelte-m4uap8{position:relative;display:inline-grid;gap:16px;grid-auto-flow:row;overflow:hidden}.gcal-week-container.svelte-m4uap8>.svelte-m4uap8{min-width:0px;min-height:0px}.gcal-day-container.svelte-m4uap8.svelte-m4uap8{width:100%;display:grid;justify-content:center;align-items:center}.gcal-day.svelte-m4uap8.svelte-m4uap8,.gcal-dayofweek.svelte-m4uap8.svelte-m4uap8{display:flex;align-items:center;justify-content:center;font-size:medium}.gcal-day.svelte-m4uap8.svelte-m4uap8{font-weight:700;font-size:x-large}")}function gE(t,e,n){let r=t.slice();return r[21]=e[n],r[23]=n,r}function vE(t,e,n){let r=t.slice();return r[21]=e[n],r[23]=n,r}function _E(t,e,n){let r=t.slice();return r[21]=e[n],r[23]=n,r}function yE(t){let e,n,r,i;function o(f){t[10](f)}function a(f){t[11](f)}let u={};return t[0]!==void 0&&(u.codeBlockOptions=t[0]),t[1]!==void 0&&(u.showSettings=t[1]),e=new ki({props:u}),Se.push(()=>Ke(e,"codeBlockOptions",o)),Se.push(()=>Ke(e,"showSettings",a)),{c(){rt(e.$$.fragment)},m(f,c){tt(e,f,c),i=!0},p(f,c){let d={};!n&&c&1&&(n=!0,d.codeBlockOptions=f[0],qe(()=>n=!1)),!r&&c&2&&(r=!0,d.showSettings=f[1],qe(()=>r=!1)),e.$set(d)},i(f){i||(ie(e.$$.fragment,f),i=!0)},o(f){ce(e.$$.fragment,f),i=!1},d(f){Je(e,f)}}}function wE(t){let e,n,r,i,o;function a(d){t[12](d)}function u(d){t[13](d)}function f(d){t[14](d)}let c={};return t[4]!==void 0&&(c.dateOffset=t[4]),t[5]!==void 0&&(c.date=t[5]),t[3]!==void 0&&(c.startDate=t[3]),e=new ed({props:c}),Se.push(()=>Ke(e,"dateOffset",a)),Se.push(()=>Ke(e,"date",u)),Se.push(()=>Ke(e,"startDate",f)),{c(){rt(e.$$.fragment)},m(d,m){tt(e,d,m),o=!0},p(d,m){let h={};!n&&m&16&&(n=!0,h.dateOffset=d[4],qe(()=>n=!1)),!r&&m&32&&(r=!0,h.date=d[5],qe(()=>r=!1)),!i&&m&8&&(i=!0,h.startDate=d[3],qe(()=>i=!1)),e.$set(h)},i(d){o||(ie(e.$$.fragment,d),o=!0)},o(d){ce(e.$$.fragment,d),o=!1},d(d){Je(e,d)}}}function AI(t){let e,n,r;return{c(){e=N("div"),n=ee(),r=N("div"),k(e,"class","gcal-stop-overflow svelte-m4uap8"),k(r,"class","gcal-stop-overflow svelte-m4uap8")},m(i,o){B(i,e,o),B(i,n,o),B(i,r,o)},p:ve,d(i){i&&W(e),i&&W(n),i&&W(r)}}}function MI(t){let e,n,r,i=t[8](t[5]),o=[];for(let a=0;a<i.length;a+=1)o[a]=bE(_E(t,i,a));return{c(){e=N("div"),n=ee();for(let a=0;a<o.length;a+=1)o[a].c();r=Lt(),k(e,"class","gcal-stop-overflow svelte-m4uap8")},m(a,u){B(a,e,u),B(a,n,u);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(a,u);B(a,r,u)},p(a,u){if(u&288){i=a[8](a[5]);let f;for(f=0;f<i.length;f+=1){let c=_E(a,i,f);o[f]?o[f].p(c,u):(o[f]=bE(c),o[f].c(),o[f].m(r.parentNode,r))}for(;f<o.length;f+=1)o[f].d(1);o.length=i.length}},d(a){a&&W(e),a&&W(n),Nt(o,a),a&&W(r)}}}function bE(t){let e,n,r=t[21].format("ddd")+"",i,o,a,u=t[21].format("D")+"",f,c;return{c(){e=N("div"),n=N("span"),i=Fe(r),o=ee(),a=N("span"),f=Fe(u),c=ee(),k(n,"class","gcal-dayofweek svelte-m4uap8"),k(a,"class","gcal-day svelte-m4uap8"),k(e,"class","gcal-day-container svelte-m4uap8")},m(d,m){B(d,e,m),x(e,n),x(n,i),x(e,o),x(e,a),x(a,f),x(e,c)},p(d,m){m&32&&r!==(r=d[21].format("ddd")+"")&&Ve(i,r),m&32&&u!==(u=d[21].format("D")+"")&&Ve(f,u)},d(d){d&&W(e)}}}function kE(t){let e,n,r,i,o=t[8](t[5]),a=[];for(let f=0;f<o.length;f+=1)a[f]=EE(vE(t,o,f));let u=f=>ce(a[f],1,1,()=>{a[f]=null});return{c(){e=N("div"),n=ee();for(let f=0;f<a.length;f+=1)a[f].c();r=Lt(),k(e,"class","gcal-stop-overflow svelte-m4uap8")},m(f,c){B(f,e,c),B(f,n,c);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(f,c);B(f,r,c),i=!0},p(f,c){if(c&480){o=f[8](f[5]);let d;for(d=0;d<o.length;d+=1){let m=vE(f,o,d);a[d]?(a[d].p(m,c),ie(a[d],1)):(a[d]=EE(m),a[d].c(),ie(a[d],1),a[d].m(r.parentNode,r))}for($e(),d=o.length;d<a.length;d+=1)u(d);et()}},i(f){if(!i){for(let c=0;c<o.length;c+=1)ie(a[c]);i=!0}},o(f){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)ce(a[c]);i=!1},d(f){f&&W(e),f&&W(n),Nt(a,f),f&&W(r)}}}function EE(t){let e,n,r,i;function o(...a){return t[15](t[21],...a)}return n=new hE({props:{goToEvent:t[7],events:t[6].filter(o)}}),{c(){e=N("div"),rt(n.$$.fragment),r=ee(),k(e,"class","gcal-stop-overflow svelte-m4uap8")},m(a,u){B(a,e,u),tt(n,e,null),x(e,r),i=!0},p(a,u){t=a;let f={};u&96&&(f.events=t[6].filter(o)),n.$set(f)},i(a){i||(ie(n.$$.fragment,a),i=!0)},o(a){ce(n.$$.fragment,a),i=!1},d(a){a&&W(e),Je(n)}}}function TE(t){let e,n,r,i;function o(...a){return t[16](t[21],...a)}return n=new sE({props:{events:t[6].filter(o),day:t[21],hourRange:t[0].hourRange,goToEvent:t[7]}}),{c(){e=N("div"),rt(n.$$.fragment),r=ee(),k(e,"class","gcal-stop-overflow svelte-m4uap8")},m(a,u){B(a,e,u),tt(n,e,null),x(e,r),i=!0},p(a,u){t=a;let f={};u&96&&(f.events=t[6].filter(o)),u&32&&(f.day=t[21]),u&1&&(f.hourRange=t[0].hourRange),n.$set(f)},i(a){i||(ie(n.$$.fragment,a),i=!0)},o(a){ce(n.$$.fragment,a),i=!1},d(a){a&&W(e),Je(n)}}}function xI(t){let e,n,r,i,o,a,u,f,c,d=`auto repeat(${t[0].timespan},
		minmax(0, 1fr))`,m,h=t[2]&&yE(t),v=t[0].navigation&&t[5]&&wE(t);function _(M,P){return M[0].timespan>1?MI:AI}let b=_(t,-1),E=b(t),w=t[0].showAllDay&&kE(t);f=new fE({props:{hourRange:t[0].hourRange}});let C=t[8](t[5]),A=[];for(let M=0;M<C.length;M+=1)A[M]=TE(gE(t,C,M));let Y=M=>ce(A[M],1,1,()=>{A[M]=null});return{c(){h&&h.c(),e=ee(),n=N("div"),v&&v.c(),r=ee(),i=N("div"),E.c(),o=ee(),w&&w.c(),a=ee(),u=N("div"),rt(f.$$.fragment),c=ee();for(let M=0;M<A.length;M+=1)A[M].c();k(u,"class","gcal-stop-overflow svelte-m4uap8"),k(i,"class","gcal-week-container svelte-m4uap8"),he(i,"grid-template-columns",d),he(n,"padding-left","10px")},m(M,P){h&&h.m(M,P),B(M,e,P),B(M,n,P),v&&v.m(n,null),x(n,r),x(n,i),E.m(i,null),x(i,o),w&&w.m(i,null),x(i,a),x(i,u),tt(f,u,null),x(i,c);for(let L=0;L<A.length;L+=1)A[L]&&A[L].m(i,null);m=!0},p(M,[P]){M[2]?h?(h.p(M,P),P&4&&ie(h,1)):(h=yE(M),h.c(),ie(h,1),h.m(e.parentNode,e)):h&&($e(),ce(h,1,1,()=>{h=null}),et()),M[0].navigation&&M[5]?v?(v.p(M,P),P&33&&ie(v,1)):(v=wE(M),v.c(),ie(v,1),v.m(n,r)):v&&($e(),ce(v,1,1,()=>{v=null}),et()),b===(b=_(M,P))&&E?E.p(M,P):(E.d(1),E=b(M),E&&(E.c(),E.m(i,o))),M[0].showAllDay?w?(w.p(M,P),P&1&&ie(w,1)):(w=kE(M),w.c(),ie(w,1),w.m(i,a)):w&&($e(),ce(w,1,1,()=>{w=null}),et());let L={};if(P&1&&(L.hourRange=M[0].hourRange),f.$set(L),P&481){C=M[8](M[5]);let S;for(S=0;S<C.length;S+=1){let F=gE(M,C,S);A[S]?(A[S].p(F,P),ie(A[S],1)):(A[S]=TE(F),A[S].c(),ie(A[S],1),A[S].m(i,null))}for($e(),S=C.length;S<A.length;S+=1)Y(S);et()}P&1&&d!==(d=`auto repeat(${M[0].timespan},
		minmax(0, 1fr))`)&&he(i,"grid-template-columns",d)},i(M){if(!m){ie(h),ie(v),ie(w),ie(f.$$.fragment,M);for(let P=0;P<C.length;P+=1)ie(A[P]);m=!0}},o(M){ce(h),ce(v),ce(w),ce(f.$$.fragment,M),A=A.filter(Boolean);for(let P=0;P<A.length;P+=1)ce(A[P]);m=!1},d(M){h&&h.d(M),M&&W(e),M&&W(n),v&&v.d(),E.d(),w&&w.d(),Je(f),Nt(A,M)}}}function PI(t,e,n){let{codeBlockOptions:r}=e,{isObsidianView:i=!1}=e,{showSettings:o=!1}=e,a=r.date?window.moment(r.date):window.moment(),u=0,f,c=!1,d=[],m,h=we.getInstance(),v=S=>kt(void 0,void 0,void 0,function*(){if(!(S==null?void 0:S.isValid())){c=!1;return}let F=yield Ut({startDate:S,endDate:S.clone().add(r.timespan,"days"),include:r.include,exclude:r.exclude});JSON.stringify(F)!=JSON.stringify(d)&&n(6,d=F)}),_=S=>kt(void 0,void 0,void 0,function*(){c||(c=!0,yield v(S),c=!1)}),b=(S,F)=>{(F==null?void 0:F.shiftKey)?h.initView(Qn,S,()=>{tn(),_(f)}):new wr(S,()=>{tn(),_(f)}).open()},E=S=>{let F=[];for(let ae=0;ae<r.timespan;ae++)F=[...F,S.clone().add(ae,"days")];return F};ss(()=>{clearInterval(m)});function w(S){r=S,n(0,r)}function C(S){o=S,n(1,o)}function A(S){u=S,n(4,u)}function Y(S){f=S,n(5,f),n(0,r),n(3,a),n(4,u),n(9,m)}function M(S){a=S,n(3,a),n(0,r),n(4,u),n(9,m),n(5,f)}let P=(S,F)=>F.start.date&&window.moment(F.start.date).isSame(S,"day"),L=(S,F)=>F.start.dateTime&&window.moment(F.start.dateTime).isSame(S,"day");return t.$$set=S=>{"codeBlockOptions"in S&&n(0,r=S.codeBlockOptions),"isObsidianView"in S&&n(2,i=S.isObsidianView),"showSettings"in S&&n(1,o=S.showSettings)},t.$$.update=()=>{if(t.$$.dirty&569){e:n(3,a=r.date?window.moment(r.date).add(r.offset,"days"):window.moment().add(r.offset,"days")),n(5,f=r.navigation?a.clone().local().add(u,"days"):a),m&&clearInterval(m),n(9,m=setInterval(()=>_(f),5e3)),_(f)}},[r,o,i,a,u,f,d,b,E,m,w,C,A,Y,M,P,L]}var CE=class extends We{constructor(e){super();je(this,e,PI,xI,Re,{codeBlockOptions:0,isObsidianView:2,showSettings:1},OI)}},Es=CE;var Ts="google-calendar-view-day",Ql=class extends SE.ItemView{constructor(e,n=window.moment()){super(e);this.showSettings=!1;this.setDate=e=>{this.startDate=e,this.onClose(),this.onOpen()};this.startDate=n}getViewType(){return Ts}getDisplayText(){return"GCal Timeline View"}getIcon(){return"layout-template"}onPaneMenu(e,n){super.onPaneMenu(e,n),this.showSettings=this.timeline.$$.ctx[1],e.addItem(r=>{r.setTitle("Refresh"),r.setIcon("sync"),r.onClick(()=>{this.onClose(),this.onOpen()})}).addSeparator().addItem(r=>{r.setTitle(this.showSettings?"Hide Settings":"Settings"),r.setIcon("gear"),r.onClick(()=>{this.showSettings=!this.showSettings,this.timeline.$set({showSettings:this.showSettings})})})}onOpen(){return $(this,null,function*(){let n=we.getInstance().settings.viewSettings.day;n.timespan=1,n.date=this.startDate.format(),this.timeline=new Es({target:this.contentEl,props:{codeBlockOptions:n,isObsidianView:!0,showSettings:this.showSettings}})})}onClose(){return $(this,null,function*(){this.timeline.$destroy()})}};var RE=Me(require("obsidian"));function NI(t){dt(t,"svelte-1whdazx",`.gcal-schedule-day-container.svelte-1whdazx{display:flex;flex-direction:row;align-items:flex-start;border-bottom:1px solid gray;margin:2px 0px;padding:2px 0px;width:100%
	}.gcal-schedule-date-display.svelte-1whdazx{display:flex;flex-direction:row;align-items:center;gap:5px;padding:0px}.gcal-schedule-day-circle.svelte-1whdazx{border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;display:inline-block;border:solid 1px gray;min-height:40px;min-width:40px;width:50px;height:50px;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center}.today.svelte-1whdazx{color:white;background:#4285f4;text-decoration:none}.gcal-schedule-month-text.svelte-1whdazx{font-size:small}.gcal-schedule-day-number.svelte-1whdazx{font-size:large;font-weight:700}.gcal-schedule-day-text.svelte-1whdazx{min-width:30px;font-size:medium}.gcal-schedule-event-container.svelte-1whdazx{display:flex;flex-direction:column;overflow:hidden;width:100%}.gcal-schedule-event.svelte-1whdazx{display:flex;padding:5px;border-radius:10px;cursor:pointer}.gcal-schedule-event.svelte-1whdazx:hover{background-color:rgba(128, 128, 128, 0.129)}.gcal-schedule-event-info.svelte-1whdazx{display:flex;align-items:center}.gcal-schedule-circle-container-recurring.svelte-1whdazx,.gcal-schedule-circle-container.svelte-1whdazx{position:relative;display:flex;min-width:30px;height:30px;align-items:center;justify-content:center}.gcal-schedule-circle-container-recurring.svelte-1whdazx::after{content:"\u21BA";position:absolute;width:30px;height:30px;text-align:center;line-height:30px;font-size:30px;color:rgb(164, 164, 164);white-space:nowrap}.gcal-schedule-event-circle.svelte-1whdazx{width:10px;min-width:10px;height:10px;border-radius:50%}.gcal-schedule-time-container.svelte-1whdazx{min-width:150px;padding-right:1em}.gcal-schedule-event-title-container.svelte-1whdazx{display:flex;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.gcal-schedule-event-title.svelte-1whdazx{font-size:medium;font-weight:400;overflow:hidden;text-overflow:ellipsis}.gcal-schedule-breakLine.svelte-1whdazx{flex-direction:column;margin-bottom:10px}.gcal-schedule-pastEvent.svelte-1whdazx{opacity:0.5}`)}function DE(t,e,n){let r=t.slice();return r[31]=e[n][0],r[9]=e[n][1],r}function OE(t,e,n){let r=t.slice();return r[34]=e[n],r}function AE(t){let e,n,r,i;function o(f){t[17](f)}function a(f){t[18](f)}let u={};return t[0]!==void 0&&(u.codeBlockOptions=t[0]),t[1]!==void 0&&(u.showSettings=t[1]),e=new ki({props:u}),Se.push(()=>Ke(e,"codeBlockOptions",o)),Se.push(()=>Ke(e,"showSettings",a)),{c(){rt(e.$$.fragment)},m(f,c){tt(e,f,c),i=!0},p(f,c){let d={};!n&&c[0]&1&&(n=!0,d.codeBlockOptions=f[0],qe(()=>n=!1)),!r&&c[0]&2&&(r=!0,d.showSettings=f[1],qe(()=>r=!1)),e.$set(d)},i(f){i||(ie(e.$$.fragment,f),i=!0)},o(f){ce(e.$$.fragment,f),i=!1},d(f){Je(e,f)}}}function ME(t){let e,n,r,i,o;function a(d){t[19](d)}function u(d){t[20](d)}function f(d){t[21](d)}let c={};return t[4]!==void 0&&(c.dateOffset=t[4]),t[5]!==void 0&&(c.date=t[5]),t[3]!==void 0&&(c.startDate=t[3]),e=new ed({props:c}),Se.push(()=>Ke(e,"dateOffset",a)),Se.push(()=>Ke(e,"date",u)),Se.push(()=>Ke(e,"startDate",f)),{c(){rt(e.$$.fragment)},m(d,m){tt(e,d,m),o=!0},p(d,m){let h={};!n&&m[0]&16&&(n=!0,h.dateOffset=d[4],qe(()=>n=!1)),!r&&m[0]&32&&(r=!0,h.date=d[5],qe(()=>r=!1)),!i&&m[0]&8&&(i=!0,h.startDate=d[3],qe(()=>i=!1)),e.$set(h)},i(d){o||(ie(e.$$.fragment,d),o=!0)},o(d){ce(e.$$.fragment,d),o=!1},d(d){Je(e,d)}}}function RI(t){let e,n=[...t[6]],r=[];for(let i=0;i<n.length;i+=1)r[i]=PE(DE(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Lt()},m(i,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,o);B(i,e,o)},p(i,o){if(o[0]&64960){n=[...i[6]];let a;for(a=0;a<n.length;a+=1){let u=DE(i,n,a);r[a]?r[a].p(u,o):(r[a]=PE(u),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(i){Nt(r,i),i&&W(e)}}}function II(t){let e;return{c(){e=N("span"),e.textContent="No events"},m(n,r){B(n,e,r)},p:ve,d(n){n&&W(e)}}}function xE(t){let e,n,r,i,o,a,u,f,c=t[10](t[34],t[7])+"",d,m,h,v,_=t[34].summary+"",b,E,w,C,A;function Y(...P){return t[24](t[34],...P)}function M(...P){return t[25](t[34],...P)}return{c(){e=N("div"),n=N("div"),r=N("div"),i=N("div"),a=ee(),u=N("div"),f=N("span"),d=Fe(c),m=ee(),h=N("div"),v=N("span"),b=Fe(_),E=ee(),k(i,"class","gcal-schedule-event-circle svelte-1whdazx"),he(i,"background",zi(t[34])),k(r,"class",o=""+(Ft(t[34].recurringEventId?"gcal-schedule-circle-container-recurring":"gcal-schedule-circle-container")+" svelte-1whdazx")),k(u,"class","gcal-schedule-time-container svelte-1whdazx"),k(n,"class","gcal-schedule-event-info svelte-1whdazx"),k(v,"class","gcal-schedule-event-title svelte-1whdazx"),k(h,"class","gcal-schedule-event-title-container svelte-1whdazx"),k(e,"class",w=""+(Ft(t[15](t[34]))+" svelte-1whdazx"))},m(P,L){B(P,e,L),x(e,n),x(n,r),x(r,i),x(n,a),x(n,u),x(u,f),x(f,d),x(e,m),x(e,h),x(h,v),x(v,b),x(e,E),C||(A=[ne(e,"click",Y),ne(e,"keypress",M)],C=!0)},p(P,L){t=P,L[0]&64&&he(i,"background",zi(t[34])),L[0]&64&&o!==(o=""+(Ft(t[34].recurringEventId?"gcal-schedule-circle-container-recurring":"gcal-schedule-circle-container")+" svelte-1whdazx"))&&k(r,"class",o),L[0]&192&&c!==(c=t[10](t[34],t[7])+"")&&Ve(d,c),L[0]&64&&_!==(_=t[34].summary+"")&&Ve(b,_),L[0]&64&&w!==(w=""+(Ft(t[15](t[34]))+" svelte-1whdazx"))&&k(e,"class",w)},d(P){P&&W(e),C=!1,ze(A)}}}function PE(t){let e,n,r,i,o=t[31].slice(3,6)+"",a,u,f,c=t[31].slice(0,2)+"",d,m,h,v,_=t[31].split(",")[1]+"",b,E,w,C,A,Y,M;function P(){return t[22](t[9])}function L(){return t[23](t[9])}let S=t[9],F=[];for(let ae=0;ae<S.length;ae+=1)F[ae]=xE(OE(t,S,ae));return{c(){e=N("div"),n=N("div"),r=N("div"),i=N("span"),a=Fe(o),u=ee(),f=N("span"),d=Fe(c),h=ee(),v=N("span"),b=Fe(_),E=ee(),w=N("div");for(let ae=0;ae<F.length;ae+=1)F[ae].c();C=ee(),k(i,"class","gcal-schedule-month-text svelte-1whdazx"),k(f,"class","gcal-schedule-day-number svelte-1whdazx"),k(r,"class",m=""+(Ft(t[13](t[9][0])?"gcal-schedule-day-circle today":"gcal-schedule-day-circle")+" svelte-1whdazx")),he(r,"display","flex"),he(r,"flex-direction","column"),k(v,"class","gcal-schedule-day-text svelte-1whdazx"),k(n,"class","gcal-schedule-date-display svelte-1whdazx"),k(w,"class","gcal-schedule-event-container svelte-1whdazx"),k(e,"class",A=""+(Ft(t[8]<550?"gcal-schedule-day-container gcal-schedule-breakLine":"gcal-schedule-day-container")+" svelte-1whdazx"))},m(ae,z){B(ae,e,z),x(e,n),x(n,r),x(r,i),x(i,a),x(r,u),x(r,f),x(f,d),x(n,h),x(n,v),x(v,b),x(e,E),x(e,w);for(let X=0;X<F.length;X+=1)F[X]&&F[X].m(w,null);x(e,C),Y||(M=[ne(r,"click",P),ne(r,"keypress",L),ne(v,"click",t[14]),ne(v,"keypress",t[14])],Y=!0)},p(ae,z){if(t=ae,z[0]&64&&o!==(o=t[31].slice(3,6)+"")&&Ve(a,o),z[0]&64&&c!==(c=t[31].slice(0,2)+"")&&Ve(d,c),z[0]&64&&m!==(m=""+(Ft(t[13](t[9][0])?"gcal-schedule-day-circle today":"gcal-schedule-day-circle")+" svelte-1whdazx"))&&k(r,"class",m),z[0]&64&&_!==(_=t[31].split(",")[1]+"")&&Ve(b,_),z[0]&36032){S=t[9];let X;for(X=0;X<S.length;X+=1){let V=OE(t,S,X);F[X]?F[X].p(V,z):(F[X]=xE(V),F[X].c(),F[X].m(w,null))}for(;X<F.length;X+=1)F[X].d(1);F.length=S.length}z[0]&256&&A!==(A=""+(Ft(t[8]<550?"gcal-schedule-day-container gcal-schedule-breakLine":"gcal-schedule-day-container")+" svelte-1whdazx"))&&k(e,"class",A)},d(ae){ae&&W(e),Nt(F,ae),Y=!1,ze(M)}}}function LI(t){let e,n,r,i,o,a=t[2]&&AE(t),u=t[0].navigation&&t[5]&&ME(t);function f(m,h){var v;return((v=m[9])==null?void 0:v.length)?RI:II}let c=f(t,[-1,-1]),d=c(t);return{c(){a&&a.c(),e=ee(),n=N("div"),u&&u.c(),r=ee(),d.c(),k(n,"class","gcal-schedule-container"),rn(()=>t[26].call(n))},m(m,h){a&&a.m(m,h),B(m,e,h),B(m,n,h),u&&u.m(n,null),x(n,r),d.m(n,null),i=ra(n,t[26].bind(n)),o=!0},p(m,h){m[2]?a?(a.p(m,h),h[0]&4&&ie(a,1)):(a=AE(m),a.c(),ie(a,1),a.m(e.parentNode,e)):a&&($e(),ce(a,1,1,()=>{a=null}),et()),m[0].navigation&&m[5]?u?(u.p(m,h),h[0]&33&&ie(u,1)):(u=ME(m),u.c(),ie(u,1),u.m(n,r)):u&&($e(),ce(u,1,1,()=>{u=null}),et()),c===(c=f(m,h))&&d?d.p(m,h):(d.d(1),d=c(m),d&&(d.c(),d.m(n,null)))},i(m){o||(ie(a),ie(u),o=!0)},o(m){ce(a),ce(u),o=!1},d(m){a&&a.d(m),m&&W(e),m&&W(n),u&&u.d(),d.d(),i()}}}function FI(t,e,n){let{codeBlockOptions:r}=e,{isObsidianView:i=!1}=e,{showSettings:o=!1}=e,a=we.getInstance(),u=r.date?window.moment(r.date):window.moment(),f=0,c,d=!1,m=[],h,v=new Map,_=a.settings.timelineHourFormat,b,E=U=>kt(void 0,void 0,void 0,function*(){if(d)return;if(!(U==null?void 0:U.isValid())){d=!1;return}n(7,_=a.settings.timelineHourFormat);let J=yield Ut({startDate:U,endDate:U.clone().add(r.timespan-1,"day"),include:r.include,exclude:r.exclude});if(J=J.filter(se=>{if(se.start.date)return r.showAllDay;let j=window.moment(se.start.dateTime),K=window.moment(se.end.dateTime),Q=j.minutes()>0?j.hour()+1:j.hour(),ge=K.minutes()>0?K.hour()+1:K.hour();return Q>=r.hourRange[0]&&Q<=r.hourRange[1]||ge>=r.hourRange[0]&&ge<=r.hourRange[1]||Q<r.hourRange[0]&&ge>r.hourRange[1]}),JSON.stringify(J)==JSON.stringify(m)){d=!1;return}v.clear(),n(9,m=J),m.forEach(se=>{let j=se.start.date?window.moment(se.start.date).format("DD MMM, ddd"):window.moment(se.start.dateTime).format("DD MMM, ddd");v.has(j)?v.get(j).push(se):v.set(j,[se])}),n(6,v)}),w=(U,J)=>{switch(J){case 0:return U.format("H:mm");case 1:return U.format("HH:mm");case 2:return U.format("h:mm");case 3:return U.format("hh:mm");case 4:return U.format("h:mm A");case 5:return U.format("hh:mm A")}},C=(U,J)=>{if(U.start.date)return"All day";{let se=w(window.moment(U.start.dateTime),J),j=w(window.moment(U.end.dateTime),J);return`${se}-${j}`}},A=(U,J)=>{J.shiftKey?a.initView(Qn,U,()=>{tn(),E(c)}):new wr(U,()=>{tn(),E(c)}).open()},Y=U=>kt(void 0,void 0,void 0,function*(){let J=window.moment(U.start.date||U.start.dateTime),se=yield Ut({startDate:J});new br(se,"details",J,!1,()=>{tn(),E(c)}).open()}),M=U=>{let J=window.moment(U.start.date||U.start.dateTime);return window.moment().local().isSame(J,"day")};ss(()=>{clearInterval(h)});let P=()=>{n(7,_+=1),_>5&&n(7,_=0),a.settings.timelineHourFormat=_,a.saveSettings()},L=U=>{var J;let se="gcal-schedule-event";return b<200&&(se+=" gcal-schedule-breakLine"),window.moment((J=U.end.date)!==null&&J!==void 0?J:U.end.dateTime).isBefore(window.moment(),"minute")&&(se+=" gcal-schedule-pastEvent"),se};function S(U){r=U,n(0,r)}function F(U){o=U,n(1,o)}function ae(U){f=U,n(4,f)}function z(U){c=U,n(5,c),n(0,r),n(3,u),n(4,f),n(16,h)}function X(U){u=U,n(3,u),n(0,r),n(4,f),n(16,h),n(5,c)}let V=U=>Y(U[0]),pe=U=>Y(U[0]),O=(U,J)=>A(U,J),Z=(U,J)=>A(U,J);function te(){b=this.clientWidth,n(8,b)}return t.$$set=U=>{"codeBlockOptions"in U&&n(0,r=U.codeBlockOptions),"isObsidianView"in U&&n(2,i=U.isObsidianView),"showSettings"in U&&n(1,o=U.showSettings)},t.$$.update=()=>{if(t.$$.dirty[0]&65593){e:n(3,u=r.date?window.moment(r.date).add(r.offset,"days"):window.moment().add(r.offset,"days")),n(5,c=r.navigation?u.clone().local().add(f,"days"):u),h&&clearInterval(h),n(16,h=setInterval(()=>E(c),5e3)),E(c)}},[r,o,i,u,f,c,v,_,b,m,C,A,Y,M,P,L,h,S,F,ae,z,X,V,pe,O,Z,te]}var NE=class extends We{constructor(e){super();je(this,e,FI,LI,Re,{codeBlockOptions:0,isObsidianView:2,showSettings:1},NI,[-1,-1])}},td=NE;var No="google-calendar-view-schedule",La=class extends RE.ItemView{constructor(e,n=window.moment()){super(e);this.showSettings=!1;this.setDate=e=>{this.startDate=e,this.onClose(),this.onOpen()};this.startDate=n}getViewType(){return No}getDisplayText(){return"GCal Schedule View"}getIcon(){return"layout-list"}onPaneMenu(e,n){super.onPaneMenu(e,n),this.showSettings=this.calendar.$$.ctx[1],e.addItem(r=>{r.setTitle("Refresh"),r.setIcon("sync"),r.onClick(()=>{this.onClose(),this.onOpen()})}).addSeparator().addItem(r=>{r.setTitle(this.showSettings?"Hide Settings":"Settings"),r.setIcon("gear"),r.onClick(()=>{this.showSettings=!this.showSettings,this.calendar.$set({showSettings:this.showSettings})})})}onOpen(){return $(this,null,function*(){let n=we.getInstance().settings.viewSettings.schedule;this.calendar=new td({target:this.contentEl,props:{codeBlockOptions:n,isObsidianView:!0,showSettings:this.showSettings}})})}onClose(){return $(this,null,function*(){this.calendar.$destroy()})}};var IE=Me(require("obsidian"));var Ro="google-calendar-view-week",$l=class extends IE.ItemView{constructor(e,n=window.moment()){super(e);this.showSettings=!1;this.setDate=e=>{this.startDate=e,this.onClose(),this.onOpen()};this.startDate=n}getViewType(){return Ro}getDisplayText(){return"GCal Week View"}getIcon(){return"calendar-range"}onPaneMenu(e,n){super.onPaneMenu(e,n),this.showSettings=this.calendar.$$.ctx[1],e.addItem(r=>{r.setTitle("Refresh"),r.setIcon("sync"),r.onClick(()=>{this.onClose(),this.onOpen()})}).addSeparator().addItem(r=>{r.setTitle(this.showSettings?"Hide Settings":"Settings"),r.setIcon("gear"),r.onClick(()=>{this.showSettings=!this.showSettings,this.calendar.$set({showSettings:this.showSettings})})})}onOpen(){return $(this,null,function*(){let n=we.getInstance().settings.viewSettings.week;this.calendar=new Es({target:this.contentEl,props:{codeBlockOptions:n,isObsidianView:!0,showSettings:this.showSettings}})})}onClose(){return $(this,null,function*(){this.calendar.$destroy()})}};function FE(t){let e,n,r,i;function o(f){t[14](f)}function a(f){t[15](f)}let u={};return t[0]!==void 0&&(u.codeBlockOptions=t[0]),t[1]!==void 0&&(u.showSettings=t[1]),e=new ki({props:u}),Se.push(()=>Ke(e,"codeBlockOptions",o)),Se.push(()=>Ke(e,"showSettings",a)),{c(){rt(e.$$.fragment)},m(f,c){tt(e,f,c),i=!0},p(f,c){let d={};!n&&c&1&&(n=!0,d.codeBlockOptions=f[0],qe(()=>n=!1)),!r&&c&2&&(r=!0,d.showSettings=f[1],qe(()=>r=!1)),e.$set(d)},i(f){i||(ie(e.$$.fragment,f),i=!0)},o(f){ce(e.$$.fragment,f),i=!1},d(f){Je(e,f)}}}function WI(t){let e,n,r,i=`${t[0].width}px`,o=`${t[0].height}px`,a,u=[GI,BI],f=[];function c(d,m){return d[4]?0:1}return n=c(t,-1),r=f[n]=u[n](t),{c(){e=N("div"),r.c(),k(e,"class","gcal-calendar-container"),he(e,"width",i),he(e,"height",o)},m(d,m){B(d,e,m),f[n].m(e,null),a=!0},p(d,m){let h=n;n=c(d,m),n===h?f[n].p(d,m):($e(),ce(f[h],1,1,()=>{f[h]=null}),et(),r=f[n],r?r.p(d,m):(r=f[n]=u[n](d),r.c()),ie(r,1),r.m(e,null)),m&1&&i!==(i=`${d[0].width}px`)&&he(e,"width",i),m&1&&o!==(o=`${d[0].height}px`)&&he(e,"height",o)},i(d){a||(ie(r),a=!0)},o(d){ce(r),a=!1},d(d){d&&W(e),f[n].d()}}}function YI(t){let e,n,r,i,o=[UI,jI],a=[];function u(f,c){return f[4]?0:1}return n=u(t,-1),r=a[n]=o[n](t),{c(){e=N("div"),r.c(),k(e,"class","gcal-calendar-container")},m(f,c){B(f,e,c),a[n].m(e,null),i=!0},p(f,c){let d=n;n=u(f,c),n===d?a[n].p(f,c):($e(),ce(a[d],1,1,()=>{a[d]=null}),et(),r=a[n],r?r.p(f,c):(r=a[n]=o[n](f),r.c()),ie(r,1),r.m(e,null))},i(f){i||(ie(r),i=!0)},o(f){ce(r),i=!1},d(f){f&&W(e),a[n].d()}}}function BI(t){let e,n,r,i,o,a;function u(m){t[19](m)}function f(m){t[20](m)}function c(m){t[21](m)}let d={showWeekNums:!1,onClickDay:t[8]};return t[5]!==void 0&&(d.sources=t[5]),t[3]!==void 0&&(d.displayedMonth=t[3]),t[6]!==void 0&&(d.today=t[6]),n=new Qc({props:d}),Se.push(()=>Ke(n,"sources",u)),Se.push(()=>Ke(n,"displayedMonth",f)),Se.push(()=>Ke(n,"today",c)),{c(){e=N("div"),rt(n.$$.fragment),he(e,"--theme-color",t[7].settings.dailyNoteDotColor)},m(m,h){B(m,e,h),tt(n,e,null),a=!0},p(m,h){let v={};!r&&h&32&&(r=!0,v.sources=m[5],qe(()=>r=!1)),!i&&h&8&&(i=!0,v.displayedMonth=m[3],qe(()=>i=!1)),!o&&h&64&&(o=!0,v.today=m[6],qe(()=>o=!1)),n.$set(v),(!a||h&128)&&he(e,"--theme-color",m[7].settings.dailyNoteDotColor)},i(m){a||(ie(n.$$.fragment,m),a=!0)},o(m){ce(n.$$.fragment,m),a=!1},d(m){m&&W(e),Je(n)}}}function GI(t){let e;return{c(){e=N("p"),e.textContent="Loading..."},m(n,r){B(n,e,r)},p:ve,i:ve,o:ve,d(n){n&&W(e)}}}function jI(t){let e,n,r,i,o,a;function u(m){t[16](m)}function f(m){t[17](m)}function c(m){t[18](m)}let d={showWeekNums:t[7].settings.useWeeklyNotes,onClickDay:t[8],onClickWeek:t[9],onContextMenuDay:t[10],onContextMenuWeek:t[11]};return t[5]!==void 0&&(d.sources=t[5]),t[3]!==void 0&&(d.displayedMonth=t[3]),t[6]!==void 0&&(d.today=t[6]),n=new Qc({props:d}),Se.push(()=>Ke(n,"sources",u)),Se.push(()=>Ke(n,"displayedMonth",f)),Se.push(()=>Ke(n,"today",c)),{c(){e=N("div"),rt(n.$$.fragment),he(e,"--daily-dot-color",t[7].settings.dailyNoteDotColor)},m(m,h){B(m,e,h),tt(n,e,null),a=!0},p(m,h){let v={};h&128&&(v.showWeekNums=m[7].settings.useWeeklyNotes),!r&&h&32&&(r=!0,v.sources=m[5],qe(()=>r=!1)),!i&&h&8&&(i=!0,v.displayedMonth=m[3],qe(()=>i=!1)),!o&&h&64&&(o=!0,v.today=m[6],qe(()=>o=!1)),n.$set(v),(!a||h&128)&&he(e,"--daily-dot-color",m[7].settings.dailyNoteDotColor)},i(m){a||(ie(n.$$.fragment,m),a=!0)},o(m){ce(n.$$.fragment,m),a=!1},d(m){m&&W(e),Je(n)}}}function UI(t){let e;return{c(){e=N("p"),e.textContent="Loading..."},m(n,r){B(n,e,r)},p:ve,i:ve,o:ve,d(n){n&&W(e)}}}function zI(t){let e,n,r,i,o,a=t[2]&&FE(t),u=[YI,WI],f=[];function c(d,m){return!d[0].width||!d[0].height?0:1}return n=c(t,-1),r=f[n]=u[n](t),{c(){a&&a.c(),e=ee(),r.c(),i=Lt()},m(d,m){a&&a.m(d,m),B(d,e,m),f[n].m(d,m),B(d,i,m),o=!0},p(d,[m]){d[2]?a?(a.p(d,m),m&4&&ie(a,1)):(a=FE(d),a.c(),ie(a,1),a.m(e.parentNode,e)):a&&($e(),ce(a,1,1,()=>{a=null}),et());let h=n;n=c(d,m),n===h?f[n].p(d,m):($e(),ce(f[h],1,1,()=>{f[h]=null}),et(),r=f[n],r?r.p(d,m):(r=f[n]=u[n](d),r.c()),ie(r,1),r.m(i.parentNode,i))},i(d){o||(ie(a),ie(r),o=!0)},o(d){ce(a),ce(r),o=!1},d(d){a&&a.d(d),d&&W(e),f[n].d(d),d&&W(i)}}}function HI(t,e,n){let{codeBlockOptions:r}=e,{isObsidianView:i=!1}=e,{showSettings:o=!1}=e,a,u=df(),f,c,d,m=!0,h,v=window.moment(),_=we.getInstance();function b(O){return kt(this,void 0,void 0,function*(){n(7,_);let Z=O.clone().startOf("month").subtract(6,"days"),te=O.clone().endOf("month").add(12,"days"),U=yield Ut({startDate:Z,endDate:te,include:r.include,exclude:r.exclude});if(nd.default.isEqual(U,d)&&nd.default.isEqual(u,df()))return;u=df();let J=nd.default.groupBy(U,j=>{var K;return window.moment((K=j.start.date)!==null&&K!==void 0?K:j.start.dateTime).startOf("day").format()});d=U;let se={getWeeklyMetadata:j=>kt(this,void 0,void 0,function*(){let K=[];return _.settings.activateDailyNoteAddon&&_.settings.useWeeklyNotes&&El(j)&&(K=[{isFilled:!0,className:"googleCalendarDailyDot",color:"default"}]),{dataAttributes:{amount:K.length+""},dots:K}}),getDailyMetadata:j=>kt(this,void 0,void 0,function*(){let K=[];_.settings.activateDailyNoteAddon&&is(j)&&(K=[{isFilled:!0,className:"googleCalendarDailyDot",color:"default"}]);let Q=J[j.startOf("day").format()];return Q?(K=[...K,...Q.map(ge=>({isFilled:!0,className:`googleCalendarDot_${ge.parent.colorId}`,color:"default"}))],{dataAttributes:{amount:Q.length+""},dots:K}):{dataAttributes:{amount:K.length+""},dots:K}})};n(4,m=!1),n(5,h=null),n(5,h=[se])})}let E=(O,Z)=>O.filter(te=>te.start.date?window.moment(te.start.date).isSame(Z,"day"):window.moment(te.start.dateTime).isSame(Z,"day")),w=(O,Z)=>{new br(E(d,O),"details",O,!1,()=>{tn(),n(3,a)}).open()},C=(O,Z)=>kt(void 0,void 0,void 0,function*(){let te=El(O);te||(te=yield(0,LE.createWeeklyNote)(O)),yield app.workspace.getLeaf(!1).openFile(te,{active:!0})}),A=(O,Z,te)=>Z.ctrlKey?(Ui({date:O,openInNewTab:!0,type:te}),!1):Z.shiftKey?(Ui({date:O,openInNewTab:!1,type:te}),!1):Z.altKey&&eu.Platform.isDesktop?(um({date:O,type:te}),!1):!0,Y=(O,Z)=>{let te=Z==="daily"?is(O):El(O),U=Z.charAt(0).toUpperCase()+Z.slice(1),J=new eu.Menu;return te?(J.addItem(se=>{se.setTitle(`Open ${U} Note`),se.setIcon("file"),se.onClick(()=>{Ui({date:O,openInNewTab:!1,type:Z})})}),J.addItem(se=>{se.setTitle(`Open ${U} Note Split Right`),se.setIcon("vertical-split"),se.onClick(()=>{Ui({date:O,openInNewTab:!0,openToRight:"horizontal",type:Z})})}),J.addItem(se=>{se.setTitle(`Open ${U} Note Split Down`),se.setIcon("horizontal-split"),se.onClick(()=>{Ui({date:O,openInNewTab:!0,openToRight:"vertical",type:Z})})}),eu.Platform.isDesktop&&J.addItem(se=>{se.setTitle(`Open ${U} Note in new Window`),se.setIcon("fullscreen"),se.onClick(()=>{um({date:O,type:Z})})})):(J.addItem(se=>{se.setTitle(`Create ${U} Note`),se.setIcon("create-new"),se.onClick(()=>{Ui({date:O,openInNewTab:!1,type:Z})})}),J.addItem(se=>{se.setTitle(`Create ${U} Note Split Right`),se.setIcon("vertical-split"),se.onClick(()=>{Ui({date:O,openInNewTab:!0,openToRight:"horizontal",type:Z})})}),J.addItem(se=>{se.setTitle(`Create ${U} Note Split Down`),se.setIcon("horizontal-split"),se.onClick(()=>{Ui({date:O,openInNewTab:!0,openToRight:"vertical",type:Z})})})),Z==="daily"?(J.addSeparator(),J.addItem(se=>{se.setTitle("Open Timeline View"),se.setIcon("calendar"),se.onClick(()=>kt(void 0,void 0,void 0,function*(){let j=yield _.initView(Ts);j.view instanceof Ql&&j.view.setDate(O)}))}),J.addItem(se=>{se.setTitle("Open Schedule View"),se.setIcon("bullet-list"),se.onClick(()=>kt(void 0,void 0,void 0,function*(){let j=yield _.initView(No);j.view instanceof La&&j.view.setDate(O)}))})):(J.addSeparator(),J.addItem(se=>{se.setTitle("Open Weekly View"),se.setIcon("calendar"),se.onClick(()=>kt(void 0,void 0,void 0,function*(){let j=yield _.initView(Ro);j.view instanceof $l&&j.view.setDate(O)}))}),J.addItem(se=>{se.setTitle("Open Schedule View"),se.setIcon("bullet-list"),se.onClick(()=>kt(void 0,void 0,void 0,function*(){let j=yield _.initView(No);j.view instanceof La&&j.view.setDate(O)}))})),J},M=(O,Z)=>(A(O,Z,"daily")&&Y(O,"daily").showAtPosition({x:Z.clientX,y:Z.clientY}),!0),P=(O,Z)=>(A(O,Z,"weekly")&&Y(O,"weekly").showAtPosition({x:Z.clientX,y:Z.clientY}),!0);Hi(()=>{n(3,a=r.date?window.moment(r.date).add(r.offset,"month"):window.moment().add(r.offset,"month"))}),ss(()=>{clearInterval(f),clearInterval(c)});function L(O){r=O,n(0,r)}function S(O){o=O,n(1,o)}function F(O){h=O,n(5,h)}function ae(O){a=O,n(3,a)}function z(O){v=O,n(6,v),n(3,a),n(12,f),n(13,c)}function X(O){h=O,n(5,h)}function V(O){a=O,n(3,a)}function pe(O){v=O,n(6,v),n(3,a),n(12,f),n(13,c)}return t.$$set=O=>{"codeBlockOptions"in O&&n(0,r=O.codeBlockOptions),"isObsidianView"in O&&n(2,i=O.isObsidianView),"showSettings"in O&&n(1,o=O.showSettings)},t.$$.update=()=>{if(t.$$.dirty&12296){e:a&&(f&&clearInterval(f),n(12,f=setInterval(()=>b(a),1e3)),c&&clearInterval(c),n(13,c=setInterval(()=>n(6,v=window.moment()),6e4)),b(a))}},[r,o,i,a,m,h,v,_,w,C,M,P,f,c,L,S,F,ae,z,X,V,pe]}var WE=class extends We{constructor(e){super();je(this,e,HI,zI,Re,{codeBlockOptions:0,isObsidianView:2,showSettings:1})}},rd=WE;var{Map:VI}=Df;function qI(t){dt(t,"svelte-f5i6ri",".yearNav.svelte-f5i6ri{margin-bottom:10px}.yearContainer.svelte-f5i6ri{overflow-x:scroll;width:fit-content}.monthLabelContainer.svelte-f5i6ri{display:flex;flex-direction:row;justify-content:space-between}.dayContainer.svelte-f5i6ri{display:grid;grid-template-rows:repeat(7, minmax(0, 1fr));gap:2px 2px;grid-auto-flow:column dense;overflow-x:scroll;cursor:pointer}.square.svelte-f5i6ri{display:inline-flex;align-items:center;justify-content:center;min-width:0;min-height:0;display:inline-block;border-radius:2px}.square.svelte-f5i6ri:hover{filter:drop-shadow(0 0 5px #00e1ff)}.fistDayOfMonth.svelte-f5i6ri{outline:2px solid #ff000080}.weekDayName.svelte-f5i6ri{display:flex;grid-row:span 2;line-height:1;justify-self:flex-end}")}function YE(t,e,n){let r=t.slice();return r[26]=e[n][0],r[6]=e[n][1],r[28]=n,r}function BE(t,e,n){let r=t.slice();return r[29]=e[n],r[28]=n,r}function GE(t,e,n){let r=t.slice();return r[31]=e[n],r[28]=n,r}function jE(t){let e,n,r,i;function o(f){t[13](f)}function a(f){t[14](f)}let u={};return t[0]!==void 0&&(u.codeBlockOptions=t[0]),t[1]!==void 0&&(u.showSettings=t[1]),e=new ki({props:u}),Se.push(()=>Ke(e,"codeBlockOptions",o)),Se.push(()=>Ke(e,"showSettings",a)),{c(){rt(e.$$.fragment)},m(f,c){tt(e,f,c),i=!0},p(f,c){let d={};!n&&c[0]&1&&(n=!0,d.codeBlockOptions=f[0],qe(()=>n=!1)),!r&&c[0]&2&&(r=!0,d.showSettings=f[1],qe(()=>r=!1)),e.$set(d)},i(f){i||(ie(e.$$.fragment,f),i=!0)},o(f){ce(e.$$.fragment,f),i=!1},d(f){Je(e,f)}}}function UE(t){let e,n,r,i,o,a,u,f;return{c(){e=N("div"),n=N("button"),n.textContent="<",r=ee(),i=N("button"),i.textContent="START",o=ee(),a=N("button"),a.textContent=">",k(n,"class","yearNavButton"),k(i,"class","yearNavButton"),k(a,"class","yearNavButton"),k(e,"class","yearNav svelte-f5i6ri")},m(c,d){B(c,e,d),x(e,n),x(e,r),x(e,i),x(e,o),x(e,a),u||(f=[ne(n,"click",t[15]),ne(i,"click",t[16]),ne(a,"click",t[17])],u=!0)},p:ve,d(c){c&&W(e),u=!1,ze(f)}}}function zE(t){let e,n=t[31]+"",r,i=`${t[0].size}px`;return{c(){e=N("span"),r=Fe(n),k(e,"class","monthLabel"),he(e,"font-size",i)},m(o,a){B(o,e,a),x(e,r)},p(o,a){a[0]&1&&i!==(i=`${o[0].size}px`)&&he(e,"font-size",i)},d(o){o&&W(e)}}}function HE(t){let e,n=Array.from({length:7-window.moment(t[26]).day()}),r=[];for(let i=0;i<n.length;i+=1)r[i]=VE(BE(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Lt()},m(i,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,o);B(i,e,o)},p(i,o){if(o[0]&33){n=Array.from({length:7-window.moment(i[26]).day()});let a;for(a=0;a<n.length;a+=1){let u=BE(i,n,a);r[a]?r[a].p(u,o):(r[a]=VE(u),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(i){Nt(r,i),i&&W(e)}}}function VE(t){let e,n=`${t[0].size}px`,r=`${t[0].size}px`;return{c(){e=N("div"),k(e,"class","square svelte-f5i6ri"),he(e,"width",n),he(e,"height",r)},m(i,o){B(i,e,o)},p(i,o){o[0]&1&&n!==(n=`${i[0].size}px`)&&he(e,"width",n),o[0]&1&&r!==(r=`${i[0].size}px`)&&he(e,"height",r)},d(i){i&&W(e)}}}function qE(t,e){let n,r=e[28]==0&&window.moment(e[26]).day()!=0,i,o,a,u,f,c,d=`${e[0].size}px`,m=`${e[0].size}px`,h,v,_,b=r&&HE(e);function E(){return e[18](e[26])}function w(){return e[19](e[26])}return{key:t,first:null,c(){n=Lt(),b&&b.c(),i=ee(),o=N("div"),k(o,"class",a=""+(Ft(KE(e[26])?"square fistDayOfMonth":"square")+" svelte-f5i6ri")),k(o,"title",u=e[26]),he(o,"background-color",e[9](e[6].length.toString())),he(o,"width",d),he(o,"height",m),this.first=n},m(C,A){B(C,n,A),b&&b.m(C,A),B(C,i,A),B(C,o,A),h=!0,v||(_=[ne(o,"click",E),ne(o,"keypress",w)],v=!0)},p(C,A){e=C,A[0]&32&&(r=e[28]==0&&window.moment(e[26]).day()!=0),r?b?b.p(e,A):(b=HE(e),b.c(),b.m(i.parentNode,i)):b&&(b.d(1),b=null),(!h||A[0]&32&&a!==(a=""+(Ft(KE(e[26])?"square fistDayOfMonth":"square")+" svelte-f5i6ri")))&&k(o,"class",a),(!h||A[0]&32&&u!==(u=e[26]))&&k(o,"title",u),A[0]&32&&he(o,"background-color",e[9](e[6].length.toString())),A[0]&1&&d!==(d=`${e[0].size}px`)&&he(o,"width",d),A[0]&1&&m!==(m=`${e[0].size}px`)&&he(o,"height",m)},i(C){h||(rn(()=>{!h||(c&&c.end(1),f=D1(o,e[8],{key:e[28]}),f.start())}),h=!0)},o(C){f&&f.invalidate(),c=O1(o,e[7],{key:e[28]}),h=!1},d(C){C&&W(n),b&&b.d(C),C&&W(i),C&&W(o),C&&c&&c.end(),v=!1,ze(_)}}}function KI(t){let e,n,r,i,o,a,u=window.moment(t[4]).year()+"",f,c=`${t[0].size}px`,d,m,h,v=`${t[0].size}px`,_,b,E,w,C,A=`${t[0].size}px`,Y,M,P=`${t[0].size}px`,L,S,F=`${t[0].size}px`,ae,z=[],X=new VI,V,pe,O=t[2]&&jE(t),Z=t[0].navigation&&UE(t),te=t[11],U=[];for(let j=0;j<te.length;j+=1)U[j]=zE(GE(t,te,j));let J=[...t[5]],se=j=>j[28];for(let j=0;j<J.length;j+=1){let K=YE(t,J,j),Q=se(K);X.set(Q,z[j]=qE(Q,K))}return{c(){e=N("div"),O&&O.c(),n=ee(),Z&&Z.c(),r=ee(),i=N("div"),o=N("div"),a=N("span"),f=Fe(u),d=ee();for(let j=0;j<U.length;j+=1)U[j].c();m=ee(),h=N("span"),_=ee(),b=N("div"),E=N("div"),w=ee(),C=N("span"),C.textContent="MON",Y=ee(),M=N("span"),M.textContent="WED",L=ee(),S=N("span"),S.textContent="FRI",ae=ee();for(let j=0;j<z.length;j+=1)z[j].c();k(a,"class","monthLabel"),he(a,"font-size",c),k(h,"class","monthLabel"),he(h,"font-size",v),k(o,"class","monthLabelContainer svelte-f5i6ri"),k(C,"class","weekDayName svelte-f5i6ri"),he(C,"font-size",A),k(M,"class","weekDayName svelte-f5i6ri"),he(M,"font-size",P),k(S,"class","weekDayName svelte-f5i6ri"),he(S,"font-size",F),k(b,"class","dayContainer svelte-f5i6ri"),k(b,"title",V=t[5].size.toString()),k(i,"class","yearContainer svelte-f5i6ri"),he(e,"overflow","scroll visible")},m(j,K){B(j,e,K),O&&O.m(e,null),x(e,n),Z&&Z.m(e,null),x(e,r),x(e,i),x(i,o),x(o,a),x(a,f),x(o,d);for(let Q=0;Q<U.length;Q+=1)U[Q]&&U[Q].m(o,null);x(o,m),x(o,h),x(i,_),x(i,b),x(b,E),x(b,w),x(b,C),x(b,Y),x(b,M),x(b,L),x(b,S),x(b,ae);for(let Q=0;Q<z.length;Q+=1)z[Q]&&z[Q].m(b,null);pe=!0},p(j,K){if(j[2]?O?(O.p(j,K),K[0]&4&&ie(O,1)):(O=jE(j),O.c(),ie(O,1),O.m(e,n)):O&&($e(),ce(O,1,1,()=>{O=null}),et()),j[0].navigation?Z?Z.p(j,K):(Z=UE(j),Z.c(),Z.m(e,r)):Z&&(Z.d(1),Z=null),(!pe||K[0]&16)&&u!==(u=window.moment(j[4]).year()+"")&&Ve(f,u),K[0]&1&&c!==(c=`${j[0].size}px`)&&he(a,"font-size",c),K[0]&2049){te=j[11];let Q;for(Q=0;Q<te.length;Q+=1){let ge=GE(j,te,Q);U[Q]?U[Q].p(ge,K):(U[Q]=zE(ge),U[Q].c(),U[Q].m(o,m))}for(;Q<U.length;Q+=1)U[Q].d(1);U.length=te.length}K[0]&1&&v!==(v=`${j[0].size}px`)&&he(h,"font-size",v),K[0]&1&&A!==(A=`${j[0].size}px`)&&he(C,"font-size",A),K[0]&1&&P!==(P=`${j[0].size}px`)&&he(M,"font-size",P),K[0]&1&&F!==(F=`${j[0].size}px`)&&he(S,"font-size",F),K[0]&1569&&(J=[...j[5]],$e(),z=aa(z,K,se,1,j,J,X,b,xl,qE,null,YE),et()),(!pe||K[0]&32&&V!==(V=j[5].size.toString()))&&k(b,"title",V)},i(j){if(!pe){ie(O);for(let K=0;K<J.length;K+=1)ie(z[K]);pe=!0}},o(j){ce(O);for(let K=0;K<z.length;K+=1)ce(z[K]);pe=!1},d(j){j&&W(e),O&&O.d(),Z&&Z.d(),Nt(U,j);for(let K=0;K<z.length;K+=1)z[K].d()}}}function KE(t){return t.split("-")[2]==="01"}function ZI(t,e,n){let{codeBlockOptions:r}=e,{isObsidianView:i=!1}=e,{showSettings:o=!1}=e,a=r.date?window.moment(r.date):window.moment(),u=0,f,c=!1,d=[],m=new Map,h=0,[v,_]=Vw({duration:V=>Math.sqrt(V*200),fallback(V,pe){let O=getComputedStyle(V),Z=O.transform==="none"?"":O.transform;return{duration:600,easing:Hw,css:te=>`
					transform: ${Z} scale(${te});
					opacity: ${te}
				`}}}),b=V=>kt(void 0,void 0,void 0,function*(){if(!(V==null?void 0:V.isValid())){c=!1;return}let pe=yield Ut({startDate:V.clone().startOf("year"),endDate:V.clone().endOf("year"),include:r.include,exclude:r.exclude});JSON.stringify(pe)!=JSON.stringify(d)&&n(6,d=pe)}),E=V=>kt(void 0,void 0,void 0,function*(){c||(c=!0,w(V),yield b(V),C(d),n(5,m),h=Array.from(m.values()).reduce((pe,O)=>Math.max(pe,O.length),0),c=!1)}),w=V=>{m.clear();let pe=window.moment(V).startOf("year"),O=window.moment(V).endOf("year");for(;pe.isSameOrBefore(O);)m.set(pe.format("YYYY-MM-DD"),[]),pe.add(1,"days")},C=V=>{V.forEach(pe=>{let Z=window.moment(pe.start.dateTime||pe.start.date).format("YYYY-MM-DD");m.has(Z)?m.get(Z).push(pe):m.set(Z,[pe])})};function A(V){let pe=0,O=h;if(V==0)return"rgb(22, 27, 34)";if(V==O)return"rgb(57, 211, 83)";let Z=(V-pe)/(O-pe),te=[{percent:0,color:{r:22,g:27,b:34}},{percent:.25,color:{r:14,g:68,b:41}},{percent:.5,color:{r:0,g:109,b:50}},{percent:.75,color:{r:38,g:166,b:65}},{percent:1,color:{r:57,g:211,b:83}}],U=null,J=null;for(let De=te.length-1;De>=0;De--){if(Z>=te[De].percent){U=De;break}J=De}U===null&&(U=J);let se=te[U].color,j=te[J].color,K=te[U].percent-te[J].percent,Q=(Z-te[J].percent)/K,ge=Math.floor(se.r*(1-Q)+j.r*Q),ue=Math.floor(se.g*(1-Q)+j.g*Q),_e=Math.floor(se.b*(1-Q)+j.b*Q);return`rgb(${ge}, ${ue}, ${_e})`}let Y=V=>{new br(m.get(V),"details",window.moment(V),!1,()=>{}).open()},M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(V){r=V,n(0,r)}function L(V){o=V,n(1,o)}let S=()=>n(3,u--,u),F=()=>n(3,u=0),ae=()=>n(3,u++,u),z=V=>Y(V),X=V=>Y(V);return t.$$set=V=>{"codeBlockOptions"in V&&n(0,r=V.codeBlockOptions),"isObsidianView"in V&&n(2,i=V.isObsidianView),"showSettings"in V&&n(1,o=V.showSettings)},t.$$.update=()=>{if(t.$$.dirty[0]&4121){e:n(12,a=r.date?window.moment(r.date).add(r.offset,"years"):window.moment().add(r.offset,"years")),n(4,f=r.navigation?a.clone().local().add(u,"years"):a),E(f)}},[r,o,i,u,f,m,d,v,_,A,Y,M,a,P,L,S,F,ae,z,X]}var ZE=class extends We{constructor(e){super();je(this,e,ZI,KI,Re,{codeBlockOptions:0,isObsidianView:2,showSettings:1},qI,[-1,-1])}},id=ZE;var XE=Me(require("obsidian")),Io=class extends XE.MarkdownRenderChild{constructor(e,n,r){super(n);this.a=e,this.b=r}load(){this.comp=new this.a({target:this.containerEl,props:this.b})}unload(){this.comp.$destroy()}};function JE(text,el,ctx){return $(this,null,function*(){var t,e,n,r,i,o,a,u,f,c,d;el.style.padding="10px";let parsedYaml=(t=(0,od.parseYaml)(text))!=null?t:{},codeBlockOptions=parsedYaml;for(let[key,value]of Object.entries(parsedYaml))if(typeof value=="string"&&value.startsWith(";")&&value.endsWith(";")){let newValue=value.slice(1,-1);newValue=newValue.trim(),codeBlockOptions[key]=eval(newValue)}codeBlockOptions.type=(e=codeBlockOptions.type)!=null?e:"day",codeBlockOptions.date=(n=codeBlockOptions.date)!=null?n:"today",codeBlockOptions.exclude=(r=codeBlockOptions.exclude)!=null?r:[],codeBlockOptions.include=(i=codeBlockOptions.include)!=null?i:[],codeBlockOptions.hourRange=(o=codeBlockOptions.hourRange)!=null?o:[0,24],codeBlockOptions.timespan=(a=codeBlockOptions.timespan)!=null?a:7,codeBlockOptions.offset=(u=codeBlockOptions.offset)!=null?u:0,codeBlockOptions.navigation=(f=codeBlockOptions.navigation)!=null?f:!1,codeBlockOptions.showAllDay=(c=codeBlockOptions.showAllDay)!=null?c:!0,codeBlockOptions.size=(d=codeBlockOptions.size)!=null?d:10,codeBlockOptions.timespan=Math.floor(Math.abs(codeBlockOptions.timespan)),codeBlockOptions.dayOffset&&(codeBlockOptions.offset=codeBlockOptions.dayOffset);let momentFormatArray=["YYYY-MM-DD","YYYY.MM.DD","YYYY/MM/DD","MM-DD-YYYY","MM.DD.YYYY","MM/DD/YYYY","DD-MM-YYYY","DD.MM.YYYY","DD/MM/YYYY"];if(!window.moment(codeBlockOptions.date,momentFormatArray,!0).isValid()){let m=Wc(codeBlockOptions.date);if(m==null||!window.moment(m).isValid())return;codeBlockOptions.date=window.moment(m).format("YYYY-MM-DD")}codeBlockOptions.type=="web"?od.Platform.isDesktopApp&&ctx.addChild(new Io(jc,el,{codeBlockOptions})):codeBlockOptions.type=="day"?(codeBlockOptions.timespan=1,ctx.addChild(new Io(Es,el,{codeBlockOptions}))):codeBlockOptions.type=="month"?ctx.addChild(new Io(rd,el,{codeBlockOptions})):codeBlockOptions.type=="schedule"?ctx.addChild(new Io(td,el,{codeBlockOptions})):codeBlockOptions.type=="week"?ctx.addChild(new Io(Es,el,{codeBlockOptions})):codeBlockOptions.type=="year"&&ctx.addChild(new Io(id,el,{codeBlockOptions}))})}var QE=Me(require("obsidian"));var tu="google-calendar-view-month",Mh=class extends QE.ItemView{constructor(e){super(e);this.showSettings=!1}getViewType(){return tu}getDisplayText(){return"GCal Month View"}getIcon(){return"calendar-days"}onPaneMenu(e,n){super.onPaneMenu(e,n),this.showSettings=this.calendar.$$.ctx[1],e.addItem(r=>{r.setTitle("Refresh"),r.setIcon("sync"),r.onClick(()=>{this.onClose(),this.onOpen()})}).addSeparator().addItem(r=>{r.setTitle(this.showSettings?"Hide Settings":"Settings"),r.setIcon("gear"),r.onClick(()=>{this.showSettings=!this.showSettings,this.calendar.$set({showSettings:this.showSettings})})})}onOpen(){return $(this,null,function*(){let n=we.getInstance().settings.viewSettings.month;this.calendar=new rd({target:this.contentEl,props:{codeBlockOptions:n,isObsidianView:!0,showSettings:this.showSettings}})})}onClose(){return $(this,null,function*(){this.calendar.$destroy()})}};var $E=Me(require("obsidian"));var nu="google-calendar-view-year",xh=class extends $E.ItemView{constructor(e){super(e);this.showSettings=!1}getViewType(){return nu}getDisplayText(){return"GCal Year View"}onPaneMenu(e,n){super.onPaneMenu(e,n),this.showSettings=this.calendar.$$.ctx[1],e.addItem(r=>{r.setTitle("Refresh"),r.setIcon("sync"),r.onClick(()=>{this.onClose(),this.onOpen()})}).addSeparator().addItem(r=>{r.setTitle(this.showSettings?"Hide Settings":"Settings"),r.setIcon("gear"),r.onClick(()=>{this.showSettings=!this.showSettings,this.calendar.$set({showSettings:this.showSettings})})})}getIcon(){return"github"}onOpen(){return $(this,null,function*(){let e=we.getInstance(),n=e.settings.viewSettings.year;n||(e.settings.viewSettings.year={type:"year",exclude:[],include:[],offset:0,navigation:!1,size:15},e.saveSettings(),n=e.settings.viewSettings.year),this.calendar=new id({target:this.contentEl,props:{codeBlockOptions:n,isObsidianView:!0,showSettings:this.showSettings}})})}onClose(){return $(this,null,function*(){this.calendar.$destroy()})}};var eT=Me(require("obsidian"));var Fa="google-calendar-view-web",Ph=class extends eT.ItemView{constructor(e){super(e);this.showSettings=!1}getViewType(){return Fa}getDisplayText(){return"GCal Web View"}onPaneMenu(e,n){super.onPaneMenu(e,n),this.showSettings=this.calendar.$$.ctx[1],e.addItem(r=>{r.setTitle("Refresh"),r.setIcon("sync"),r.onClick(()=>{this.onClose(),this.onOpen()})}).addSeparator().addItem(r=>{r.setTitle(this.showSettings?"Hide Settings":"Settings"),r.setIcon("gear"),r.onClick(()=>{this.showSettings=!this.showSettings,this.calendar.$set({showSettings:this.showSettings})})})}getIcon(){return"globe-2"}onOpen(){return $(this,null,function*(){let n=we.getInstance().settings.viewSettings.web;n.width=-1,this.calendar=new jc({target:this.contentEl,props:{codeBlockOptions:n,isObsidianView:!0,showSettings:this.showSettings}})})}onClose(){return $(this,null,function*(){this.calendar.$destroy()})}};var tT=Me(require("obsidian")),sd=class extends tT.FuzzySuggestModal{constructor(e,n,r,i,o){super(we.getInstance().app);this.eventList=e,this.setPlaceholder("Select an event to insert"),this.editor=n,this.start=r,this.end=i,this.word=o}getItems(){return this.eventList}getItemText(e){return`${e.summary}	`}onChooseItem(e){return $(this,null,function*(){let n=`[${e.summary}](${e.htmlLink}&cal=${e.parent.id})`;this.editor.replaceRange(n,this.start,this.end,this.word)})}};function nT(t,e){if(e.settings.atAnnotationEnabled==!1)return;let n=t.getLine(t.getCursor().line);n[n.length-1]===" "&&(n.length>2e3||n.length!=0&&(XI(t)||JI(t,e)))}function XI(t){let e=t.getCursor(),n=t.getCursor(),r=t.getLine(e.line),i=null,a=/@([+-])(\d+)\s$/m.exec(r);if(!a||!a[1]||!a[2])return!1;if(t.getCursor().ch!=a.index+a[0].length)return;if(n=Ju(hr({},e),{ch:e.ch-a[0].length}),n.ch<0)return!1;let u=t.getRange(n,e);return a[1]=="+"?i=window.moment().add(a[2],"day"):i=window.moment().subtract(a[2],"day"),Ut({startDate:i}).then(f=>{new sd(f,t,n,e,u).open()}),!0}function JI(t,e){let n=t.getCursor(),r=t.getCursor(),i=t.getLine(n.line),o=null,u=/@([^\s]+)\s$/m.exec(i);if(!u||!u[1])return!1;let f=null;if(e.settings.usDateFormat?f=Wc(u[1]):f=Fc.parseDate(u[1]),!f)return!1;o=window.moment(f),r={line:n.line,ch:n.ch-u[0].length};let c=t.getRange(r,n);return Ut({startDate:o}).then(d=>{new sd(d,t,r,n,c).open()}),!0}var rT=Me(di());function QI(t){return $(this,null,function*(){var u;let e=[],r=(u=/^event-id: (.*)$/gm.exec(t))==null?void 0:u[1];if(r){let f=yield ri(r);e.push(f)}let i=/\[.*]\(https:\/\/www\.google\.com\/calendar\/event\?eid=(.*)&cal=(.*)\)/g,o,a=[];do o=i.exec(t),o&&a.push(o);while(o);return a.length&&e.push(...yield Promise.all(a.map(f=>$(this,null,function*(){if(f){let c=atob(f[1]).split(" ")[0];return yield ri(c,f[2])}})))),e})}function iT(t){return $(this,null,function*(){let e=t.getCursor(),n=t.getValue(),r=/{{gEvent(\d?).(.*)}} /g,i,o=[];do i=r.exec(n),i&&o.push(i);while(i);if(!o.length)return;let a=yield QI(n);!a.length||o.forEach(u=>$(this,null,function*(){let f=u[1]?parseInt(u[1]):0,c=t.getCursor();if(c.ch-=3,t.getRange(c,t.getCursor())!="}} ")return!1;let d=rT.default.get(a[f],u[2],"");d===Object(d)&&(d=JSON.stringify(d)),n=n.replace(u[0],d!=null?d:""),t.setValue(n),e.ch+=d.length-u[0].length,t.setCursor(e)}))})}var oT=Me(require("obsidian"));var Wa=[".anyoneCanAddSelf",".attachments",".attachments[0]",".attachments[0]fileId",".attachments[0]fileUrl",".attachments[0]iconLink",".attachments[0]mimeType",".attachments[0]title",".attendees",".attendeesOmitted",".attendees[0]",".attendees[0].additionalGuests",".attendees[0].comment",".attendees[0].displayName",".attendees[0].email",".attendees[0].id",".attendees[0].optional",".attendees[0].organizer",".attendees[0].resource",".attendees[0].responseStatus",".attendees[0].self",".colorId",".conferenceData",".conferenceData.conferenceId",".conferenceData.conferenceSolution",".conferenceData.conferenceSolution.iconUri",".conferenceData.conferenceSolution.key",".conferenceData.conferenceSolution.key.type",".conferenceData.conferenceSolution.name",".conferenceData.createRequest",".conferenceData.createRequest.conferenceSolutionKey",".conferenceData.createRequest.conferenceSolutionKey.type",".conferenceData.createRequest.requestId",".conferenceData.createRequest.status",".conferenceData.createRequest.status.statusCode",".conferenceData.entryPoints",".conferenceData.entryPoints[0]",".conferenceData.entryPoints[0].accessCode",".conferenceData.entryPoints[0].entryPointType",".conferenceData.entryPoints[0].label",".conferenceData.entryPoints[0].meetingCode",".conferenceData.entryPoints[0].passcode",".conferenceData.entryPoints[0].password",".conferenceData.entryPoints[0].pin",".conferenceData.entryPoints[0].uri",".conferenceData.notes",".conferenceData.signature",".created",".creator",".creator.displayName",".creator.email",".creator.id",".creator.self",".description",".end",".end.date",".end.dateTime",".end.timeZone",".endTimeUnspecified",".etag",".eventType",".extendedProperties",".extendedProperties.private",".extendedProperties.shared",".gadget",".gadget.display",".gadget.height",".gadget.iconLink",".gadget.link",".gadget.preferences",".gadget.title",".gadget.type",".gadget.width",".guestsCanInviteOthers",".guestsCanModify",".guestsCanSeeOtherGuests",".hangoutLink",".htmlLink",".iCalUID",".id",".kind",".location",".locked",".organizer",".organizer.displayName",".organizer.email",".organizer.id",".organizer.self",".originalStartTime",".originalStartTime.date",".originalStartTime.dateTime",".originalStartTime.timeZone",".privateCopy",".parent",".parent.kind",".parent.id",".parent.summary",".parent.description",".parent.location",".parent.timeZone",".parent.conferenceProperties",".parent.conferenceProperties.allowedConferenceSolutionTypes",".recurrence",".recurrence[0]",".recurringEventId",".reminders",".reminders.overrides",".reminders.overrides[0]",".reminders.overrides[0].method",".reminders.overrides[0].minutes",".reminders.useDefault",".sequence",".source",".source.title",".source.url",".start",".start.date",".start.dateTime",".start.timeZone",".status",".summary",".transparency",".updated",".visibility"];var Nh=class extends oT.EditorSuggest{constructor(e){super(e)}onTrigger(e,n){let i=n.getLine(e.line).substring(0,e.ch).match(/{{gEvent(\d)?(\S+$)/);if(i){let o="{{gEvent".length;return i[1]&&o++,{end:e,start:{ch:i.index+o,line:e.line},query:i[2]}}}getSuggestions(e){return Wa.filter(n=>e.query===n.substring(0,e.query.length))}renderSuggestion(e,n){n.createEl("span",{text:e,cls:"suggestionText"})}selectSuggestion(e){if(!this.context)return;let{editor:n}=this.context;if(n.replaceRange(e,this.context.start,this.context.end),Wa.filter(i=>i.startsWith(`${e}.`)).length==0){let i=n.getCursor(),o=structuredClone(i);o.ch+=2,(n.getLine(o.line).length<o.ch||n.getRange(i,o)!="}}")&&n.replaceRange("}}",i),n.setCursor(o)}}};var wT=Me(require("obsidian"));var ru=Me(require("obsidian")),Rh=class extends ru.Modal{constructor(e,n){super(e);this.onSubmit=n}onOpen(){let{contentEl:e}=this;e.createEl("h1",{text:"Enter a name for the template"}),new ru.Setting(e).setName("Name").addText(n=>n.onChange(r=>{this.result=r})),new ru.Setting(e).addButton(n=>n.setButtonText("Save").setCta().onClick(()=>{this.close(),this.onSubmit(this.result)}))}onClose(){let{contentEl:e}=this;e.empty()}};function $I(t){dt(t,"svelte-6isfqn",".optionContainer.svelte-6isfqn{display:flex;flex-direction:column}.header.svelte-6isfqn{display:grid;grid-template-columns:[first] 30% auto [last] 30%}.center.svelte-6isfqn{text-align:center}.settingsContainer.svelte-6isfqn{display:flex;flex-direction:row;flex:1 1;gap:20px}.optionItem.svelte-6isfqn{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.input.svelte-6isfqn,.eventList.svelte-6isfqn,.optionList.svelte-6isfqn,.calendarList.svelte-6isfqn{width:100%;display:flex;flex-direction:column}.eventList.svelte-6isfqn,.optionList.svelte-6isfqn,.calendarList.svelte-6isfqn{padding-left:16px}button.svelte-6isfqn{align-self:center}")}function sT(t,e,n){let r=t.slice();return r[21]=e[n],r}function aT(t,e,n){let r=t.slice();return r[21]=e[n],r}function lT(t,e,n){let r=t.slice();return r[26]=e[n],r[27]=e,r[28]=n,r}function uT(t,e,n){let r=t.slice();return r[29]=e[n],r[30]=e,r[31]=n,r}function fT(t,e,n){let r=t.slice();return r[32]=e[n],r}function cT(t){let e,n=t[0].settings.insertTemplates,r=[];for(let i=0;i<n.length;i+=1)r[i]=dT(fT(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Lt()},m(i,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,o);B(i,e,o)},p(i,o){if(o[0]&1){n=i[0].settings.insertTemplates;let a;for(a=0;a<n.length;a+=1){let u=fT(i,n,a);r[a]?r[a].p(u,o):(r[a]=dT(u),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(i){Nt(r,i),i&&W(e)}}}function dT(t){let e,n=t[32].name+"",r,i;return{c(){e=N("option"),r=Fe(n),e.__value=i=t[32].name,e.value=e.__value},m(o,a){B(o,e,a),x(e,r)},p(o,a){a[0]&1&&n!==(n=o[32].name+"")&&Ve(r,n),a[0]&1&&i!==(i=o[32].name)&&(e.__value=i,e.value=e.__value)},d(o){o&&W(e)}}}function e4(t){let e;return{c(){e=N("span"),e.textContent="Loading..."},m(n,r){B(n,e,r)},p:ve,d(n){n&&W(e)}}}function t4(t){let e,n=t[4],r=[];for(let i=0;i<n.length;i+=1)r[i]=pT(uT(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Lt()},m(i,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,o);B(i,e,o)},p(i,o){if(o[0]&144){n=i[4];let a;for(a=0;a<n.length;a+=1){let u=uT(i,n,a);r[a]?r[a].p(u,o):(r[a]=pT(u),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(i){Nt(r,i),i&&W(e)}}}function pT(t){let e,n,r=t[29][0].summary+"",i,o,a,u,f,c,d,m;function h(){t[17].call(u,t[30],t[31])}return{c(){e=N("div"),n=N("label"),i=Fe(r),a=ee(),u=N("input"),c=ee(),k(n,"for",o=t[29][0].id),k(u,"type","checkbox"),k(u,"id",f=t[29][0].id),k(e,"class","optionItem svelte-6isfqn")},m(v,_){B(v,e,_),x(e,n),x(n,i),x(e,a),x(e,u),u.checked=t[29][1],x(e,c),d||(m=[ne(u,"change",h),ne(u,"change",t[7])],d=!0)},p(v,_){t=v,_[0]&16&&r!==(r=t[29][0].summary+"")&&Ve(i,r),_[0]&16&&o!==(o=t[29][0].id)&&k(n,"for",o),_[0]&16&&f!==(f=t[29][0].id)&&k(u,"id",f),_[0]&16&&(u.checked=t[29][1])},d(v){v&&W(e),d=!1,ze(m)}}}function n4(t){let e;return{c(){e=N("span"),e.textContent="Loading..."},m(n,r){B(n,e,r)},p:ve,d(n){n&&W(e)}}}function r4(t){let e,n=t[3],r=[];for(let i=0;i<n.length;i+=1)r[i]=mT(lT(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Lt()},m(i,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,o);B(i,e,o)},p(i,o){if(o[0]&8){n=i[3];let a;for(a=0;a<n.length;a+=1){let u=lT(i,n,a);r[a]?r[a].p(u,o):(r[a]=mT(u),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(i){Nt(r,i),i&&W(e)}}}function mT(t){let e,n,r=t[26][0].summary+"",i,o,a,u,f,c,d,m;function h(){t[18].call(u,t[27],t[28])}return{c(){e=N("div"),n=N("label"),i=Fe(r),a=ee(),u=N("input"),c=ee(),k(n,"for",o=t[26][0].id),k(u,"type","checkbox"),k(u,"id",f=t[26][0].id),k(e,"class","optionItem svelte-6isfqn")},m(v,_){B(v,e,_),x(e,n),x(n,i),x(e,a),x(e,u),u.checked=t[26][1],x(e,c),d||(m=ne(u,"change",h),d=!0)},p(v,_){t=v,_[0]&8&&r!==(r=t[26][0].summary+"")&&Ve(i,r),_[0]&8&&o!==(o=t[26][0].id)&&k(n,"for",o),_[0]&8&&f!==(f=t[26][0].id)&&k(u,"id",f),_[0]&8&&(u.checked=t[26][1])},d(v){v&&W(e),d=!1,m()}}}function hT(t){let e,n,r,i,o,a,u,f=Wa,c=[];for(let h=0;h<f.length;h+=1)c[h]=gT(aT(t,f,h));let d=t[5],m=[];for(let h=0;h<d.length;h+=1)m[h]=vT(sT(t,d,h));return{c(){e=N("h4"),e.textContent="Table structure",n=ee(),r=N("select");for(let h=0;h<c.length;h+=1)c[h].c();i=ee(),o=N("div");for(let h=0;h<m.length;h+=1)m[h].c();k(r,"name","tableOptions"),k(r,"class","dropdown"),k(o,"class","optionList svelte-6isfqn")},m(h,v){B(h,e,v),B(h,n,v),B(h,r,v);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(r,null);B(h,i,v),B(h,o,v);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(o,null);a||(u=ne(r,"change",t[8]),a=!0)},p(h,v){if(v&0){f=Wa;let _;for(_=0;_<f.length;_+=1){let b=aT(h,f,_);c[_]?c[_].p(b,v):(c[_]=gT(b),c[_].c(),c[_].m(r,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=f.length}if(v[0]&544){d=h[5];let _;for(_=0;_<d.length;_+=1){let b=sT(h,d,_);m[_]?m[_].p(b,v):(m[_]=vT(b),m[_].c(),m[_].m(o,null))}for(;_<m.length;_+=1)m[_].d(1);m.length=d.length}},d(h){h&&W(e),h&&W(n),h&&W(r),Nt(c,h),h&&W(i),h&&W(o),Nt(m,h),a=!1,u()}}}function gT(t){let e,n=t[21]+"",r,i;return{c(){e=N("option"),r=Fe(n),e.__value=i=t[21],e.value=e.__value},m(o,a){B(o,e,a),x(e,r)},p:ve,d(o){o&&W(e)}}}function vT(t){let e,n,r=t[21]+"",i,o,a,u,f,c,d;function m(){return t[19](t[21])}return{c(){e=N("div"),n=N("span"),i=Fe(r),o=ee(),a=N("input"),f=ee(),k(a,"type","checkbox"),k(a,"id",u=t[21]),a.checked=!0,k(e,"class","optionItem svelte-6isfqn")},m(h,v){B(h,e,v),x(e,n),x(n,i),x(e,o),x(e,a),x(e,f),c||(d=ne(a,"click",m),c=!0)},p(h,v){t=h,v[0]&32&&r!==(r=t[21]+"")&&Ve(i,r),v[0]&32&&u!==(u=t[21])&&k(a,"id",u)},d(h){h&&W(e),c=!1,d()}}}function i4(t){let e,n,r,i,o,a,u,f,c,d,m,h,v,_,b,E,w,C,A,Y,M,P,L,S,F,ae,z,X,V,pe,O,Z,te,U,J,se,j,K,Q=t[0].settings.insertTemplates.length&&cT(t);function ge(Ee,pt){return Ee[4]?t4:e4}let ue=ge(t,[-1,-1]),_e=ue(t);function De(Ee,pt){return Ee[3]?r4:n4}let nt=De(t,[-1,-1]),ut=nt(t),ye=t[2]=="table"&&hT(t);return{c(){e=N("div"),n=N("div"),r=N("select"),i=N("option"),i.textContent="None",Q&&Q.c(),o=ee(),a=N("h1"),a.textContent="Insert Options",u=ee(),f=N("button"),f.textContent="Save as template",c=ee(),d=N("hr"),m=ee(),h=N("div"),v=N("div"),_=N("label"),_.textContent="Insert type",b=ee(),E=N("select"),w=N("option"),w.textContent="Bullet",A=N("option"),A.textContent="Table",Y=ee(),M=N("div"),P=N("label"),P.textContent="Insert date",L=ee(),S=N("input"),ae=ee(),z=N("h4"),z.textContent="Calendars",X=ee(),V=N("div"),_e.c(),pe=ee(),O=N("h4"),O.textContent="Events",Z=ee(),te=N("div"),ut.c(),U=ee(),ye&&ye.c(),J=ee(),se=N("button"),se.textContent="Insert",i.__value="None",i.value=i.__value,k(r,"class","dropdown left"),t[1]===void 0&&rn(()=>t[15].call(r)),k(a,"class","center svelte-6isfqn"),k(f,"class","right svelte-6isfqn"),k(n,"class","header svelte-6isfqn"),k(_,"for","insertType"),w.selected=C=!0,w.__value="bullet",w.value=w.__value,A.__value="table",A.value=A.__value,k(E,"class","dropdown"),t[2]===void 0&&rn(()=>t[16].call(E)),k(v,"class","input svelte-6isfqn"),k(P,"for","date"),k(S,"type","date"),k(S,"name","date"),k(S,"id","date"),S.value=F=window.moment().format("YYYY-MM-DD"),k(M,"class","input svelte-6isfqn"),k(h,"class","settingsContainer svelte-6isfqn"),k(V,"class","calendarList svelte-6isfqn"),k(te,"class","eventList svelte-6isfqn"),k(se,"class","svelte-6isfqn"),k(e,"class","optionContainer svelte-6isfqn")},m(Ee,pt){B(Ee,e,pt),x(e,n),x(n,r),x(r,i),Q&&Q.m(r,null),gi(r,t[1],!0),x(n,o),x(n,a),x(n,u),x(n,f),x(e,c),x(e,d),x(e,m),x(e,h),x(h,v),x(v,_),x(v,b),x(v,E),x(E,w),x(E,A),gi(E,t[2],!0),x(h,Y),x(h,M),x(M,P),x(M,L),x(M,S),x(e,ae),x(e,z),x(e,X),x(e,V),_e.m(V,null),x(e,pe),x(e,O),x(e,Z),x(e,te),ut.m(te,null),x(e,U),ye&&ye.m(e,null),x(e,J),x(e,se),j||(K=[ne(r,"change",t[15]),ne(r,"change",t[12]),ne(f,"click",t[11]),ne(E,"change",t[16]),ne(S,"change",t[10]),ne(se,"click",t[6])],j=!0)},p(Ee,pt){Ee[0].settings.insertTemplates.length?Q?Q.p(Ee,pt):(Q=cT(Ee),Q.c(),Q.m(r,null)):Q&&(Q.d(1),Q=null),pt[0]&3&&gi(r,Ee[1]),pt[0]&4&&gi(E,Ee[2]),ue===(ue=ge(Ee,pt))&&_e?_e.p(Ee,pt):(_e.d(1),_e=ue(Ee),_e&&(_e.c(),_e.m(V,null))),nt===(nt=De(Ee,pt))&&ut?ut.p(Ee,pt):(ut.d(1),ut=nt(Ee),ut&&(ut.c(),ut.m(te,null))),Ee[2]=="table"?ye?ye.p(Ee,pt):(ye=hT(Ee),ye.c(),ye.m(e,J)):ye&&(ye.d(1),ye=null)},i:ve,o:ve,d(Ee){Ee&&W(e),Q&&Q.d(),_e.d(),ut.d(),ye&&ye.d(),j=!1,ze(K)}}}function o4(t,e,n){let{onSubmit:r}=e,{insertEventsModal:i}=e,o=we.getInstance(),a,u,f,c,d=[".summary",".description"];Hi(()=>kt(void 0,void 0,void 0,function*(){let S=yield Pr();n(4,c=S.map(ae=>[ae,!0]));let F=yield Ut();n(3,f=F.map(ae=>[ae,!0]))}));let m=()=>{let S=f.filter(F=>F[1]).map(F=>F[0]);r(u,S,d,i)},h=S=>{f.forEach(F=>{F[0].parent.id==S.target.id&&(F[1]=S.target.checked)}),n(3,f)},v=S=>{let F=S.target.value;F=="on"&&(F=S.target.id),d.contains(F)?d.remove(F):d.push(F),n(5,d)},_=S=>{d.contains(S)&&d.remove(S),n(5,d)},b=S=>kt(void 0,void 0,void 0,function*(){let F=yield Pr();n(4,c=F.map(z=>[z,!0]));let ae=yield Ut({startDate:window.moment(S.target.value).local()});n(3,f=ae.map(z=>[z,!0])),n(3,f)}),E=()=>c.filter(S=>S[1]).map(S=>S[0].id),w=()=>{new Rh(app,S=>{let F={name:S,insertType:u,tableOptions:d,calendarList:E()};n(0,o.settings.insertTemplates=[...o.settings.insertTemplates,F],o),o.saveSettings(),Pe("Added template")}).open()},C=S=>{let F=S.target.value;if(F=="None")return;let z=o.settings.insertTemplates.find(X=>X.name==F);!z||(n(2,u=z.insertType),n(5,d=z.tableOptions),c.forEach(X=>X[1]=z.calendarList.contains(X[0].id)),f.forEach(X=>X[1]=z.calendarList.contains(X[0].parent.id)),n(4,c),n(3,f))};function A(){a=na(this),n(1,a),n(0,o)}function Y(){u=na(this),n(2,u)}function M(S,F){S[F][1]=this.checked,n(4,c)}function P(S,F){S[F][1]=this.checked,n(3,f)}let L=S=>_(S);return t.$$set=S=>{"onSubmit"in S&&n(13,r=S.onSubmit),"insertEventsModal"in S&&n(14,i=S.insertEventsModal)},[o,a,u,f,c,d,m,h,v,_,b,w,C,r,i,A,Y,M,P,L]}var _T=class extends We{constructor(e){super();je(this,e,o4,i4,Re,{onSubmit:13,insertEventsModal:14},$I,[-1,-1])}},yT=_T;var bT=Me(di()),Ih=class extends wT.Modal{constructor(e){super(we.getInstance().app);this.editor=e}onOpen(){return $(this,null,function*(){let{contentEl:e}=this;new yT({target:e,props:{onSubmit:this.onSubmit,insertEventsModal:this}})})}onClose(){let{contentEl:e}=this;e.empty()}onSubmit(e,n,r,i){let o="",a="",u="";e=="bullet"?(n.forEach(f=>{u+=`
- ${`[${f.summary}](${f.htmlLink}&cal=${f.parent.id})`}`}),i.editor.replaceRange(u,i.editor.getCursor())):e=="table"&&(r.forEach(f=>{f=f.split(".").join(" ").toLocaleUpperCase(),o+=`| ${f} `,a+="| --- "}),o+=`|
`,a+=`|
`,n.forEach(f=>{r.forEach(c=>{let d=bT.default.get(f,c.substring(1),"");c==".summary"&&(d=`[${d}](${f.htmlLink}&cal=${f.parent.id})`),c.startsWith(".start")&&!c.contains("timeZone")&&(d=(f.start.date?window.moment(f.start.date):window.moment(f.start.dateTime)).format("YYYY-MM-DD HH:mm")),c.startsWith(".end")&&!c.contains("timeZone")&&(d=(f.start.date?window.moment(f.end.date):window.moment(f.end.dateTime)).format("YYYY-MM-DD HH:mm")),u+=`| ${d} `}),u+=`|
`}),i.editor.replaceRange(o+a+u,i.editor.getCursor())),i.close()}};var Lh=class{constructor(){}make(){return{getCalendars:()=>gr(),getEvent:(e,n)=>as(e,n),getEvents:e=>pm(e),createEvent:e=>Tm(e),deleteEvent:(e,n=!1)=>Pl(e,n),updateEvent:(e,n=!1)=>ls(e,n),createEventNote:(e,n,r)=>yr(e,n,r)}}};var Fh=Me(require("obsidian"));var iu=Me(di());var kT=(t,e,n)=>{if(t<0&&(t=e.length+t),!(t>=e.length&&t>=0))return t+1<e.length?n.substring(e[t].position.start.offset,e[t+1].position.start.offset-1):n.substring(e[t].position.start.offset,n.length)},Wh=t=>$(void 0,null,function*(){var d,m,h,v,_,b,E,w;let e=we.getInstance(),n=yield app.vault.adapter.read((0,Fh.normalizePath)(t.file.path)),r=(h=iu.default.cloneDeep((m=(d=app==null?void 0:app.metadataCache)==null?void 0:d.getFileCache(t.file))==null?void 0:m.frontmatter))!=null?h:{},i=/\[([^[]*)::([^[]*)\]/gm,o,a=[];do o=i.exec(n),a.push(o);while(o);if(a.forEach(C=>{C&&iu.default.set(r,C[1].trim(),C[2].trim())}),!r){Pe("No frontmatter found in note",!0);return}let u=s4(r);for(let[C,A]of Object.entries(u)){let Y=iu.default.get(r,C,null);Y&&iu.default.set(r,A,Y)}let c=(yield Pr()).find(C=>{var A,Y;return C.id==((A=r.calendar)!=null?A:e.settings.defaultCalendar)||C.summary==((Y=r.calendar)!=null?Y:e.settings.defaultCalendar)});if(!c){Pe("Event not created. Calendar not defined. Set a default calendar in the settings or set the field calendar");return}if(r.parent=c,r.summary||(r.summary=t.file.basename),r.description){if(typeof r.description=="string"){if(((v=r.description)==null?void 0:v.toLowerCase())=="header"&&(r.description="",((_=app==null?void 0:app.metadataCache)==null?void 0:_.getFileCache(t.file).headings).forEach(A=>{r.description+=`<h${A.level}>${A.heading}</h${A.level}>`})),((b=r.description)==null?void 0:b.toLowerCase())=="file"){let C=Ne.parse(n.substring((E=app==null?void 0:app.metadataCache)==null?void 0:E.getFileCache(t.file).frontmatterPosition.end.offset));r.description=C}}else if(typeof r.description=="object"){let C=(w=app==null?void 0:app.metadataCache)==null?void 0:w.getFileCache(t.file).headings,A=r.description.map(M=>{if(typeof M=="number"){let P=kT(M,C,n);return P||-1}else if(typeof M=="object"){if(M.length!=2)return-1;let[P,L]=M;if(P<0&&(P=C.length+P),L<0&&(L=C.length+L),P>=C.length||L>=C.length||P<0||L<0||P>L)return-1;let S="";for(let F=P;F<=L;F++){let ae=kT(F,C,n);if(!ae)return-1;S+=ae+`
`}return S}});if(A.contains(-1)){Pe("Event not created.A Header in the header list is out of range",!0);return}let Y=Ne.parse(A.join(`
`));r.description=Y}}if(!r.start&&!r.startTime&&(r.start={date:window.moment()}),!r.end&&!r.endTime&&(r.end=r.start),r.start.date?(r.start.date=window.moment(r.start.date).format("YYYY-MM-DD"),r.end.date=window.moment(r.end.date).format("YYYY-MM-DD")):(r.start.dateTime=window.moment(r.start.dateTime).format(),r.end.dateTime=window.moment(r.end.dateTime).format()),r.recurrence)try{let C=ty.fromText(r.recurrence),A=new ps;A.rrule(C),r.recurrence=A.valueOf()}catch(C){Pe("Event not created. Error in recurrence text.",!0);return}return r.id=r["event-id"],r}),s4=t=>{var n,r;let e=new Map;if(typeof t.mapping=="string"){t.mapping.endsWith(".md")||(t.mapping+=".md");let i=(0,Fh.normalizePath)(t.mapping),o=app.vault.getAbstractFileByPath(i);if(!o)return Pe(`Mapping Error, file "${i}" not found.`),e;if(t=(r=(n=app==null?void 0:app.metadataCache)==null?void 0:n.getFileCache(o))==null?void 0:r.frontmatter,!t)return Pe(`Mapping Error, file "${i}" does not contain frontmatter.`),e}return t.mapping?t.mapping:e};var ET=Me(require("obsidian"));var TT=t=>$(void 0,null,function*(){var f,c;if(ET.Platform.isMobile)return;let e=we.getInstance(),{remote:n}=require("electron"),{file:r}=ko(t,e),i=r?"Open Note":"Create Note",o=(f=t.summary)!=null?f:"Event started",a=(c=t.description)!=null?c:"",u;process.platform==="win32"?u=new n.Notification({toastXml:`
            <toast 
                content="Open Note"
                arguments="obsidian://googleOpenNote?event=${t.id}::${t.parent.id}"
                activationType="protocol"
            >
                <visual>
                    <binding template="ToastGeneric">
                        <text>Google event now</text>
                        <text>Title: ${o}</text>
                        <text>Description: ${a}</text>
                    </binding>
                </visual>

                <actions>
                    <action
                        content="${i}"
                        arguments="obsidian://googleOpenNote?event=${t.id}::${t.parent.id}"
                        activationType="protocol"/>

                    <action activationType="background" content="Dismiss" arguments="dismiss"/>
                </actions>
            </toast>`}):process.platform==="darwin"&&(u=new n.Notification({title:o,body:a,actions:[{type:"button",text:i},{type:"button",text:"Dismiss"}]}),u.on("action",(d,m)=>{m===0&&window.open(`obsidian://googleOpenNote?event=${t.id}::${t.parent.id}`)})),u.show()});var CT=Me(di());var ST=(t,e)=>$(void 0,null,function*(){var u,f,c;let n=t.getValue(),r=(c=CT.default.cloneDeep((f=(u=app==null?void 0:app.metadataCache)==null?void 0:u.getFileCache(e.file))==null?void 0:f.frontmatter))!=null?c:{};if(!r["event-id"]){Pe("No event id found in note",!0);return}let i=r["event-id"],o=yield as(i);if(yield Pl(o)){let d=new RegExp(`event-id: ${i}(\r
|\r|
)`,"g");n=n.replace(d,""),t.setValue(n)}});var a4={googleClientId:"",googleClientSecret:"",googleRefreshToken:"",useCustomClient:!0,googleOAuthServer:"https://obsidian-google-calendar.vercel.app",refreshInterval:10,useNotification:!1,showNotice:!0,autoCreateEventNotes:!0,autoCreateEventNotesMarker:"obsidian",ignorePatternList:[],autoCreateEventKeepOpen:!1,importStartOffset:1,importEndOffset:1,optionalNotePrefix:"",eventNoteNameFormat:"{{prefix}}{{event-title}}",defaultCalendar:"",calendarBlackList:[],insertTemplates:[],useDefaultTemplate:!1,defaultTemplate:"",defaultFolder:app.vault.config.newFileFolderPath,activateDailyNoteAddon:!1,dailyNoteDotColor:"#6aa1d8",useWeeklyNotes:!1,debugMode:!1,timelineHourFormat:0,atAnnotationEnabled:!0,usDateFormat:!0,viewSettings:{day:{type:"day",exclude:[],include:[],hourRange:[0,24],offset:0,timespan:1,showAllDay:!0,navigation:!0},week:{type:"week",exclude:[],include:[],hourRange:[0,24],offset:0,timespan:7,showAllDay:!0,navigation:!0},schedule:{type:"schedule",exclude:[],include:[],hourRange:[0,24],offset:0,timespan:7,showAllDay:!0,navigation:!0},month:{type:"month",exclude:[],include:[],offset:0},year:{type:"year",exclude:[],include:[],offset:0,size:15},web:{type:"web",theme:"auto",view:"day",offset:0}}},we=class extends Lo.Plugin{constructor(){super(...arguments);this.events=[];this.initView=(e,n,r)=>$(this,null,function*(){this.app.workspace.getLeavesOfType(e).length===0&&(Lo.Platform.isMobile||e===Fa||e===Ro?yield this.app.workspace.getLeaf(!0).setViewState({type:e}):yield this.app.workspace.getRightLeaf(!1).setViewState({type:e}));let i=this.app.workspace.getLeavesOfType(e).first();return e===Qn&&i.view instanceof Zf&&(i.view.setEvent(n),i.view.setCloseFunction(r)),this.app.workspace.revealLeaf(i),i});this.onLayoutReady=()=>$(this,null,function*(){var r;Qs(this),ho(this);let e=(r=this.app.internalPlugins)==null?void 0:r.plugins.templates;e&&e.enabled&&(this.coreTemplatePlugin=e);let n=this.app.plugins.plugins["templater-obsidian"];n&&n._loaded&&(this.templaterPlugin=n),yield xm(this)})}static getInstance(){return we.instance}onload(){return $(this,null,function*(){if(we.instance=this,this.api=new Lh().make(),yield this.loadSettings(),this.app.workspace.onLayoutReady(this.onLayoutReady),this.events.push(this.app.vault.on("create",()=>{Qs(this),ho(this)})),this.events.push(this.app.vault.on("delete",()=>{Qs(this),ho(this)})),this.events.push(this.app.vault.on("rename",()=>{Qs(this),ho(this)})),this.events.forEach(e=>{this.registerEvent(e)}),this.settings.useNotification){let e=window.setInterval(()=>$(this,null,function*(){let n=yield Ut(),r=window.moment();n.filter(o=>o.start.date?!1:window.moment(o.start.dateTime).isSame(r,"minute")).forEach(o=>{TT(o)})}),1e3*60);this.registerInterval(e)}this.registerMarkdownCodeBlockProcessor("gEvent",(e,n,r)=>JE(e,n,r)),this.registerEditorSuggest(new Nh(this.app)),this.registerView(Ts,e=>new Ql(e)),this.registerView(Ro,e=>new $l(e)),this.registerView(tu,e=>new Mh(e)),this.registerView(nu,e=>new xh(e)),this.registerView(Fa,e=>new Ph(e)),this.registerView(No,e=>new La(e)),this.registerView(Qn,e=>new Zf(e,{start:{},end:{}},()=>{})),this.registerEvent(this.app.workspace.on("editor-change",e=>{nT(e,this),iT(e)})),this.addCommand({id:"open-google-calendar-timline-view",name:"Open gCal Timeline View",callback:()=>this.initView(Ts)}),this.addCommand({id:"open-google-calendar-week-view",name:"Open gCal week view",callback:()=>this.initView(Ro)}),this.addCommand({id:"open-google-calendar-month-view",name:"Open gCal month view",callback:()=>this.initView(tu)}),this.addCommand({id:"open-google-calendar-year-view",name:"Open gCal year view",callback:()=>this.initView(nu)}),this.addCommand({id:"open-google-calendar-web-view",name:"Open gCal Web View",callback:()=>this.initView(Fa)}),this.addCommand({id:"open-google-calendar-schedule-view",name:"Open gCal Schedule View",callback:()=>this.initView(No)}),this.addCommand({id:"create-google-calendar-event",name:"Create gCal Event inside Popup",checkCallback:e=>{let n=Ot();if(e)return n;!n||new wr({start:{},end:{}},()=>{tn()}).open()}}),this.addCommand({id:"create-google-calendar-event-view",name:"Create gCal Event inside View",checkCallback:e=>{let n=Ot();if(e)return n;!n||this.initView(Qn,{start:{},end:{}},()=>{tn()})}}),this.addCommand({id:"list-google-calendars",name:"List Google Calendars",checkCallback:e=>{let n=Ot();if(e)return n;!n||Pr().then(r=>{new jm(r).open()})}}),this.addCommand({id:"list-google-events",name:"List gCal Events",checkCallback:e=>{let n=Ot();if(e)return n;!n||Ut().then(r=>{new br(r,"details").open()})}}),this.addCommand({id:"google-calendar-trigger-auto-import",name:"gCal Trigger Auto Import",checkCallback:e=>{let n=Ot();if(e)return n;!n||xm(this)}}),this.addCommand({id:"google-calendar-create-event-note",name:"Create Event Note",checkCallback:e=>{let n=Ot();if(e)return n;!n||Ut().then(r=>{new br(r,"createNote").open()})}}),this.addCommand({id:"google-calendar-create-event-note-current-event",name:"Create Event Note for Current gCal Event",checkCallback:e=>{let n=Ot();if(e)return n;!n||Ut().then(r=>{let i=r.filter(o=>{if(o.start.date)return!1;let a=window.moment(o.start.dateTime),u=window.moment(o.end.dateTime),f=window.moment();return!(f.isBefore(a)||f.isAfter(u))});i.length==0&&(i=r.filter(o=>{if(o.start.date)return!1;let a=window.moment(o.start.dateTime).subtract(1,"hour"),u=window.moment(o.end.dateTime),f=window.moment();return!(f.isBefore(a)||f.isAfter(u))})),i.length==0&&(i=r.filter(o=>!!o.start.date)),i.length==1?this.settings.useDefaultTemplate&&this.settings.defaultFolder&&this.settings.defaultFolder?yr(i[0],this.settings.defaultFolder,this.settings.defaultTemplate):new Eo(i[0],()=>{}).open():new br(i,"createNote").open()})}}),this.addCommand({id:"insert-google-event-codeblock",name:"Insert gCal Event CodeBlock",editorCallback:e=>{e.replaceRange("```gEvent\ndate: "+window.moment().format("YYYY-MM-DD")+"\ntype: day\n```",e.getCursor())}}),this.addCommand({id:"insert-google-event-template",name:"Insert gCal Event Template",editorCallback:e=>{e.replaceRange("{{gEvent.}}",e.getCursor());let n=e.getCursor();n.ch+="{{gEvent.".length,e.setCursor(n)}}),this.addCommand({id:"insert-google-events",name:"Insert gCal Events",editorCheckCallback:(e,n)=>{let r=Ot();if(e)return r;!r||new Ih(n).open()}}),this.addCommand({id:"create-google-calendar-event-from-frontmatter ",name:"Create gCal Event from Frontmatter",editorCheckCallback:(e,n,r)=>{let i=Ot();if(e)return i;!i||!r.file||Wh(r).then(o=>{!o||o.id||Nf(o).then(a=>{let u=n.getValue();u=u.replace("---",`---
event-id: ${a.id}`),n.setValue(u)})})}}),this.addCommand({id:"update-google-calendar-event-from-frontmatter ",name:"Update gCal Event from Frontmatter",editorCheckCallback:(e,n,r)=>{let i=Ot();if(e)return i;!i||!r.file||Wh(r).then(o=>$(this,null,function*(){if(!o||!o.id){Pe("No event id found in note",!0);return}let a=yield as(o.id);o.parent=a.parent,Pf(o)}))}}),this.addCommand({id:"delete-google-calendar-event-from-frontmatter ",name:"Delete gCal Event from Frontmatter",editorCheckCallback:(e,n,r)=>{let i=Ot();if(e)return i;!i||!r.file||ST(n,r)}}),this.addCommand({id:"open-google-calendar-event-from-frontmatter",name:"Open gCal Event from Frontmatter",editorCheckCallback:(e,n,r)=>{var a,u;let i=Ot();if(e)return i;if(!i||!r.file)return;let o=(u=(a=app==null?void 0:app.metadataCache)==null?void 0:a.getFileCache(r.file).frontmatter)==null?void 0:u["event-id"];if(!o){Pe("No event id found in note",!0);return}ri(o).then(f=>{new wr(f,()=>{}).open()})}}),this.settingsTab=new cm(this.app,this),this.addSettingTab(this.settingsTab),this.registerObsidianProtocolHandler("googleLogin",e=>$(this,null,function*(){if(!Lo.Platform.isDesktop&&e.code){p_(e.code,e.state);return}Lo.Platform.isMobile&&e.at&&(Wi(e.at),fo(e.rt),Yi(+new Date+36e5),new Lo.Notice("Login successful!"),this.settingsTab.display())})),this.registerObsidianProtocolHandler("googleOpenNote",e=>$(this,null,function*(){if(!e.event)return;let[n,r]=e.event.split("::"),i=yield ri(n,r),{file:o}=ko(i,this);o?app.workspace.getLeaf(!0).openFile(o):this.settings.useDefaultTemplate&&this.settings.defaultFolder&&this.settings.defaultFolder?yr(i,this.settings.defaultFolder,this.settings.defaultTemplate):new Eo(i,a=>o=a).open()}))})}onunload(){this.app.workspace.detachLeavesOfType(Ts),this.app.workspace.detachLeavesOfType(Ro),this.app.workspace.detachLeavesOfType(tu),this.app.workspace.detachLeavesOfType(nu),this.app.workspace.detachLeavesOfType(Fa),this.app.workspace.detachLeavesOfType(No),this.app.workspace.detachLeavesOfType(Qn);for(let e in this.events)this.app.vault.offref(e);this.events=[]}loadSettings(){return $(this,null,function*(){this.settings=Object.assign({},a4,yield this.loadData())})}saveSettings(){return $(this,null,function*(){yield this.saveData(this.settings)})}};
/*!
 * rrule.js - Library for working with recurrence rules for calendar dates.
 * https://github.com/jakubroztocil/rrule
 *
 * Copyright 2010, Jakub Roztocil and Lars Schoning
 * Licenced under the BSD licence.
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 * Based on:
 * python-dateutil - Extensions to the standard Python datetime module.
 * Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
 * Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 */
/*!
* rrule.js - Library for working with recurrence rules for calendar dates.
* https://github.com/jakubroztocil/rrule
*
* Copyright 2010, Jakub Roztocil and Lars Schoning
* Licenced under the BSD licence.
* https://github.com/jakubroztocil/rrule/blob/master/LICENCE
*
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/* nosourcemap */